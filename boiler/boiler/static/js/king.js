(function(root){root.Parse=root.Parse||{},root.Parse.VERSION="js1.2.12"})(this),function(){var root=this,previousUnderscore=root._,breaker={},ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype,push=ArrayProto.push,slice=ArrayProto.slice,concat=ArrayProto.concat,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,nativeForEach=ArrayProto.forEach,nativeMap=ArrayProto.map,nativeReduce=ArrayProto.reduce,nativeReduceRight=ArrayProto.reduceRight,nativeFilter=ArrayProto.filter,nativeEvery=ArrayProto.every,nativeSome=ArrayProto.some,nativeIndexOf=ArrayProto.indexOf,nativeLastIndexOf=ArrayProto.lastIndexOf,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind,_=function(obj){return obj instanceof _?obj:this instanceof _?(this._wrapped=obj,void 0):new _(obj)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):root._=_,_.VERSION="1.4.4";var each=_.each=_.forEach=function(obj,iterator,context){if(null!=obj)if(nativeForEach&&obj.forEach===nativeForEach)obj.forEach(iterator,context);else if(obj.length===+obj.length){for(var i=0,l=obj.length;l>i;i++)if(iterator.call(context,obj[i],i,obj)===breaker)return}else for(var key in obj)if(_.has(obj,key)&&iterator.call(context,obj[key],key,obj)===breaker)return};_.map=_.collect=function(obj,iterator,context){var results=[];return null==obj?results:nativeMap&&obj.map===nativeMap?obj.map(iterator,context):(each(obj,function(value,index,list){results[results.length]=iterator.call(context,value,index,list)}),results)};var reduceError="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(obj,iterator,memo,context){var initial=arguments.length>2;if(null==obj&&(obj=[]),nativeReduce&&obj.reduce===nativeReduce)return context&&(iterator=_.bind(iterator,context)),initial?obj.reduce(iterator,memo):obj.reduce(iterator);if(each(obj,function(value,index,list){initial?memo=iterator.call(context,memo,value,index,list):(memo=value,initial=!0)}),!initial)throw new TypeError(reduceError);return memo},_.reduceRight=_.foldr=function(obj,iterator,memo,context){var initial=arguments.length>2;if(null==obj&&(obj=[]),nativeReduceRight&&obj.reduceRight===nativeReduceRight)return context&&(iterator=_.bind(iterator,context)),initial?obj.reduceRight(iterator,memo):obj.reduceRight(iterator);var length=obj.length;if(length!==+length){var keys=_.keys(obj);length=keys.length}if(each(obj,function(value,index,list){index=keys?keys[--length]:--length,initial?memo=iterator.call(context,memo,obj[index],index,list):(memo=obj[index],initial=!0)}),!initial)throw new TypeError(reduceError);return memo},_.find=_.detect=function(obj,iterator,context){var result;return any(obj,function(value,index,list){return iterator.call(context,value,index,list)?(result=value,!0):void 0}),result},_.filter=_.select=function(obj,iterator,context){var results=[];return null==obj?results:nativeFilter&&obj.filter===nativeFilter?obj.filter(iterator,context):(each(obj,function(value,index,list){iterator.call(context,value,index,list)&&(results[results.length]=value)}),results)},_.reject=function(obj,iterator,context){return _.filter(obj,function(value,index,list){return!iterator.call(context,value,index,list)},context)},_.every=_.all=function(obj,iterator,context){iterator||(iterator=_.identity);var result=!0;return null==obj?result:nativeEvery&&obj.every===nativeEvery?obj.every(iterator,context):(each(obj,function(value,index,list){return(result=result&&iterator.call(context,value,index,list))?void 0:breaker}),!!result)};var any=_.some=_.any=function(obj,iterator,context){iterator||(iterator=_.identity);var result=!1;return null==obj?result:nativeSome&&obj.some===nativeSome?obj.some(iterator,context):(each(obj,function(value,index,list){return result||(result=iterator.call(context,value,index,list))?breaker:void 0}),!!result)};_.contains=_.include=function(obj,target){return null==obj?!1:nativeIndexOf&&obj.indexOf===nativeIndexOf?-1!=obj.indexOf(target):any(obj,function(value){return value===target})},_.invoke=function(obj,method){var args=slice.call(arguments,2),isFunc=_.isFunction(method);return _.map(obj,function(value){return(isFunc?method:value[method]).apply(value,args)})},_.pluck=function(obj,key){return _.map(obj,function(value){return value[key]})},_.where=function(obj,attrs,first){return _.isEmpty(attrs)?first?null:[]:_[first?"find":"filter"](obj,function(value){for(var key in attrs)if(attrs[key]!==value[key])return!1;return!0})},_.findWhere=function(obj,attrs){return _.where(obj,attrs,!0)},_.max=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&65535>obj.length)return Math.max.apply(Math,obj);if(!iterator&&_.isEmpty(obj))return-1/0;var result={computed:-1/0,value:-1/0};return each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed>=result.computed&&(result={value:value,computed:computed})}),result.value},_.min=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&65535>obj.length)return Math.min.apply(Math,obj);if(!iterator&&_.isEmpty(obj))return 1/0;var result={computed:1/0,value:1/0};return each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;result.computed>computed&&(result={value:value,computed:computed})}),result.value},_.shuffle=function(obj){var rand,index=0,shuffled=[];return each(obj,function(value){rand=_.random(index++),shuffled[index-1]=shuffled[rand],shuffled[rand]=value}),shuffled};var lookupIterator=function(value){return _.isFunction(value)?value:function(obj){return obj[value]}};_.sortBy=function(obj,value,context){var iterator=lookupIterator(value);return _.pluck(_.map(obj,function(value,index,list){return{value:value,index:index,criteria:iterator.call(context,value,index,list)}}).sort(function(left,right){var a=left.criteria,b=right.criteria;if(a!==b){if(a>b||void 0===a)return 1;if(b>a||void 0===b)return-1}return left.index<right.index?-1:1}),"value")};var group=function(obj,value,context,behavior){var result={},iterator=lookupIterator(value||_.identity);return each(obj,function(value,index){var key=iterator.call(context,value,index,obj);behavior(result,key,value)}),result};_.groupBy=function(obj,value,context){return group(obj,value,context,function(result,key,value){(_.has(result,key)?result[key]:result[key]=[]).push(value)})},_.countBy=function(obj,value,context){return group(obj,value,context,function(result,key){_.has(result,key)||(result[key]=0),result[key]++})},_.sortedIndex=function(array,obj,iterator,context){iterator=null==iterator?_.identity:lookupIterator(iterator);for(var value=iterator.call(context,obj),low=0,high=array.length;high>low;){var mid=low+high>>>1;value>iterator.call(context,array[mid])?low=mid+1:high=mid}return low},_.toArray=function(obj){return obj?_.isArray(obj)?slice.call(obj):obj.length===+obj.length?_.map(obj,_.identity):_.values(obj):[]},_.size=function(obj){return null==obj?0:obj.length===+obj.length?obj.length:_.keys(obj).length},_.first=_.head=_.take=function(array,n,guard){return null==array?void 0:null==n||guard?array[0]:slice.call(array,0,n)},_.initial=function(array,n,guard){return slice.call(array,0,array.length-(null==n||guard?1:n))},_.last=function(array,n,guard){return null==array?void 0:null==n||guard?array[array.length-1]:slice.call(array,Math.max(array.length-n,0))},_.rest=_.tail=_.drop=function(array,n,guard){return slice.call(array,null==n||guard?1:n)},_.compact=function(array){return _.filter(array,_.identity)};var flatten=function(input,shallow,output){return each(input,function(value){_.isArray(value)?shallow?push.apply(output,value):flatten(value,shallow,output):output.push(value)}),output};_.flatten=function(array,shallow){return flatten(array,shallow,[])},_.without=function(array){return _.difference(array,slice.call(arguments,1))},_.uniq=_.unique=function(array,isSorted,iterator,context){_.isFunction(isSorted)&&(context=iterator,iterator=isSorted,isSorted=!1);var initial=iterator?_.map(array,iterator,context):array,results=[],seen=[];return each(initial,function(value,index){(isSorted?index&&seen[seen.length-1]===value:_.contains(seen,value))||(seen.push(value),results.push(array[index]))}),results},_.union=function(){return _.uniq(concat.apply(ArrayProto,arguments))},_.intersection=function(array){var rest=slice.call(arguments,1);return _.filter(_.uniq(array),function(item){return _.every(rest,function(other){return _.indexOf(other,item)>=0})})},_.difference=function(array){var rest=concat.apply(ArrayProto,slice.call(arguments,1));return _.filter(array,function(value){return!_.contains(rest,value)})},_.zip=function(){for(var args=slice.call(arguments),length=_.max(_.pluck(args,"length")),results=Array(length),i=0;length>i;i++)results[i]=_.pluck(args,""+i);return results},_.object=function(list,values){if(null==list)return{};for(var result={},i=0,l=list.length;l>i;i++)values?result[list[i]]=values[i]:result[list[i][0]]=list[i][1];return result},_.indexOf=function(array,item,isSorted){if(null==array)return-1;var i=0,l=array.length;if(isSorted){if("number"!=typeof isSorted)return i=_.sortedIndex(array,item),array[i]===item?i:-1;i=0>isSorted?Math.max(0,l+isSorted):isSorted}if(nativeIndexOf&&array.indexOf===nativeIndexOf)return array.indexOf(item,isSorted);for(;l>i;i++)if(array[i]===item)return i;return-1},_.lastIndexOf=function(array,item,from){if(null==array)return-1;var hasIndex=null!=from;if(nativeLastIndexOf&&array.lastIndexOf===nativeLastIndexOf)return hasIndex?array.lastIndexOf(item,from):array.lastIndexOf(item);for(var i=hasIndex?from:array.length;i--;)if(array[i]===item)return i;return-1},_.range=function(start,stop,step){1>=arguments.length&&(stop=start||0,start=0),step=arguments[2]||1;for(var len=Math.max(Math.ceil((stop-start)/step),0),idx=0,range=Array(len);len>idx;)range[idx++]=start,start+=step;return range},_.bind=function(func,context){if(func.bind===nativeBind&&nativeBind)return nativeBind.apply(func,slice.call(arguments,1));var args=slice.call(arguments,2);return function(){return func.apply(context,args.concat(slice.call(arguments)))}},_.partial=function(func){var args=slice.call(arguments,1);return function(){return func.apply(this,args.concat(slice.call(arguments)))}},_.bindAll=function(obj){var funcs=slice.call(arguments,1);return 0===funcs.length&&(funcs=_.functions(obj)),each(funcs,function(f){obj[f]=_.bind(obj[f],obj)}),obj},_.memoize=function(func,hasher){var memo={};return hasher||(hasher=_.identity),function(){var key=hasher.apply(this,arguments);return _.has(memo,key)?memo[key]:memo[key]=func.apply(this,arguments)}},_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(null,args)},wait)},_.defer=function(func){return _.delay.apply(_,[func,1].concat(slice.call(arguments,1)))},_.throttle=function(func,wait){var context,args,timeout,result,previous=0,later=function(){previous=new Date,timeout=null,result=func.apply(context,args)};return function(){var now=new Date,remaining=wait-(now-previous);return context=this,args=arguments,0>=remaining?(clearTimeout(timeout),timeout=null,previous=now,result=func.apply(context,args)):timeout||(timeout=setTimeout(later,remaining)),result}},_.debounce=function(func,wait,immediate){var timeout,result;return function(){var context=this,args=arguments,later=function(){timeout=null,immediate||(result=func.apply(context,args))},callNow=immediate&&!timeout;return clearTimeout(timeout),timeout=setTimeout(later,wait),callNow&&(result=func.apply(context,args)),result}},_.once=function(func){var memo,ran=!1;return function(){return ran?memo:(ran=!0,memo=func.apply(this,arguments),func=null,memo)}},_.wrap=function(func,wrapper){return function(){var args=[func];return push.apply(args,arguments),wrapper.apply(this,args)}},_.compose=function(){var funcs=arguments;return function(){for(var args=arguments,i=funcs.length-1;i>=0;i--)args=[funcs[i].apply(this,args)];return args[0]}},_.after=function(times,func){return 0>=times?func():function(){return 1>--times?func.apply(this,arguments):void 0}},_.keys=nativeKeys||function(obj){if(obj!==Object(obj))throw new TypeError("Invalid object");var keys=[];for(var key in obj)_.has(obj,key)&&(keys[keys.length]=key);return keys},_.values=function(obj){var values=[];for(var key in obj)_.has(obj,key)&&values.push(obj[key]);return values},_.pairs=function(obj){var pairs=[];for(var key in obj)_.has(obj,key)&&pairs.push([key,obj[key]]);return pairs},_.invert=function(obj){var result={};for(var key in obj)_.has(obj,key)&&(result[obj[key]]=key);return result},_.functions=_.methods=function(obj){var names=[];for(var key in obj)_.isFunction(obj[key])&&names.push(key);return names.sort()},_.extend=function(obj){return each(slice.call(arguments,1),function(source){if(source)for(var prop in source)obj[prop]=source[prop]}),obj},_.pick=function(obj){var copy={},keys=concat.apply(ArrayProto,slice.call(arguments,1));return each(keys,function(key){key in obj&&(copy[key]=obj[key])}),copy},_.omit=function(obj){var copy={},keys=concat.apply(ArrayProto,slice.call(arguments,1));for(var key in obj)_.contains(keys,key)||(copy[key]=obj[key]);return copy},_.defaults=function(obj){return each(slice.call(arguments,1),function(source){if(source)for(var prop in source)null==obj[prop]&&(obj[prop]=source[prop])}),obj},_.clone=function(obj){return _.isObject(obj)?_.isArray(obj)?obj.slice():_.extend({},obj):obj},_.tap=function(obj,interceptor){return interceptor(obj),obj};var eq=function(a,b,aStack,bStack){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof _&&(a=a._wrapped),b instanceof _&&(b=b._wrapped);var className=toString.call(a);if(className!=toString.call(b))return!1;switch(className){case"[object String]":return a==b+"";case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var length=aStack.length;length--;)if(aStack[length]==a)return bStack[length]==b;aStack.push(a),bStack.push(b);var size=0,result=!0;if("[object Array]"==className){if(size=a.length,result=size==b.length)for(;size--&&(result=eq(a[size],b[size],aStack,bStack)););}else{var aCtor=a.constructor,bCtor=b.constructor;if(aCtor!==bCtor&&!(_.isFunction(aCtor)&&aCtor instanceof aCtor&&_.isFunction(bCtor)&&bCtor instanceof bCtor))return!1;for(var key in a)if(_.has(a,key)&&(size++,!(result=_.has(b,key)&&eq(a[key],b[key],aStack,bStack))))break;if(result){for(key in b)if(_.has(b,key)&&!size--)break;result=!size}}return aStack.pop(),bStack.pop(),result};_.isEqual=function(a,b){return eq(a,b,[],[])},_.isEmpty=function(obj){if(null==obj)return!0;if(_.isArray(obj)||_.isString(obj))return 0===obj.length;for(var key in obj)if(_.has(obj,key))return!1;return!0},_.isElement=function(obj){return!(!obj||1!==obj.nodeType)},_.isArray=nativeIsArray||function(obj){return"[object Array]"==toString.call(obj)},_.isObject=function(obj){return obj===Object(obj)},each(["Arguments","Function","String","Number","Date","RegExp"],function(name){_["is"+name]=function(obj){return toString.call(obj)=="[object "+name+"]"}}),_.isArguments(arguments)||(_.isArguments=function(obj){return!(!obj||!_.has(obj,"callee"))}),_.isFunction=function(obj){return"function"==typeof obj},_.isFinite=function(obj){return isFinite(obj)&&!isNaN(parseFloat(obj))},_.isNaN=function(obj){return _.isNumber(obj)&&obj!=+obj},_.isBoolean=function(obj){return obj===!0||obj===!1||"[object Boolean]"==toString.call(obj)},_.isNull=function(obj){return null===obj},_.isUndefined=function(obj){return void 0===obj},_.has=function(obj,key){return hasOwnProperty.call(obj,key)},_.noConflict=function(){return root._=previousUnderscore,this},_.identity=function(value){return value},_.times=function(n,iterator,context){for(var accum=Array(n),i=0;n>i;i++)accum[i]=iterator.call(context,i);return accum},_.random=function(min,max){return null==max&&(max=min,min=0),min+Math.floor(Math.random()*(max-min+1))};var entityMap={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};entityMap.unescape=_.invert(entityMap.escape);var entityRegexes={escape:RegExp("["+_.keys(entityMap.escape).join("")+"]","g"),unescape:RegExp("("+_.keys(entityMap.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(method){_[method]=function(string){return null==string?"":(""+string).replace(entityRegexes[method],function(match){return entityMap[method][match]})}}),_.result=function(object,property){if(null==object)return null;var value=object[property];return _.isFunction(value)?value.call(object):value},_.mixin=function(obj){each(_.functions(obj),function(name){var func=_[name]=obj[name];_.prototype[name]=function(){var args=[this._wrapped];return push.apply(args,arguments),result.call(this,func.apply(_,args))}})};var idCounter=0;_.uniqueId=function(prefix){var id=++idCounter+"";return prefix?prefix+id:id},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/,escapes={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},escaper=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(text,data,settings){var render;settings=_.defaults({},settings,_.templateSettings);var matcher=RegExp([(settings.escape||noMatch).source,(settings.interpolate||noMatch).source,(settings.evaluate||noMatch).source].join("|")+"|$","g"),index=0,source="__p+='";text.replace(matcher,function(match,escape,interpolate,evaluate,offset){return source+=text.slice(index,offset).replace(escaper,function(match){return"\\"+escapes[match]}),escape&&(source+="'+\n((__t=("+escape+"))==null?'':_.escape(__t))+\n'"),interpolate&&(source+="'+\n((__t=("+interpolate+"))==null?'':__t)+\n'"),evaluate&&(source+="';\n"+evaluate+"\n__p+='"),index=offset+match.length,match}),source+="';\n",settings.variable||(source="with(obj||{}){\n"+source+"}\n"),source="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+source+"return __p;\n";try{render=Function(settings.variable||"obj","_",source)}catch(e){throw e.source=source,e}if(data)return render(data,_);var template=function(data){return render.call(this,data,_)};return template.source="function("+(settings.variable||"obj")+"){\n"+source+"}",template},_.chain=function(obj){return _(obj).chain()};var result=function(obj){return this._chain?_(obj).chain():obj};_.mixin(_),each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){var obj=this._wrapped;return method.apply(obj,arguments),"shift"!=name&&"splice"!=name||0!==obj.length||delete obj[0],result.call(this,obj)}}),each(["concat","join","slice"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){return result.call(this,method.apply(this._wrapped,arguments))}}),_.extend(_.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(root){root.Parse=root.Parse||{};var Parse=root.Parse;"undefined"!=typeof exports&&exports._?(Parse._=exports._.noConflict(),Parse.localStorage=require("localStorage"),Parse.XMLHttpRequest=require("xmlhttprequest").XMLHttpRequest,exports.Parse=Parse):(Parse._=_.noConflict(),"undefined"!=typeof localStorage&&(Parse.localStorage=localStorage),"undefined"!=typeof XMLHttpRequest&&(Parse.XMLHttpRequest=XMLHttpRequest)),"undefined"!=typeof $&&(Parse.$=$);var EmptyConstructor=function(){},inherits=function(parent,protoProps,staticProps){var child;return child=protoProps&&protoProps.hasOwnProperty("constructor")?protoProps.constructor:function(){parent.apply(this,arguments)},Parse._.extend(child,parent),EmptyConstructor.prototype=parent.prototype,child.prototype=new EmptyConstructor,protoProps&&Parse._.extend(child.prototype,protoProps),staticProps&&Parse._.extend(child,staticProps),child.prototype.constructor=child,child.__super__=parent.prototype,child};Parse.serverURL="https://api.parse.com","undefined"!=typeof process&&process.versions&&process.versions.node&&(Parse._isNode=!0),Parse.initialize=function(applicationId,javaScriptKey,masterKey){if(masterKey)throw"Parse.initialize() was passed a Master Key, which is only allowed from within Node.js.";Parse._initialize(applicationId,javaScriptKey)},Parse._initialize=function(applicationId,javaScriptKey,masterKey){Parse.applicationId=applicationId,Parse.javaScriptKey=javaScriptKey,Parse.masterKey=masterKey,Parse._useMasterKey=!1},Parse._isNode&&(Parse.initialize=Parse._initialize,Parse.Cloud=Parse.Cloud||{},Parse.Cloud.useMasterKey=function(){Parse._useMasterKey=!0}),Parse._getParsePath=function(path){if(!Parse.applicationId)throw"You need to call Parse.initialize before using Parse.";if(path||(path=""),!Parse._.isString(path))throw"Tried to get a localStorage path that wasn't a String.";return"/"===path[0]&&(path=path.substring(1)),"Parse/"+Parse.applicationId+"/"+path},Parse._installationId=null,Parse._getInstallationId=function(){if(Parse._installationId)return Parse._installationId;var path=Parse._getParsePath("installationId");if(Parse._installationId=Parse.localStorage.getItem(path),!Parse._installationId||""===Parse._installationId){var hexOctet=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};Parse._installationId=hexOctet()+hexOctet()+"-"+hexOctet()+"-"+hexOctet()+"-"+hexOctet()+"-"+hexOctet()+hexOctet()+hexOctet(),Parse.localStorage.setItem(path,Parse._installationId)}return Parse._installationId},Parse._parseDate=function(iso8601){var regexp=RegExp("^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,2})T([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2})(.([0-9]+))?Z$"),match=regexp.exec(iso8601);if(!match)return null;var year=match[1]||0,month=(match[2]||1)-1,day=match[3]||0,hour=match[4]||0,minute=match[5]||0,second=match[6]||0,milli=match[8]||0;return new Date(Date.UTC(year,month,day,hour,minute,second,milli))},Parse._ajaxIE8=function(method,url,data){var promise=new Parse.Promise,xdr=new XDomainRequest;return xdr.onload=function(){var response;try{response=JSON.parse(xdr.responseText)}catch(e){promise.reject(e)}response&&promise.resolve(response)},xdr.onerror=xdr.ontimeout=function(){promise.reject(xdr)},xdr.onprogress=function(){},xdr.open(method,url),xdr.send(data),promise},Parse._ajax=function(method,url,data,success,error){var options={success:success,error:error};if("undefined"!=typeof XDomainRequest)return Parse._ajaxIE8(method,url,data)._thenRunCallbacks(options);var promise=new Parse.Promise,handled=!1,xhr=new Parse.XMLHttpRequest;return xhr.onreadystatechange=function(){if(4===xhr.readyState){if(handled)return;if(handled=!0,xhr.status>=200&&300>xhr.status){var response;try{response=JSON.parse(xhr.responseText)}catch(e){promise.reject(e)}response&&promise.resolve(response,xhr.status,xhr)}else promise.reject(xhr)}},xhr.open(method,url,!0),xhr.setRequestHeader("Content-Type","text/plain"),Parse._isNode&&xhr.setRequestHeader("User-Agent","Parse/"+Parse.VERSION+" (NodeJS "+process.versions.node+")"),xhr.send(data),promise._thenRunCallbacks(options)},Parse._extend=function(protoProps,classProps){var child=inherits(this,protoProps,classProps);return child.extend=this.extend,child},Parse._request=function(options){var route=options.route,className=options.className,objectId=options.objectId,method=options.method,useMasterKey=options.useMasterKey,dataObject=options.data;if(!Parse.applicationId)throw"You must specify your applicationId using Parse.initialize.";if(!Parse.javaScriptKey&&!Parse.masterKey)throw"You must specify a key using Parse.initialize.";if("batch"!==route&&"classes"!==route&&"events"!==route&&"files"!==route&&"functions"!==route&&"login"!==route&&"push"!==route&&"requestPasswordReset"!==route&&"users"!==route&&"jobs"!==route)throw"Bad route: '"+route+"'.";var url=Parse.serverURL;"/"!==url.charAt(url.length-1)&&(url+="/"),url+="1/"+route,className&&(url+="/"+className),objectId&&(url+="/"+objectId),dataObject=Parse._.clone(dataObject||{}),"POST"!==method&&(dataObject._method=method,method="POST"),Parse._.isUndefined(useMasterKey)&&(useMasterKey=Parse._useMasterKey),dataObject._ApplicationId=Parse.applicationId,useMasterKey?dataObject._MasterKey=Parse.masterKey:dataObject._JavaScriptKey=Parse.javaScriptKey,dataObject._ClientVersion=Parse.VERSION,dataObject._InstallationId=Parse._getInstallationId();var currentUser=Parse.User.current();currentUser&&currentUser._sessionToken&&(dataObject._SessionToken=currentUser._sessionToken);var data=JSON.stringify(dataObject);return Parse._ajax(method,url,data).then(null,function(response){var error;if(response&&response.responseText)try{var errorJSON=JSON.parse(response.responseText);errorJSON&&(error=new Parse.Error(errorJSON.code,errorJSON.error))}catch(e){}return error=error||new Parse.Error(-1,response.responseText),Parse.Promise.error(error)})},Parse._getValue=function(object,prop){return object&&object[prop]?Parse._.isFunction(object[prop])?object[prop]():object[prop]:null},Parse._encode=function(value,seenObjects,disallowObjects){var _=Parse._;if(value instanceof Parse.Object){if(disallowObjects)throw"Parse.Objects not allowed here";if(!seenObjects||_.include(seenObjects,value)||!value._hasData)return value._toPointer();if(!value.dirty())return seenObjects=seenObjects.concat(value),Parse._encode(value._toFullJSON(seenObjects),seenObjects,disallowObjects);throw"Tried to save an object with a pointer to a new, unsaved object."}if(value instanceof Parse.ACL)return value.toJSON();if(_.isDate(value))return{__type:"Date",iso:value.toJSON()};if(value instanceof Parse.GeoPoint)return value.toJSON();if(_.isArray(value))return _.map(value,function(x){return Parse._encode(x,seenObjects,disallowObjects)});if(_.isRegExp(value))return value.source;if(value instanceof Parse.Relation)return value.toJSON();if(value instanceof Parse.Op)return value.toJSON();if(value instanceof Parse.File){if(!value.url())throw"Tried to save an object containing an unsaved file.";return{__type:"File",name:value.name(),url:value.url()}}if(_.isObject(value)){var output={};return Parse._objectEach(value,function(v,k){output[k]=Parse._encode(v,seenObjects,disallowObjects)}),output}return value},Parse._decode=function(key,value){var _=Parse._;if(!_.isObject(value))return value;if(_.isArray(value))return Parse._arrayEach(value,function(v,k){value[k]=Parse._decode(k,v)}),value;if(value instanceof Parse.Object)return value;if(value instanceof Parse.File)return value;if(value instanceof Parse.Op)return value;if(value.__op)return Parse.Op._decode(value);if("Pointer"===value.__type){var pointer=Parse.Object._create(value.className);return pointer._finishFetch({objectId:value.objectId},!1),pointer}if("Object"===value.__type){var className=value.className;delete value.__type,delete value.className;var object=Parse.Object._create(className);return object._finishFetch(value,!0),object}if("Date"===value.__type)return Parse._parseDate(value.iso);if("GeoPoint"===value.__type)return new Parse.GeoPoint({latitude:value.latitude,longitude:value.longitude});if("ACL"===key)return value instanceof Parse.ACL?value:new Parse.ACL(value);if("Relation"===value.__type){var relation=new Parse.Relation(null,key);return relation.targetClassName=value.className,relation}if("File"===value.__type){var file=new Parse.File(value.name);return file._url=value.url,file}return Parse._objectEach(value,function(v,k){value[k]=Parse._decode(k,v)}),value},Parse._arrayEach=Parse._.each,Parse._traverse=function(object,func,seen){if(object instanceof Parse.Object){if(seen=seen||[],Parse._.indexOf(seen,object)>=0)return;return seen.push(object),Parse._traverse(object.attributes,func,seen),func(object)}return object instanceof Parse.Relation||object instanceof Parse.File?func(object):Parse._.isArray(object)?(Parse._.each(object,function(child,index){var newChild=Parse._traverse(child,func,seen);newChild&&(object[index]=newChild)}),func(object)):Parse._.isObject(object)?(Parse._each(object,function(child,key){var newChild=Parse._traverse(child,func,seen);newChild&&(object[key]=newChild)}),func(object)):func(object)},Parse._objectEach=Parse._each=function(obj,callback){var _=Parse._;_.isObject(obj)?_.each(_.keys(obj),function(key){callback(obj[key],key)}):_.each(obj,callback)},Parse._isNullOrUndefined=function(x){return Parse._.isNull(x)||Parse._.isUndefined(x)}}(this),function(root){root.Parse=root.Parse||{};var Parse=root.Parse,_=Parse._;Parse.Analytics=Parse.Analytics||{},_.extend(Parse.Analytics,{track:function(name,dimensions){if(!name||0===name.trim().length)throw"A name for the custom event must be provided";return _.each(dimensions,function(val,key){if(!_.isString(key)||!_.isString(val))throw'track() dimensions expects keys and values of type "string".'}),Parse._request({route:"events",className:name,method:"POST",data:{dimensions:dimensions}})}})}(this),function(root){root.Parse=root.Parse||{};var Parse=root.Parse,_=Parse._;Parse.Error=function(code,message){this.code=code,this.message=message},_.extend(Parse.Error,{OTHER_CAUSE:-1,INTERNAL_SERVER_ERROR:1,CONNECTION_FAILED:100,OBJECT_NOT_FOUND:101,INVALID_QUERY:102,INVALID_CLASS_NAME:103,MISSING_OBJECT_ID:104,INVALID_KEY_NAME:105,INVALID_POINTER:106,INVALID_JSON:107,COMMAND_UNAVAILABLE:108,NOT_INITIALIZED:109,INCORRECT_TYPE:111,INVALID_CHANNEL_NAME:112,PUSH_MISCONFIGURED:115,OBJECT_TOO_LARGE:116,OPERATION_FORBIDDEN:119,CACHE_MISS:120,INVALID_NESTED_KEY:121,INVALID_FILE_NAME:122,INVALID_ACL:123,TIMEOUT:124,INVALID_EMAIL_ADDRESS:125,MISSING_CONTENT_TYPE:126,MISSING_CONTENT_LENGTH:127,INVALID_CONTENT_LENGTH:128,FILE_TOO_LARGE:129,FILE_SAVE_ERROR:130,FILE_DELETE_ERROR:153,DUPLICATE_VALUE:137,INVALID_ROLE_NAME:139,EXCEEDED_QUOTA:140,SCRIPT_FAILED:141,VALIDATION_ERROR:142,INVALID_IMAGE_DATA:150,UNSAVED_FILE_ERROR:151,INVALID_PUSH_TIME_ERROR:152,USERNAME_MISSING:200,PASSWORD_MISSING:201,USERNAME_TAKEN:202,EMAIL_TAKEN:203,EMAIL_MISSING:204,EMAIL_NOT_FOUND:205,SESSION_MISSING:206,MUST_CREATE_USER_THROUGH_SIGNUP:207,ACCOUNT_ALREADY_LINKED:208,LINKED_ID_MISSING:250,INVALID_LINKED_SESSION:251,UNSUPPORTED_SERVICE:252,AGGREGATE_ERROR:600})}(this),function(){var root=this,Parse=root.Parse||(root.Parse={}),eventSplitter=/\s+/,slice=Array.prototype.slice;Parse.Events={on:function(events,callback,context){var calls,event,node,tail,list;if(!callback)return this;for(events=events.split(eventSplitter),calls=this._callbacks||(this._callbacks={}),event=events.shift();event;)list=calls[event],node=list?list.tail:{},node.next=tail={},node.context=context,node.callback=callback,calls[event]={tail:tail,next:list?list.next:node},event=events.shift();return this},off:function(events,callback,context){var event,calls,node,tail,cb,ctx;if(calls=this._callbacks){if(!(events||callback||context))return delete this._callbacks,this;for(events=events?events.split(eventSplitter):_.keys(calls),event=events.shift();event;)if(node=calls[event],delete calls[event],node&&(callback||context)){for(tail=node.tail,node=node.next;node!==tail;)cb=node.callback,ctx=node.context,(callback&&cb!==callback||context&&ctx!==context)&&this.on(event,cb,ctx),node=node.next;event=events.shift()}return this}},trigger:function(events){var event,node,calls,tail,args,all,rest;if(!(calls=this._callbacks))return this;for(all=calls.all,events=events.split(eventSplitter),rest=slice.call(arguments,1),event=events.shift();event;){if(node=calls[event])for(tail=node.tail;(node=node.next)!==tail;)node.callback.apply(node.context||this,rest);if(node=all)for(tail=node.tail,args=[event].concat(rest);(node=node.next)!==tail;)node.callback.apply(node.context||this,args);event=events.shift()}return this}},Parse.Events.bind=Parse.Events.on,Parse.Events.unbind=Parse.Events.off}.call(this),function(root){root.Parse=root.Parse||{};
var Parse=root.Parse,_=Parse._;Parse.GeoPoint=function(arg1,arg2){_.isArray(arg1)?(Parse.GeoPoint._validate(arg1[0],arg1[1]),this.latitude=arg1[0],this.longitude=arg1[1]):_.isObject(arg1)?(Parse.GeoPoint._validate(arg1.latitude,arg1.longitude),this.latitude=arg1.latitude,this.longitude=arg1.longitude):_.isNumber(arg1)&&_.isNumber(arg2)?(Parse.GeoPoint._validate(arg1,arg2),this.latitude=arg1,this.longitude=arg2):(this.latitude=0,this.longitude=0);var self=this;this.__defineGetter__&&this.__defineSetter__&&(this._latitude=this.latitude,this._longitude=this.longitude,this.__defineGetter__("latitude",function(){return self._latitude}),this.__defineGetter__("longitude",function(){return self._longitude}),this.__defineSetter__("latitude",function(val){Parse.GeoPoint._validate(val,self.longitude),self._latitude=val}),this.__defineSetter__("longitude",function(val){Parse.GeoPoint._validate(self.latitude,val),self._longitude=val}))},Parse.GeoPoint._validate=function(latitude,longitude){if(-90>latitude)throw"Parse.GeoPoint latitude "+latitude+" < -90.0.";if(latitude>90)throw"Parse.GeoPoint latitude "+latitude+" > 90.0.";if(-180>longitude)throw"Parse.GeoPoint longitude "+longitude+" < -180.0.";if(longitude>180)throw"Parse.GeoPoint longitude "+longitude+" > 180.0."},Parse.GeoPoint.current=function(options){var promise=new Parse.Promise;return navigator.geolocation.getCurrentPosition(function(location){promise.resolve(new Parse.GeoPoint({latitude:location.coords.latitude,longitude:location.coords.longitude}))},function(error){promise.reject(error)}),promise._thenRunCallbacks(options)},Parse.GeoPoint.prototype={toJSON:function(){return Parse.GeoPoint._validate(this.latitude,this.longitude),{__type:"GeoPoint",latitude:this.latitude,longitude:this.longitude}},radiansTo:function(point){var d2r=Math.PI/180,lat1rad=this.latitude*d2r,long1rad=this.longitude*d2r,lat2rad=point.latitude*d2r,long2rad=point.longitude*d2r,deltaLat=lat1rad-lat2rad,deltaLong=long1rad-long2rad,sinDeltaLatDiv2=Math.sin(deltaLat/2),sinDeltaLongDiv2=Math.sin(deltaLong/2),a=sinDeltaLatDiv2*sinDeltaLatDiv2+Math.cos(lat1rad)*Math.cos(lat2rad)*sinDeltaLongDiv2*sinDeltaLongDiv2;return a=Math.min(1,a),2*Math.asin(Math.sqrt(a))},kilometersTo:function(point){return 6371*this.radiansTo(point)},milesTo:function(point){return 3958.8*this.radiansTo(point)}}}(this),function(root){root.Parse=root.Parse||{};var Parse=root.Parse,_=Parse._,PUBLIC_KEY="*";Parse.ACL=function(arg1){var self=this;if(self.permissionsById={},_.isObject(arg1))if(arg1 instanceof Parse.User)self.setReadAccess(arg1,!0),self.setWriteAccess(arg1,!0);else{if(_.isFunction(arg1))throw"Parse.ACL() called with a function.  Did you forget ()?";Parse._objectEach(arg1,function(accessList,userId){if(!_.isString(userId))throw"Tried to create an ACL with an invalid userId.";self.permissionsById[userId]={},Parse._objectEach(accessList,function(allowed,permission){if("read"!==permission&&"write"!==permission)throw"Tried to create an ACL with an invalid permission type.";if(!_.isBoolean(allowed))throw"Tried to create an ACL with an invalid permission value.";self.permissionsById[userId][permission]=allowed})})}},Parse.ACL.prototype.toJSON=function(){return _.clone(this.permissionsById)},Parse.ACL.prototype._setAccess=function(accessType,userId,allowed){if(userId instanceof Parse.User?userId=userId.id:userId instanceof Parse.Role&&(userId="role:"+userId.getName()),!_.isString(userId))throw"userId must be a string.";if(!_.isBoolean(allowed))throw"allowed must be either true or false.";var permissions=this.permissionsById[userId];if(!permissions){if(!allowed)return;permissions={},this.permissionsById[userId]=permissions}allowed?this.permissionsById[userId][accessType]=!0:(delete permissions[accessType],_.isEmpty(permissions)&&delete permissions[userId])},Parse.ACL.prototype._getAccess=function(accessType,userId){userId instanceof Parse.User?userId=userId.id:userId instanceof Parse.Role&&(userId="role:"+userId.getName());var permissions=this.permissionsById[userId];return permissions?permissions[accessType]?!0:!1:!1},Parse.ACL.prototype.setReadAccess=function(userId,allowed){this._setAccess("read",userId,allowed)},Parse.ACL.prototype.getReadAccess=function(userId){return this._getAccess("read",userId)},Parse.ACL.prototype.setWriteAccess=function(userId,allowed){this._setAccess("write",userId,allowed)},Parse.ACL.prototype.getWriteAccess=function(userId){return this._getAccess("write",userId)},Parse.ACL.prototype.setPublicReadAccess=function(allowed){this.setReadAccess(PUBLIC_KEY,allowed)},Parse.ACL.prototype.getPublicReadAccess=function(){return this.getReadAccess(PUBLIC_KEY)},Parse.ACL.prototype.setPublicWriteAccess=function(allowed){this.setWriteAccess(PUBLIC_KEY,allowed)},Parse.ACL.prototype.getPublicWriteAccess=function(){return this.getWriteAccess(PUBLIC_KEY)},Parse.ACL.prototype.getRoleReadAccess=function(role){if(role instanceof Parse.Role&&(role=role.getName()),_.isString(role))return this.getReadAccess("role:"+role);throw"role must be a Parse.Role or a String"},Parse.ACL.prototype.getRoleWriteAccess=function(role){if(role instanceof Parse.Role&&(role=role.getName()),_.isString(role))return this.getWriteAccess("role:"+role);throw"role must be a Parse.Role or a String"},Parse.ACL.prototype.setRoleReadAccess=function(role,allowed){if(role instanceof Parse.Role&&(role=role.getName()),_.isString(role))return this.setReadAccess("role:"+role,allowed),void 0;throw"role must be a Parse.Role or a String"},Parse.ACL.prototype.setRoleWriteAccess=function(role,allowed){if(role instanceof Parse.Role&&(role=role.getName()),_.isString(role))return this.setWriteAccess("role:"+role,allowed),void 0;throw"role must be a Parse.Role or a String"}}(this),function(root){root.Parse=root.Parse||{};var Parse=root.Parse,_=Parse._;Parse.Op=function(){this._initialize.apply(this,arguments)},Parse.Op.prototype={_initialize:function(){}},_.extend(Parse.Op,{_extend:Parse._extend,_opDecoderMap:{},_registerDecoder:function(opName,decoder){Parse.Op._opDecoderMap[opName]=decoder},_decode:function(json){var decoder=Parse.Op._opDecoderMap[json.__op];return decoder?decoder(json):void 0}}),Parse.Op._registerDecoder("Batch",function(json){var op=null;return Parse._arrayEach(json.ops,function(nextOp){nextOp=Parse.Op._decode(nextOp),op=nextOp._mergeWithPrevious(op)}),op}),Parse.Op.Set=Parse.Op._extend({_initialize:function(value){this._value=value},value:function(){return this._value},toJSON:function(){return Parse._encode(this.value())},_mergeWithPrevious:function(){return this},_estimate:function(){return this.value()}}),Parse.Op._UNSET={},Parse.Op.Unset=Parse.Op._extend({toJSON:function(){return{__op:"Delete"}},_mergeWithPrevious:function(){return this},_estimate:function(){return Parse.Op._UNSET}}),Parse.Op._registerDecoder("Delete",function(){return new Parse.Op.Unset}),Parse.Op.Increment=Parse.Op._extend({_initialize:function(amount){this._amount=amount},amount:function(){return this._amount},toJSON:function(){return{__op:"Increment",amount:this._amount}},_mergeWithPrevious:function(previous){if(previous){if(previous instanceof Parse.Op.Unset)return new Parse.Op.Set(this.amount());if(previous instanceof Parse.Op.Set)return new Parse.Op.Set(previous.value()+this.amount());if(previous instanceof Parse.Op.Increment)return new Parse.Op.Increment(this.amount()+previous.amount());throw"Op is invalid after previous op."}return this},_estimate:function(oldValue){return oldValue?oldValue+this.amount():this.amount()}}),Parse.Op._registerDecoder("Increment",function(json){return new Parse.Op.Increment(json.amount)}),Parse.Op.Add=Parse.Op._extend({_initialize:function(objects){this._objects=objects},objects:function(){return this._objects},toJSON:function(){return{__op:"Add",objects:Parse._encode(this.objects())}},_mergeWithPrevious:function(previous){if(previous){if(previous instanceof Parse.Op.Unset)return new Parse.Op.Set(this.objects());if(previous instanceof Parse.Op.Set)return new Parse.Op.Set(this._estimate(previous.value()));if(previous instanceof Parse.Op.Add)return new Parse.Op.Add(previous.objects().concat(this.objects()));throw"Op is invalid after previous op."}return this},_estimate:function(oldValue){return oldValue?oldValue.concat(this.objects()):_.clone(this.objects())}}),Parse.Op._registerDecoder("Add",function(json){return new Parse.Op.Add(Parse._decode(void 0,json.objects))}),Parse.Op.AddUnique=Parse.Op._extend({_initialize:function(objects){this._objects=_.uniq(objects)},objects:function(){return this._objects},toJSON:function(){return{__op:"AddUnique",objects:Parse._encode(this.objects())}},_mergeWithPrevious:function(previous){if(previous){if(previous instanceof Parse.Op.Unset)return new Parse.Op.Set(this.objects());if(previous instanceof Parse.Op.Set)return new Parse.Op.Set(this._estimate(previous.value()));if(previous instanceof Parse.Op.AddUnique)return new Parse.Op.AddUnique(this._estimate(previous.objects()));throw"Op is invalid after previous op."}return this},_estimate:function(oldValue){if(oldValue){var newValue=_.clone(oldValue);return Parse._arrayEach(this.objects(),function(obj){if(obj instanceof Parse.Object&&obj.id){var matchingObj=_.find(newValue,function(anObj){return anObj instanceof Parse.Object&&anObj.id===obj.id});if(matchingObj){var index=_.indexOf(newValue,matchingObj);newValue[index]=obj}else newValue.push(obj)}else _.contains(newValue,obj)||newValue.push(obj)}),newValue}return _.clone(this.objects())}}),Parse.Op._registerDecoder("AddUnique",function(json){return new Parse.Op.AddUnique(Parse._decode(void 0,json.objects))}),Parse.Op.Remove=Parse.Op._extend({_initialize:function(objects){this._objects=_.uniq(objects)},objects:function(){return this._objects},toJSON:function(){return{__op:"Remove",objects:Parse._encode(this.objects())}},_mergeWithPrevious:function(previous){if(previous){if(previous instanceof Parse.Op.Unset)return previous;if(previous instanceof Parse.Op.Set)return new Parse.Op.Set(this._estimate(previous.value()));if(previous instanceof Parse.Op.Remove)return new Parse.Op.Remove(_.union(previous.objects(),this.objects()));throw"Op is invalid after previous op."}return this},_estimate:function(oldValue){if(oldValue){var newValue=_.difference(oldValue,this.objects());return Parse._arrayEach(this.objects(),function(obj){obj instanceof Parse.Object&&obj.id&&(newValue=_.reject(newValue,function(other){return other instanceof Parse.Object&&other.id===obj.id}))}),newValue}return[]}}),Parse.Op._registerDecoder("Remove",function(json){return new Parse.Op.Remove(Parse._decode(void 0,json.objects))}),Parse.Op.Relation=Parse.Op._extend({_initialize:function(adds,removes){this._targetClassName=null;var self=this,pointerToId=function(object){if(object instanceof Parse.Object){if(!object.id)throw"You can't add an unsaved Parse.Object to a relation.";if(self._targetClassName||(self._targetClassName=object.className),self._targetClassName!==object.className)throw"Tried to create a Parse.Relation with 2 different types: "+self._targetClassName+" and "+object.className+".";return object.id}return object};this.relationsToAdd=_.uniq(_.map(adds,pointerToId)),this.relationsToRemove=_.uniq(_.map(removes,pointerToId))},added:function(){var self=this;return _.map(this.relationsToAdd,function(objectId){var object=Parse.Object._create(self._targetClassName);return object.id=objectId,object})},removed:function(){var self=this;return _.map(this.relationsToRemove,function(objectId){var object=Parse.Object._create(self._targetClassName);return object.id=objectId,object})},toJSON:function(){var adds=null,removes=null,self=this,idToPointer=function(id){return{__type:"Pointer",className:self._targetClassName,objectId:id}},pointers=null;return this.relationsToAdd.length>0&&(pointers=_.map(this.relationsToAdd,idToPointer),adds={__op:"AddRelation",objects:pointers}),this.relationsToRemove.length>0&&(pointers=_.map(this.relationsToRemove,idToPointer),removes={__op:"RemoveRelation",objects:pointers}),adds&&removes?{__op:"Batch",ops:[adds,removes]}:adds||removes||{}},_mergeWithPrevious:function(previous){if(previous){if(previous instanceof Parse.Op.Unset)throw"You can't modify a relation after deleting it.";if(previous instanceof Parse.Op.Relation){if(previous._targetClassName&&previous._targetClassName!==this._targetClassName)throw"Related object must be of class "+previous._targetClassName+", but "+this._targetClassName+" was passed in.";var newAdd=_.union(_.difference(previous.relationsToAdd,this.relationsToRemove),this.relationsToAdd),newRemove=_.union(_.difference(previous.relationsToRemove,this.relationsToAdd),this.relationsToRemove),newRelation=new Parse.Op.Relation(newAdd,newRemove);return newRelation._targetClassName=this._targetClassName,newRelation}throw"Op is invalid after previous op."}return this},_estimate:function(oldValue,object,key){if(oldValue){if(oldValue instanceof Parse.Relation){if(this._targetClassName)if(oldValue.targetClassName){if(oldValue.targetClassName!==this._targetClassName)throw"Related object must be a "+oldValue.targetClassName+", but a "+this._targetClassName+" was passed in."}else oldValue.targetClassName=this._targetClassName;return oldValue}throw"Op is invalid after previous op."}var relation=new Parse.Relation(object,key);relation.targetClassName=this._targetClassName}}),Parse.Op._registerDecoder("AddRelation",function(json){return new Parse.Op.Relation(Parse._decode(void 0,json.objects),[])}),Parse.Op._registerDecoder("RemoveRelation",function(json){return new Parse.Op.Relation([],Parse._decode(void 0,json.objects))})}(this),function(root){root.Parse=root.Parse||{};var Parse=root.Parse,_=Parse._;Parse.Relation=function(parent,key){this.parent=parent,this.key=key,this.targetClassName=null},Parse.Relation.prototype={_ensureParentAndKey:function(parent,key){if(this.parent=this.parent||parent,this.key=this.key||key,this.parent!==parent)throw"Internal Error. Relation retrieved from two different Objects.";if(this.key!==key)throw"Internal Error. Relation retrieved from two different keys."},add:function(objects){_.isArray(objects)||(objects=[objects]);var change=new Parse.Op.Relation(objects,[]);this.parent.set(this.key,change),this.targetClassName=change._targetClassName},remove:function(objects){_.isArray(objects)||(objects=[objects]);var change=new Parse.Op.Relation([],objects);this.parent.set(this.key,change),this.targetClassName=change._targetClassName},toJSON:function(){return{__type:"Relation",className:this.targetClassName}},query:function(){var targetClass,query;return this.targetClassName?(targetClass=Parse.Object._getSubclass(this.targetClassName),query=new Parse.Query(targetClass)):(targetClass=Parse.Object._getSubclass(this.parent.className),query=new Parse.Query(targetClass),query._extraOptions.redirectClassNameForKey=this.key),query._addCondition("$relatedTo","object",this.parent._toPointer()),query._addCondition("$relatedTo","key",this.key),query}}}(this),function(root){root.Parse=root.Parse||{};var Parse=root.Parse,_=Parse._;Parse.Promise=function(){this._resolved=!1,this._rejected=!1,this._resolvedCallbacks=[],this._rejectedCallbacks=[]},_.extend(Parse.Promise,{is:function(promise){return promise&&promise.then&&_.isFunction(promise.then)},as:function(){var promise=new Parse.Promise;return promise.resolve.apply(promise,arguments),promise},error:function(){var promise=new Parse.Promise;return promise.reject.apply(promise,arguments),promise},when:function(promises){var objects;objects=promises&&Parse._isNullOrUndefined(promises.length)?arguments:promises;var total=objects.length,hadError=!1,results=[],errors=[];if(results.length=objects.length,errors.length=objects.length,0===total)return Parse.Promise.as.apply(this,results);var promise=new Parse.Promise,resolveOne=function(){total-=1,0===total&&(hadError?promise.reject(errors):promise.resolve.apply(promise,results))};return Parse._arrayEach(objects,function(object,i){Parse.Promise.is(object)?object.then(function(result){results[i]=result,resolveOne()},function(error){errors[i]=error,hadError=!0,resolveOne()}):(results[i]=object,resolveOne())}),promise},_continueWhile:function(predicate,asyncFunction){return predicate()?asyncFunction().then(function(){return Parse.Promise._continueWhile(predicate,asyncFunction)}):Parse.Promise.as()}}),_.extend(Parse.Promise.prototype,{resolve:function(){if(this._resolved||this._rejected)throw"A promise was resolved even though it had already been "+(this._resolved?"resolved":"rejected")+".";this._resolved=!0,this._result=arguments;var results=arguments;Parse._arrayEach(this._resolvedCallbacks,function(resolvedCallback){resolvedCallback.apply(this,results)}),this._resolvedCallbacks=[],this._rejectedCallbacks=[]},reject:function(error){if(this._resolved||this._rejected)throw"A promise was rejected even though it had already been "+(this._resolved?"resolved":"rejected")+".";this._rejected=!0,this._error=error,Parse._arrayEach(this._rejectedCallbacks,function(rejectedCallback){rejectedCallback(error)}),this._resolvedCallbacks=[],this._rejectedCallbacks=[]},then:function(resolvedCallback,rejectedCallback){var promise=new Parse.Promise,wrappedResolvedCallback=function(){var result=arguments;resolvedCallback&&(result=[resolvedCallback.apply(this,result)]),1===result.length&&Parse.Promise.is(result[0])?result[0].then(function(){promise.resolve.apply(promise,arguments)},function(error){promise.reject(error)}):promise.resolve.apply(promise,result)},wrappedRejectedCallback=function(error){var result=[];rejectedCallback?(result=[rejectedCallback(error)],1===result.length&&Parse.Promise.is(result[0])?result[0].then(function(){promise.resolve.apply(promise,arguments)},function(error){promise.reject(error)}):promise.reject(result[0])):promise.reject(error)};return this._resolved?wrappedResolvedCallback.apply(this,this._result):this._rejected?wrappedRejectedCallback(this._error):(this._resolvedCallbacks.push(wrappedResolvedCallback),this._rejectedCallbacks.push(wrappedRejectedCallback)),promise},_thenRunCallbacks:function(optionsOrCallback,model){var options;if(_.isFunction(optionsOrCallback)){var callback=optionsOrCallback;options={success:function(result){callback(result,null)},error:function(error){callback(null,error)}}}else options=_.clone(optionsOrCallback);return options=options||{},this.then(function(result){return options.success?options.success.apply(this,arguments):model&&model.trigger("sync",model,result,options),Parse.Promise.as.apply(Parse.Promise,arguments)},function(error){return options.error?_.isUndefined(model)?options.error(error):options.error(model,error):model&&model.trigger("error",model,error,options),Parse.Promise.error(error)})},_continueWith:function(continuation){return this.then(function(){return continuation(arguments,null)},function(error){return continuation(null,error)})}})}(this),function(root){root.Parse=root.Parse||{};var Parse=root.Parse,_=Parse._,b64Digit=function(number){if(26>number)return String.fromCharCode(65+number);if(52>number)return String.fromCharCode(97+(number-26));if(62>number)return String.fromCharCode(48+(number-52));if(62===number)return"+";if(63===number)return"/";throw"Tried to encode large digit "+number+" in base64."},encodeBase64=function(array){var chunks=[];return chunks.length=Math.ceil(array.length/3),_.times(chunks.length,function(i){var b1=array[3*i],b2=array[3*i+1]||0,b3=array[3*i+2]||0,has2=array.length>3*i+1,has3=array.length>3*i+2;chunks[i]=[b64Digit(63&b1>>2),b64Digit(48&b1<<4|15&b2>>4),has2?b64Digit(60&b2<<2|3&b3>>6):"=",has3?b64Digit(63&b3):"="].join("")}),chunks.join("")},mimeTypes={ai:"application/postscript",aif:"audio/x-aiff",aifc:"audio/x-aiff",aiff:"audio/x-aiff",asc:"text/plain",atom:"application/atom+xml",au:"audio/basic",avi:"video/x-msvideo",bcpio:"application/x-bcpio",bin:"application/octet-stream",bmp:"image/bmp",cdf:"application/x-netcdf",cgm:"image/cgm","class":"application/octet-stream",cpio:"application/x-cpio",cpt:"application/mac-compactpro",csh:"application/x-csh",css:"text/css",dcr:"application/x-director",dif:"video/x-dv",dir:"application/x-director",djv:"image/vnd.djvu",djvu:"image/vnd.djvu",dll:"application/octet-stream",dmg:"application/octet-stream",dms:"application/octet-stream",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",docm:"application/vnd.ms-word.document.macroEnabled.12",dotm:"application/vnd.ms-word.template.macroEnabled.12",dtd:"application/xml-dtd",dv:"video/x-dv",dvi:"application/x-dvi",dxr:"application/x-director",eps:"application/postscript",etx:"text/x-setext",exe:"application/octet-stream",ez:"application/andrew-inset",gif:"image/gif",gram:"application/srgs",grxml:"application/srgs+xml",gtar:"application/x-gtar",hdf:"application/x-hdf",hqx:"application/mac-binhex40",htm:"text/html",html:"text/html",ice:"x-conference/x-cooltalk",ico:"image/x-icon",ics:"text/calendar",ief:"image/ief",ifb:"text/calendar",iges:"model/iges",igs:"model/iges",jnlp:"application/x-java-jnlp-file",jp2:"image/jp2",jpe:"image/jpeg",jpeg:"image/jpeg",jpg:"image/jpeg",js:"application/x-javascript",kar:"audio/midi",latex:"application/x-latex",lha:"application/octet-stream",lzh:"application/octet-stream",m3u:"audio/x-mpegurl",m4a:"audio/mp4a-latm",m4b:"audio/mp4a-latm",m4p:"audio/mp4a-latm",m4u:"video/vnd.mpegurl",m4v:"video/x-m4v",mac:"image/x-macpaint",man:"application/x-troff-man",mathml:"application/mathml+xml",me:"application/x-troff-me",mesh:"model/mesh",mid:"audio/midi",midi:"audio/midi",mif:"application/vnd.mif",mov:"video/quicktime",movie:"video/x-sgi-movie",mp2:"audio/mpeg",mp3:"audio/mpeg",mp4:"video/mp4",mpe:"video/mpeg",mpeg:"video/mpeg",mpg:"video/mpeg",mpga:"audio/mpeg",ms:"application/x-troff-ms",msh:"model/mesh",mxu:"video/vnd.mpegurl",nc:"application/x-netcdf",oda:"application/oda",ogg:"application/ogg",pbm:"image/x-portable-bitmap",pct:"image/pict",pdb:"chemical/x-pdb",pdf:"application/pdf",pgm:"image/x-portable-graymap",pgn:"application/x-chess-pgn",pic:"image/pict",pict:"image/pict",png:"image/png",pnm:"image/x-portable-anymap",pnt:"image/x-macpaint",pntg:"image/x-macpaint",ppm:"image/x-portable-pixmap",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",potx:"application/vnd.openxmlformats-officedocument.presentationml.template",ppsx:"application/vnd.openxmlformats-officedocument.presentationml.slideshow",ppam:"application/vnd.ms-powerpoint.addin.macroEnabled.12",pptm:"application/vnd.ms-powerpoint.presentation.macroEnabled.12",potm:"application/vnd.ms-powerpoint.template.macroEnabled.12",ppsm:"application/vnd.ms-powerpoint.slideshow.macroEnabled.12",ps:"application/postscript",qt:"video/quicktime",qti:"image/x-quicktime",qtif:"image/x-quicktime",ra:"audio/x-pn-realaudio",ram:"audio/x-pn-realaudio",ras:"image/x-cmu-raster",rdf:"application/rdf+xml",rgb:"image/x-rgb",rm:"application/vnd.rn-realmedia",roff:"application/x-troff",rtf:"text/rtf",rtx:"text/richtext",sgm:"text/sgml",sgml:"text/sgml",sh:"application/x-sh",shar:"application/x-shar",silo:"model/mesh",sit:"application/x-stuffit",skd:"application/x-koan",skm:"application/x-koan",skp:"application/x-koan",skt:"application/x-koan",smi:"application/smil",smil:"application/smil",snd:"audio/basic",so:"application/octet-stream",spl:"application/x-futuresplash",src:"application/x-wais-source",sv4cpio:"application/x-sv4cpio",sv4crc:"application/x-sv4crc",svg:"image/svg+xml",swf:"application/x-shockwave-flash",t:"application/x-troff",tar:"application/x-tar",tcl:"application/x-tcl",tex:"application/x-tex",texi:"application/x-texinfo",texinfo:"application/x-texinfo",tif:"image/tiff",tiff:"image/tiff",tr:"application/x-troff",tsv:"text/tab-separated-values",txt:"text/plain",ustar:"application/x-ustar",vcd:"application/x-cdlink",vrml:"model/vrml",vxml:"application/voicexml+xml",wav:"audio/x-wav",wbmp:"image/vnd.wap.wbmp",wbmxl:"application/vnd.wap.wbxml",wml:"text/vnd.wap.wml",wmlc:"application/vnd.wap.wmlc",wmls:"text/vnd.wap.wmlscript",wmlsc:"application/vnd.wap.wmlscriptc",wrl:"model/vrml",xbm:"image/x-xbitmap",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xls:"application/vnd.ms-excel",xml:"application/xml",xpm:"image/x-xpixmap",xsl:"application/xml",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.12",xltm:"application/vnd.ms-excel.template.macroEnabled.12",xlam:"application/vnd.ms-excel.addin.macroEnabled.12",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.12",xslt:"application/xslt+xml",xul:"application/vnd.mozilla.xul+xml",xwd:"image/x-xwindowdump",xyz:"chemical/x-xyz",zip:"application/zip"},readAsync=function(file,type){var promise=new Parse.Promise;if("undefined"==typeof FileReader)return Parse.Promise.error(new Parse.Error(-1,"Attempted to use a FileReader on an unsupported browser."));var reader=new FileReader;return reader.onloadend=function(){if(2!==reader.readyState)return promise.reject(new Parse.Error(-1,"Error reading file.")),void 0;var dataURL=reader.result,matches=/^data:([^;]*);base64,(.*)$/.exec(dataURL);return matches?(promise.resolve(matches[2],type||matches[1]),void 0):(promise.reject(new Parse.Error(-1,"Unable to interpret data URL: "+dataURL)),void 0)},reader.readAsDataURL(file),promise};Parse.File=function(name,data,type){this._name=name;var extension=/\.([^.]*)$/.exec(name);extension&&(extension=extension[1].toLowerCase());var guessedType=type||mimeTypes[extension]||"text/plain";if(_.isArray(data))this._source=Parse.Promise.as(encodeBase64(data),guessedType);else if(data&&data.base64)this._source=Parse.Promise.as(data.base64,guessedType);else if("undefined"!=typeof File&&data instanceof File)this._source=readAsync(data,type);else if(_.isString(data))throw"Creating a Parse.File from a String is not yet supported."},Parse.File.prototype={name:function(){return this._name},url:function(){return this._url},save:function(options){options=options||{};var self=this;return self._previousSave||(self._previousSave=self._source.then(function(base64,type){var data={base64:base64,_ContentType:type};return Parse._request({route:"files",className:self._name,method:"POST",data:data,useMasterKey:options.useMasterKey})}).then(function(response){return self._name=response.name,self._url=response.url,self})),self._previousSave._thenRunCallbacks(options)}}}(this),function(root){root.Parse=root.Parse||{};var Parse=root.Parse,_=Parse._;Parse.Object=function(attributes,options){if(_.isString(attributes))return Parse.Object._create.apply(this,arguments);attributes=attributes||{},options&&options.parse&&(attributes=this.parse(attributes));var defaults=Parse._getValue(this,"defaults");if(defaults&&(attributes=_.extend({},defaults,attributes)),options&&options.collection&&(this.collection=options.collection),this._serverData={},this._opSetQueue=[{}],this.attributes={},this._hashedJSON={},this._escapedAttributes={},this.cid=_.uniqueId("c"),this.changed={},this._silent={},this._pending={},!this.set(attributes,{silent:!0}))throw Error("Can't create an invalid Parse.Object");this.changed={},this._silent={},this._pending={},this._hasData=!0,this._previousAttributes=_.clone(this.attributes),this.initialize.apply(this,arguments)},Parse.Object.saveAll=function(list,options){return options=options||{},Parse.Object._deepSaveAsync(list,{useMasterKey:options.useMasterKey})._thenRunCallbacks(options)},Parse.Object.destroyAll=function(list,options){options=options||{};var triggerDestroy=function(object){object.trigger("destroy",object,object.collection,options)},errors=[],destroyBatch=function(batch){var promise=Parse.Promise.as();return batch.length>0&&(promise=promise.then(function(){return Parse._request({route:"batch",method:"POST",useMasterKey:options.useMasterKey,data:{requests:_.map(batch,function(object){return{method:"DELETE",path:"/1/classes/"+object.className+"/"+object.id}})}})}).then(function(responses){Parse._arrayEach(batch,function(object,i){if(responses[i].success&&options.wait)triggerDestroy(object);else if(responses[i].error){var error=new Parse.Error(responses[i].error.code,responses[i].error.error);error.object=object,errors.push(error)}})})),promise},promise=Parse.Promise.as(),batch=[];return Parse._arrayEach(list,function(object,i){if(object.id&&options.wait||triggerDestroy(object),object.id&&batch.push(object),20===batch.length||i+1===list.length){var thisBatch=batch;batch=[],promise=promise.then(function(){return destroyBatch(thisBatch)})}}),promise.then(function(){if(0===errors.length)return!0;var error=new Parse.Error(Parse.Error.AGGREGATE_ERROR,"Error deleting an object in destroyAll");return error.errors=errors,Parse.Promise.error(error)})._thenRunCallbacks(options)},_.extend(Parse.Object.prototype,Parse.Events,{_existed:!1,initialize:function(){},toJSON:function(){var json=this._toFullJSON();return Parse._arrayEach(["__type","className"],function(key){delete json[key]}),json},_toFullJSON:function(seenObjects){var json=_.clone(this.attributes);return Parse._objectEach(json,function(val,key){json[key]=Parse._encode(val,seenObjects)}),Parse._objectEach(this._operations,function(val,key){json[key]=val}),_.has(this,"id")&&(json.objectId=this.id),_.has(this,"createdAt")&&(json.createdAt=_.isDate(this.createdAt)?this.createdAt.toJSON():this.createdAt),_.has(this,"updatedAt")&&(json.updatedAt=_.isDate(this.updatedAt)?this.updatedAt.toJSON():this.updatedAt),json.__type="Object",json.className=this.className,json},_refreshCache:function(){var self=this;self._refreshingCache||(self._refreshingCache=!0,Parse._objectEach(this.attributes,function(value,key){value instanceof Parse.Object?value._refreshCache():_.isObject(value)&&self._resetCacheForKey(key)&&self.set(key,new Parse.Op.Set(value),{silent:!0})}),delete self._refreshingCache)},dirty:function(attr){this._refreshCache();var currentChanges=_.last(this._opSetQueue);return attr?currentChanges[attr]?!0:!1:this.id?_.keys(currentChanges).length>0?!0:!1:!0},_toPointer:function(){if(!this.id)throw Error("Can't serialize an unsaved Parse.Object");return{__type:"Pointer",className:this.className,objectId:this.id}},get:function(attr){return this.attributes[attr]},relation:function(attr){var value=this.get(attr);if(value){if(!(value instanceof Parse.Relation))throw"Called relation() on non-relation field "+attr;return value._ensureParentAndKey(this,attr),value}return new Parse.Relation(this,attr)},escape:function(attr){var html=this._escapedAttributes[attr];if(html)return html;var escaped,val=this.attributes[attr];return escaped=Parse._isNullOrUndefined(val)?"":_.escape(""+val),this._escapedAttributes[attr]=escaped,escaped},has:function(attr){return!Parse._isNullOrUndefined(this.attributes[attr])},_mergeMagicFields:function(attrs){var model=this,specialFields=["id","objectId","createdAt","updatedAt"];Parse._arrayEach(specialFields,function(attr){attrs[attr]&&("objectId"===attr?model.id=attrs[attr]:model[attr]="createdAt"!==attr&&"updatedAt"!==attr||_.isDate(attrs[attr])?attrs[attr]:Parse._parseDate(attrs[attr]),delete attrs[attr])})},_startSave:function(){this._opSetQueue.push({})},_cancelSave:function(){var failedChanges=_.first(this._opSetQueue);this._opSetQueue=_.rest(this._opSetQueue);var nextChanges=_.first(this._opSetQueue);Parse._objectEach(failedChanges,function(op,key){var op1=failedChanges[key],op2=nextChanges[key];op1&&op2?nextChanges[key]=op2._mergeWithPrevious(op1):op1&&(nextChanges[key]=op1)}),this._saving=this._saving-1},_finishSave:function(serverData){var fetchedObjects={};Parse._traverse(this.attributes,function(object){object instanceof Parse.Object&&object.id&&object._hasData&&(fetchedObjects[object.id]=object)});var savedChanges=_.first(this._opSetQueue);this._opSetQueue=_.rest(this._opSetQueue),this._applyOpSet(savedChanges,this._serverData),this._mergeMagicFields(serverData);
var self=this;Parse._objectEach(serverData,function(value,key){self._serverData[key]=Parse._decode(key,value);var fetched=Parse._traverse(self._serverData[key],function(object){return object instanceof Parse.Object&&fetchedObjects[object.id]?fetchedObjects[object.id]:void 0});fetched&&(self._serverData[key]=fetched)}),this._rebuildAllEstimatedData(),this._saving=this._saving-1},_finishFetch:function(serverData,hasData){this._opSetQueue=[{}],this._mergeMagicFields(serverData);var self=this;Parse._objectEach(serverData,function(value,key){self._serverData[key]=Parse._decode(key,value)}),this._rebuildAllEstimatedData(),this._refreshCache(),this._opSetQueue=[{}],this._hasData=hasData},_applyOpSet:function(opSet,target){var self=this;Parse._objectEach(opSet,function(change,key){target[key]=change._estimate(target[key],self,key),target[key]===Parse.Op._UNSET&&delete target[key]})},_resetCacheForKey:function(key){var value=this.attributes[key];if(!(!_.isObject(value)||value instanceof Parse.Object||value instanceof Parse.File)){value=value.toJSON?value.toJSON():value;var json=JSON.stringify(value);if(this._hashedJSON[key]!==json)return this._hashedJSON[key]=json,!0}return!1},_rebuildEstimatedDataForKey:function(key){var self=this;delete this.attributes[key],this._serverData[key]&&(this.attributes[key]=this._serverData[key]),Parse._arrayEach(this._opSetQueue,function(opSet){var op=opSet[key];op&&(self.attributes[key]=op._estimate(self.attributes[key],self,key),self.attributes[key]===Parse.Op._UNSET?delete self.attributes[key]:self._resetCacheForKey(key))})},_rebuildAllEstimatedData:function(){var self=this,previousAttributes=_.clone(this.attributes);this.attributes=_.clone(this._serverData),Parse._arrayEach(this._opSetQueue,function(opSet){self._applyOpSet(opSet,self.attributes),Parse._objectEach(opSet,function(op,key){self._resetCacheForKey(key)})}),Parse._objectEach(previousAttributes,function(oldValue,key){self.attributes[key]!==oldValue&&self.trigger("change:"+key,self,self.attributes[key],{})}),Parse._objectEach(this.attributes,function(newValue,key){_.has(previousAttributes,key)||self.trigger("change:"+key,self,newValue,{})})},set:function(key,value,options){var attrs;if(_.isObject(key)||Parse._isNullOrUndefined(key)?(attrs=key,Parse._objectEach(attrs,function(v,k){attrs[k]=Parse._decode(k,v)}),options=value):(attrs={},attrs[key]=Parse._decode(key,value)),options=options||{},!attrs)return this;attrs instanceof Parse.Object&&(attrs=attrs.attributes),options.unset&&Parse._objectEach(attrs,function(unused_value,key){attrs[key]=new Parse.Op.Unset});var dataToValidate=_.clone(attrs),self=this;if(Parse._objectEach(dataToValidate,function(value,key){value instanceof Parse.Op&&(dataToValidate[key]=value._estimate(self.attributes[key],self,key),dataToValidate[key]===Parse.Op._UNSET&&delete dataToValidate[key])}),!this._validate(attrs,options))return!1;this._mergeMagicFields(attrs),options.changes={};var escaped=this._escapedAttributes;return this._previousAttributes||{},Parse._arrayEach(_.keys(attrs),function(attr){var val=attrs[attr];val instanceof Parse.Relation&&(val.parent=self),val instanceof Parse.Op||(val=new Parse.Op.Set(val));var isRealChange=!0;val instanceof Parse.Op.Set&&_.isEqual(self.attributes[attr],val.value)&&(isRealChange=!1),isRealChange&&(delete escaped[attr],options.silent?self._silent[attr]=!0:options.changes[attr]=!0);var currentChanges=_.last(self._opSetQueue);currentChanges[attr]=val._mergeWithPrevious(currentChanges[attr]),self._rebuildEstimatedDataForKey(attr),isRealChange?(self.changed[attr]=self.attributes[attr],options.silent||(self._pending[attr]=!0)):(delete self.changed[attr],delete self._pending[attr])}),options.silent||this.change(options),this},unset:function(attr,options){return options=options||{},options.unset=!0,this.set(attr,null,options)},increment:function(attr,amount){return(_.isUndefined(amount)||_.isNull(amount))&&(amount=1),this.set(attr,new Parse.Op.Increment(amount))},add:function(attr,item){return this.set(attr,new Parse.Op.Add([item]))},addUnique:function(attr,item){return this.set(attr,new Parse.Op.AddUnique([item]))},remove:function(attr,item){return this.set(attr,new Parse.Op.Remove([item]))},op:function(attr){return _.last(this._opSetQueue)[attr]},clear:function(options){options=options||{},options.unset=!0;var keysToClear=_.extend(this.attributes,this._operations);return this.set(keysToClear,options)},_getSaveJSON:function(){var json=_.clone(_.first(this._opSetQueue));return Parse._objectEach(json,function(op,key){json[key]=op.toJSON()}),json},_canBeSerialized:function(){return Parse.Object._canBeSerializedAsValue(this.attributes)},fetch:function(options){var self=this;options=options||{};var request=Parse._request({method:"GET",route:"classes",className:this.className,objectId:this.id,useMasterKey:options.useMasterKey});return request.then(function(response,status,xhr){return self._finishFetch(self.parse(response,status,xhr),!0),self})._thenRunCallbacks(options,this)},save:function(arg1,arg2,arg3){var attrs,current,options;if(_.isObject(arg1)||Parse._isNullOrUndefined(arg1)?(attrs=arg1,options=arg2):(attrs={},attrs[arg1]=arg2,options=arg3),!options&&attrs){var extra_keys=_.reject(attrs,function(value,key){return _.include(["success","error","wait"],key)});if(0===extra_keys.length){var all_functions=!0;if(_.has(attrs,"success")&&!_.isFunction(attrs.success)&&(all_functions=!1),_.has(attrs,"error")&&!_.isFunction(attrs.error)&&(all_functions=!1),all_functions)return this.save(null,attrs)}}options=_.clone(options)||{},options.wait&&(current=_.clone(this.attributes));var setOptions=_.clone(options)||{};setOptions.wait&&(setOptions.silent=!0);var setError;if(setOptions.error=function(model,error){setError=error},attrs&&!this.set(attrs,setOptions))return Parse.Promise.error(setError)._thenRunCallbacks(options,this);var model=this;model._refreshCache();var unsavedChildren=[],unsavedFiles=[];return Parse.Object._findUnsavedChildren(model.attributes,unsavedChildren,unsavedFiles),unsavedChildren.length+unsavedFiles.length>0?Parse.Object._deepSaveAsync(this.attributes,{useMasterKey:options.useMasterKey}).then(function(){return model.save(null,options)},function(error){return Parse.Promise.error(error)._thenRunCallbacks(options,model)}):(this._startSave(),this._saving=(this._saving||0)+1,this._allPreviousSaves=this._allPreviousSaves||Parse.Promise.as(),this._allPreviousSaves=this._allPreviousSaves._continueWith(function(){var method=model.id?"PUT":"POST",json=model._getSaveJSON(),route="classes",className=model.className;"_User"!==model.className||model.id||(route="users",className=null);var request=Parse._request({route:route,className:className,objectId:model.id,method:method,useMasterKey:options.useMasterKey,data:json});return request=request.then(function(resp,status,xhr){var serverAttrs=model.parse(resp,status,xhr);return options.wait&&(serverAttrs=_.extend(attrs||{},serverAttrs)),model._finishSave(serverAttrs),options.wait&&model.set(current,setOptions),model},function(error){return model._cancelSave(),Parse.Promise.error(error)})._thenRunCallbacks(options,model)}),this._allPreviousSaves)},destroy:function(options){options=options||{};var model=this,triggerDestroy=function(){model.trigger("destroy",model,model.collection,options)};if(!this.id)return triggerDestroy();options.wait||triggerDestroy();var request=Parse._request({route:"classes",className:this.className,objectId:this.id,method:"DELETE",useMasterKey:options.useMasterKey});return request.then(function(){return options.wait&&triggerDestroy(),model})._thenRunCallbacks(options,this)},parse:function(resp,status){var output=_.clone(resp);return _(["createdAt","updatedAt"]).each(function(key){output[key]&&(output[key]=Parse._parseDate(output[key]))}),output.updatedAt||(output.updatedAt=output.createdAt),status&&(this._existed=201!==status),output},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.id},change:function(options){options=options||{};var changing=this._changing;this._changing=!0;var self=this;Parse._objectEach(this._silent,function(attr){self._pending[attr]=!0});var changes=_.extend({},options.changes,this._silent);if(this._silent={},Parse._objectEach(changes,function(unused_value,attr){self.trigger("change:"+attr,self,self.get(attr),options)}),changing)return this;for(var deleteChanged=function(value,attr){self._pending[attr]||self._silent[attr]||delete self.changed[attr]};!_.isEmpty(this._pending);)this._pending={},this.trigger("change",this,options),Parse._objectEach(this.changed,deleteChanged),self._previousAttributes=_.clone(this.attributes);return this._changing=!1,this},existed:function(){return this._existed},hasChanged:function(attr){return arguments.length?this.changed&&_.has(this.changed,attr):!_.isEmpty(this.changed)},changedAttributes:function(diff){if(!diff)return this.hasChanged()?_.clone(this.changed):!1;var changed={},old=this._previousAttributes;return Parse._objectEach(diff,function(diffVal,attr){_.isEqual(old[attr],diffVal)||(changed[attr]=diffVal)}),changed},previous:function(attr){return arguments.length&&this._previousAttributes?this._previousAttributes[attr]:null},previousAttributes:function(){return _.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},validate:function(attrs){return!_.has(attrs,"ACL")||attrs.ACL instanceof Parse.ACL?!1:new Parse.Error(Parse.Error.OTHER_CAUSE,"ACL must be a Parse.ACL.")},_validate:function(attrs,options){if(options.silent||!this.validate)return!0;attrs=_.extend({},this.attributes,attrs);var error=this.validate(attrs,options);return error?(options&&options.error?options.error(this,error,options):this.trigger("error",this,error,options),!1):!0},getACL:function(){return this.get("ACL")},setACL:function(acl,options){return this.set("ACL",acl,options)}}),Parse.Object._getSubclass=function(className){if(!_.isString(className))throw"Parse.Object._getSubclass requires a string argument.";var ObjectClass=Parse.Object._classMap[className];return ObjectClass||(ObjectClass=Parse.Object.extend(className),Parse.Object._classMap[className]=ObjectClass),ObjectClass},Parse.Object._create=function(className,attributes,options){var ObjectClass=Parse.Object._getSubclass(className);return new ObjectClass(attributes,options)},Parse.Object._classMap={},Parse.Object._extend=Parse._extend,Parse.Object.extend=function(className,protoProps,classProps){if(!_.isString(className)){if(className&&_.has(className,"className"))return Parse.Object.extend(className.className,className,protoProps);throw Error("Parse.Object.extend's first argument should be the className.")}"User"===className&&(className="_User");var NewClassObject=null;if(_.has(Parse.Object._classMap,className)){var OldClassObject=Parse.Object._classMap[className];NewClassObject=OldClassObject._extend(protoProps,classProps)}else protoProps=protoProps||{},protoProps.className=className,NewClassObject=this._extend(protoProps,classProps);return NewClassObject.extend=function(arg0){if(_.isString(arg0)||arg0&&_.has(arg0,"className"))return Parse.Object.extend.apply(NewClassObject,arguments);var newArguments=[className].concat(Parse._.toArray(arguments));return Parse.Object.extend.apply(NewClassObject,newArguments)},Parse.Object._classMap[className]=NewClassObject,NewClassObject},Parse.Object._findUnsavedChildren=function(object,children,files){Parse._traverse(object,function(object){return object instanceof Parse.Object?(object._refreshCache(),object.dirty()&&children.push(object),void 0):object instanceof Parse.File?(object.url()||files.push(object),void 0):void 0})},Parse.Object._canBeSerializedAsValue=function(object){if(object instanceof Parse.Object)return!!object.id;if(object instanceof Parse.File)return!0;var canBeSerializedAsValue=!0;return _.isArray(object)?Parse._arrayEach(object,function(child){Parse.Object._canBeSerializedAsValue(child)||(canBeSerializedAsValue=!1)}):_.isObject(object)&&Parse._objectEach(object,function(child){Parse.Object._canBeSerializedAsValue(child)||(canBeSerializedAsValue=!1)}),canBeSerializedAsValue},Parse.Object._deepSaveAsync=function(object,options){var unsavedChildren=[],unsavedFiles=[];Parse.Object._findUnsavedChildren(object,unsavedChildren,unsavedFiles);var promise=Parse.Promise.as();_.each(unsavedFiles,function(file){promise=promise.then(function(){return file.save(options)})});var objects=_.uniq(unsavedChildren),remaining=_.uniq(objects);return promise.then(function(){return Parse.Promise._continueWhile(function(){return remaining.length>0},function(){var batch=[],newRemaining=[];if(Parse._arrayEach(remaining,function(object){return batch.length>20?(newRemaining.push(object),void 0):(object._canBeSerialized()?batch.push(object):newRemaining.push(object),void 0)}),remaining=newRemaining,0===batch.length)return Parse.Promise.error(new Parse.Error(Parse.Error.OTHER_CAUSE,"Tried to save a batch with a cycle."));var readyToStart=Parse.Promise.when(_.map(batch,function(object){return object._allPreviousSaves||Parse.Promise.as()})),batchFinished=new Parse.Promise;return Parse._arrayEach(batch,function(object){object._allPreviousSaves=batchFinished}),readyToStart._continueWith(function(){return Parse._request({route:"batch",method:"POST",useMasterKey:options.useMasterKey,data:{requests:_.map(batch,function(object){var json=object._getSaveJSON(),method="POST",path="/1/classes/"+object.className;return object.id&&(path=path+"/"+object.id,method="PUT"),object._startSave(),{method:method,path:path,body:json}})}}).then(function(response,status,xhr){var error;return Parse._arrayEach(batch,function(object,i){response[i].success?object._finishSave(object.parse(response[i].success,status,xhr)):(error=error||response[i].error,object._cancelSave())}),error?Parse.Promise.error(new Parse.Error(error.code,error.error)):void 0}).then(function(results){return batchFinished.resolve(results),results},function(error){return batchFinished.reject(error),Parse.Promise.error(error)})})})}).then(function(){return object})}}(this),function(root){root.Parse=root.Parse||{};var Parse=root.Parse,_=Parse._;Parse.Role=Parse.Object.extend("_Role",{constructor:function(name,acl){_.isString(name)&&acl instanceof Parse.ACL?(Parse.Object.prototype.constructor.call(this,null,null),this.setName(name),this.setACL(acl)):Parse.Object.prototype.constructor.call(this,name,acl)},getName:function(){return this.get("name")},setName:function(name,options){return this.set("name",name,options)},getUsers:function(){return this.relation("users")},getRoles:function(){return this.relation("roles")},validate:function(attrs,options){if("name"in attrs&&attrs.name!==this.getName()){var newName=attrs.name;if(this.id&&this.id!==attrs.objectId)return new Parse.Error(Parse.Error.OTHER_CAUSE,"A role's name can only be set before it has been saved.");if(!_.isString(newName))return new Parse.Error(Parse.Error.OTHER_CAUSE,"A role's name must be a String.");if(!/^[0-9a-zA-Z\-_ ]+$/.test(newName))return new Parse.Error(Parse.Error.OTHER_CAUSE,"A role's name can only contain alphanumeric characters, _, -, and spaces.")}return Parse.Object.prototype.validate?Parse.Object.prototype.validate.call(this,attrs,options):!1}})}(this),function(root){root.Parse=root.Parse||{};var Parse=root.Parse,_=Parse._;Parse.Collection=function(models,options){options=options||{},options.comparator&&(this.comparator=options.comparator),options.model&&(this.model=options.model),options.query&&(this.query=options.query),this._reset(),this.initialize.apply(this,arguments),models&&this.reset(models,{silent:!0,parse:options.parse})},_.extend(Parse.Collection.prototype,Parse.Events,{model:Parse.Object,initialize:function(){},toJSON:function(){return this.map(function(model){return model.toJSON()})},add:function(models,options){var i,index,length,model,cid,id,cids={},ids={};for(options=options||{},models=_.isArray(models)?models.slice():[models],i=0,length=models.length;length>i;i++){if(models[i]=this._prepareModel(models[i],options),model=models[i],!model)throw Error("Can't add an invalid model to a collection");if(cid=model.cid,cids[cid]||this._byCid[cid])throw Error("Duplicate cid: can't add the same model to a collection twice");if(id=model.id,!Parse._isNullOrUndefined(id)&&(ids[id]||this._byId[id]))throw Error("Duplicate id: can't add the same model to a collection twice");ids[id]=model,cids[cid]=model}for(i=0;length>i;i++)(model=models[i]).on("all",this._onModelEvent,this),this._byCid[model.cid]=model,model.id&&(this._byId[model.id]=model);if(this.length+=length,index=Parse._isNullOrUndefined(options.at)?this.models.length:options.at,this.models.splice.apply(this.models,[index,0].concat(models)),this.comparator&&this.sort({silent:!0}),options.silent)return this;for(i=0,length=this.models.length;length>i;i++)model=this.models[i],cids[model.cid]&&(options.index=i,model.trigger("add",model,this,options));return this},remove:function(models,options){var i,l,index,model;for(options=options||{},models=_.isArray(models)?models.slice():[models],i=0,l=models.length;l>i;i++)model=this.getByCid(models[i])||this.get(models[i]),model&&(delete this._byId[model.id],delete this._byCid[model.cid],index=this.indexOf(model),this.models.splice(index,1),this.length--,options.silent||(options.index=index,model.trigger("remove",model,this,options)),this._removeReference(model));return this},get:function(id){return id&&this._byId[id.id||id]},getByCid:function(cid){return cid&&this._byCid[cid.cid||cid]},at:function(index){return this.models[index]},sort:function(options){if(options=options||{},!this.comparator)throw Error("Cannot sort a set without a comparator");var boundComparator=_.bind(this.comparator,this);return 1===this.comparator.length?this.models=this.sortBy(boundComparator):this.models.sort(boundComparator),options.silent||this.trigger("reset",this,options),this},pluck:function(attr){return _.map(this.models,function(model){return model.get(attr)})},reset:function(models,options){var self=this;return models=models||[],options=options||{},Parse._arrayEach(this.models,function(model){self._removeReference(model)}),this._reset(),this.add(models,{silent:!0,parse:options.parse}),options.silent||this.trigger("reset",this,options),this},fetch:function(options){options=_.clone(options)||{},void 0===options.parse&&(options.parse=!0);var collection=this,query=this.query||new Parse.Query(this.model);return query.find({useMasterKey:options.useMasterKey}).then(function(results){return options.add?collection.add(results,options):collection.reset(results,options),collection})._thenRunCallbacks(options,this)},create:function(model,options){var coll=this;if(options=options?_.clone(options):{},model=this._prepareModel(model,options),!model)return!1;options.wait||coll.add(model,options);var success=options.success;return options.success=function(nextModel,resp){options.wait&&coll.add(nextModel,options),success?success(nextModel,resp):nextModel.trigger("sync",model,resp,options)},model.save(null,options),model},parse:function(resp){return resp},chain:function(){return _(this.models).chain()},_reset:function(){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(model,options){if(model instanceof Parse.Object)model.collection||(model.collection=this);else{var attrs=model;options.collection=this,model=new this.model(attrs,options),model._validate(model.attributes,options)||(model=!1)}return model},_removeReference:function(model){this===model.collection&&delete model.collection,model.off("all",this._onModelEvent,this)},_onModelEvent:function(ev,model,collection,options){("add"!==ev&&"remove"!==ev||collection===this)&&("destroy"===ev&&this.remove(model,options),model&&"change:objectId"===ev&&(delete this._byId[model.previous("objectId")],this._byId[model.id]=model),this.trigger.apply(this,arguments))}});var methods=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];Parse._arrayEach(methods,function(method){Parse.Collection.prototype[method]=function(){return _[method].apply(_,[this.models].concat(_.toArray(arguments)))}}),Parse.Collection.extend=Parse._extend}(this),function(root){root.Parse=root.Parse||{};var Parse=root.Parse,_=Parse._;Parse.View=function(options){this.cid=_.uniqueId("view"),this._configure(options||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()};var eventSplitter=/^(\S+)\s*(.*)$/,viewOptions=["model","collection","el","id","attributes","className","tagName"];_.extend(Parse.View.prototype,Parse.Events,{tagName:"div",$:function(selector){return this.$el.find(selector)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(tagName,attributes,content){var el=document.createElement(tagName);return attributes&&Parse.$(el).attr(attributes),content&&Parse.$(el).html(content),el},setElement:function(element,delegate){return this.$el=Parse.$(element),this.el=this.$el[0],delegate!==!1&&this.delegateEvents(),this},delegateEvents:function(events){if(events=events||Parse._getValue(this,"events")){this.undelegateEvents();var self=this;Parse._objectEach(events,function(method,key){if(_.isFunction(method)||(method=self[events[key]]),!method)throw Error('Event "'+events[key]+'" does not exist');var match=key.match(eventSplitter),eventName=match[1],selector=match[2];method=_.bind(method,self),eventName+=".delegateEvents"+self.cid,""===selector?self.$el.bind(eventName,method):self.$el.delegate(selector,eventName,method)})}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(options){this.options&&(options=_.extend({},this.options,options));var self=this;_.each(viewOptions,function(attr){options[attr]&&(self[attr]=options[attr])}),this.options=options},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var attrs=Parse._getValue(this,"attributes")||{};this.id&&(attrs.id=this.id),this.className&&(attrs["class"]=this.className),this.setElement(this.make(this.tagName,attrs),!1)}}}),Parse.View.extend=Parse._extend}(this),function(root){root.Parse=root.Parse||{};var Parse=root.Parse,_=Parse._;Parse.User=Parse.Object.extend("_User",{_isCurrentUser:!1,_mergeMagicFields:function(attrs){attrs.sessionToken&&(this._sessionToken=attrs.sessionToken,delete attrs.sessionToken),Parse.User.__super__._mergeMagicFields.call(this,attrs)},_cleanupAuthData:function(){if(this.isCurrent()){var authData=this.get("authData");authData&&Parse._objectEach(this.get("authData"),function(value,key){authData[key]||delete authData[key]})}},_synchronizeAllAuthData:function(){var authData=this.get("authData");if(authData){var self=this;Parse._objectEach(this.get("authData"),function(value,key){self._synchronizeAuthData(key)})}},_synchronizeAuthData:function(provider){if(this.isCurrent()){var authType;_.isString(provider)?(authType=provider,provider=Parse.User._authProviders[authType]):authType=provider.getAuthType();var authData=this.get("authData");if(authData&&provider){var success=provider.restoreAuthentication(authData[authType]);success||this._unlinkFrom(provider)}}},_handleSaveResult:function(makeCurrent){makeCurrent&&(this._isCurrentUser=!0),this._cleanupAuthData(),this._synchronizeAllAuthData(),delete this._serverData.password,this._rebuildEstimatedDataForKey("password"),this._refreshCache(),(makeCurrent||this.isCurrent())&&Parse.User._saveCurrentUser(this)},_linkWith:function(provider,options){var authType;if(_.isString(provider)?(authType=provider,provider=Parse.User._authProviders[provider]):authType=provider.getAuthType(),_.has(options,"authData")){var authData=this.get("authData")||{};authData[authType]=options.authData,this.set("authData",authData);var newOptions=_.clone(options)||{};return newOptions.success=function(model){model._handleSaveResult(!0),options.success&&options.success.apply(this,arguments)},this.save({authData:authData},newOptions)}var self=this,promise=new Parse.Promise;return provider.authenticate({success:function(provider,result){self._linkWith(provider,{authData:result,success:options.success,error:options.error}).then(function(){promise.resolve(self)})},error:function(provider,error){options.error&&options.error(self,error),promise.reject(error)}}),promise},_unlinkFrom:function(provider,options){var authType;_.isString(provider)?(authType=provider,provider=Parse.User._authProviders[provider]):authType=provider.getAuthType();var newOptions=_.clone(options),self=this;return newOptions.authData=null,newOptions.success=function(){self._synchronizeAuthData(provider),options.success&&options.success.apply(this,arguments)},this._linkWith(provider,newOptions)},_isLinked:function(provider){var authType;authType=_.isString(provider)?provider:provider.getAuthType();var authData=this.get("authData")||{};return!!authData[authType]},_logOutWithAll:function(){var authData=this.get("authData");if(authData){var self=this;Parse._objectEach(this.get("authData"),function(value,key){self._logOutWith(key)})}},_logOutWith:function(provider){this.isCurrent()&&(_.isString(provider)&&(provider=Parse.User._authProviders[provider]),provider&&provider.deauthenticate&&provider.deauthenticate())},signUp:function(attrs,options){var error;options=options||{};var username=attrs&&attrs.username||this.get("username");if(!username||""===username)return error=new Parse.Error(Parse.Error.OTHER_CAUSE,"Cannot sign up user with an empty name."),options&&options.error&&options.error(this,error),Parse.Promise.error(error);var password=attrs&&attrs.password||this.get("password");if(!password||""===password)return error=new Parse.Error(Parse.Error.OTHER_CAUSE,"Cannot sign up user with an empty password."),options&&options.error&&options.error(this,error),Parse.Promise.error(error);var newOptions=_.clone(options);return newOptions.success=function(model){model._handleSaveResult(!0),options.success&&options.success.apply(this,arguments)},this.save(attrs,newOptions)},logIn:function(options){var model=this;options=options||{};var request=Parse._request({route:"login",method:"GET",useMasterKey:options.useMasterKey,data:this.toJSON()});return request.then(function(resp,status,xhr){var serverAttrs=model.parse(resp,status,xhr);return model._finishFetch(serverAttrs),model._handleSaveResult(!0),model})._thenRunCallbacks(options,this)},save:function(arg1,arg2,arg3){var attrs,options;_.isObject(arg1)||_.isNull(arg1)||_.isUndefined(arg1)?(attrs=arg1,options=arg2):(attrs={},attrs[arg1]=arg2,options=arg3),options=options||{};var newOptions=_.clone(options);return newOptions.success=function(model){model._handleSaveResult(!1),options.success&&options.success.apply(this,arguments)},Parse.Object.prototype.save.call(this,attrs,newOptions)},fetch:function(options){var newOptions=options?_.clone(options):{};return newOptions.success=function(model){model._handleSaveResult(!1),options&&options.success&&options.success.apply(this,arguments)},Parse.Object.prototype.fetch.call(this,newOptions)},isCurrent:function(){return this._isCurrentUser},getUsername:function(){return this.get("username")},setUsername:function(username,options){return this.set("username",username,options)},setPassword:function(password,options){return this.set("password",password,options)},getEmail:function(){return this.get("email")},setEmail:function(email,options){return this.set("email",email,options)},authenticated:function(){return!!this._sessionToken&&Parse.User.current()&&Parse.User.current().id===this.id}},{_currentUser:null,_currentUserMatchesDisk:!1,_CURRENT_USER_KEY:"currentUser",_authProviders:{},signUp:function(username,password,attrs,options){attrs=attrs||{},attrs.username=username,attrs.password=password;var user=Parse.Object._create("_User");return user.signUp(attrs,options)},logIn:function(username,password,options){var user=Parse.Object._create("_User");return user._finishFetch({username:username,password:password}),user.logIn(options)},logOut:function(){null!==Parse.User._currentUser&&(Parse.User._currentUser._logOutWithAll(),Parse.User._currentUser._isCurrentUser=!1),Parse.User._currentUserMatchesDisk=!0,Parse.User._currentUser=null,Parse.localStorage.removeItem(Parse._getParsePath(Parse.User._CURRENT_USER_KEY))},requestPasswordReset:function(email,options){options=options||{};var request=Parse._request({route:"requestPasswordReset",method:"POST",useMasterKey:options.useMasterKey,data:{email:email}});return request._thenRunCallbacks(options)},current:function(){if(Parse.User._currentUser)return Parse.User._currentUser;if(Parse.User._currentUserMatchesDisk)return Parse.User._currentUser;Parse.User._currentUserMatchesDisk=!0;var userData=Parse.localStorage.getItem(Parse._getParsePath(Parse.User._CURRENT_USER_KEY));if(!userData)return null;Parse.User._currentUser=Parse.Object._create("_User"),Parse.User._currentUser._isCurrentUser=!0;var json=JSON.parse(userData);return Parse.User._currentUser.id=json._id,delete json._id,Parse.User._currentUser._sessionToken=json._sessionToken,delete json._sessionToken,Parse.User._currentUser.set(json),Parse.User._currentUser._synchronizeAllAuthData(),Parse.User._currentUser._refreshCache(),Parse.User._currentUser._opSetQueue=[{}],Parse.User._currentUser},_saveCurrentUser:function(user){Parse.User._currentUser!==user&&Parse.User.logOut(),user._isCurrentUser=!0,Parse.User._currentUser=user,Parse.User._currentUserMatchesDisk=!0;var json=user.toJSON();json._id=user.id,json._sessionToken=user._sessionToken,Parse.localStorage.setItem(Parse._getParsePath(Parse.User._CURRENT_USER_KEY),JSON.stringify(json))},_registerAuthenticationProvider:function(provider){Parse.User._authProviders[provider.getAuthType()]=provider,Parse.User.current()&&Parse.User.current()._synchronizeAuthData(provider.getAuthType())},_logInWith:function(provider,options){var user=Parse.Object._create("_User");return user._linkWith(provider,options)}})}(this),function(root){root.Parse=root.Parse||{};var Parse=root.Parse,_=Parse._;Parse.Query=function(objectClass){_.isString(objectClass)&&(objectClass=Parse.Object._getSubclass(objectClass)),this.objectClass=objectClass,this.className=objectClass.prototype.className,this._where={},this._include=[],this._limit=-1,this._skip=0,this._extraOptions={}},Parse.Query.or=function(){var queries=_.toArray(arguments),className=null;Parse._arrayEach(queries,function(q){if(_.isNull(className)&&(className=q.className),className!==q.className)throw"All queries must be for the same class"});var query=new Parse.Query(className);return query._orQuery(queries),query},Parse.Query.prototype={get:function(objectId,options){var self=this;return self.equalTo("objectId",objectId),self.first().then(function(response){if(response)return response;var errorObject=new Parse.Error(Parse.Error.OBJECT_NOT_FOUND,"Object not found.");return Parse.Promise.error(errorObject)})._thenRunCallbacks(options,null)},toJSON:function(){var params={where:this._where};return this._include.length>0&&(params.include=this._include.join(",")),this._select&&(params.keys=this._select.join(",")),this._limit>=0&&(params.limit=this._limit),this._skip>0&&(params.skip=this._skip),void 0!==this._order&&(params.order=this._order),Parse._objectEach(this._extraOptions,function(v,k){params[k]=v}),params},find:function(options){var self=this;options=options||{};var request=Parse._request({route:"classes",className:this.className,method:"GET",useMasterKey:options.useMasterKey,data:this.toJSON()});return request.then(function(response){return _.map(response.results,function(json){var obj;return obj=response.className?new Parse.Object(response.className):new self.objectClass,obj._finishFetch(json,!0),obj})})._thenRunCallbacks(options)},count:function(options){var self=this;options=options||{};
var params=this.toJSON();params.limit=0,params.count=1;var request=Parse._request({route:"classes",className:self.className,method:"GET",useMasterKey:options.useMasterKey,data:params});return request.then(function(response){return response.count})._thenRunCallbacks(options)},first:function(options){var self=this;options=options||{};var params=this.toJSON();params.limit=1;var request=Parse._request({route:"classes",className:this.className,method:"GET",useMasterKey:options.useMasterKey,data:params});return request.then(function(response){return _.map(response.results,function(json){var obj=new self.objectClass;return obj._finishFetch(json,!0),obj})[0]})._thenRunCallbacks(options)},collection:function(items,options){return options=options||{},new Parse.Collection(items,_.extend(options,{model:this.objectClass,query:this}))},skip:function(n){return this._skip=n,this},limit:function(n){return this._limit=n,this},equalTo:function(key,value){return _.isUndefined(value)?this.doesNotExist(key):(this._where[key]=Parse._encode(value),this)},_addCondition:function(key,condition,value){return this._where[key]||(this._where[key]={}),this._where[key][condition]=Parse._encode(value),this},notEqualTo:function(key,value){return this._addCondition(key,"$ne",value),this},lessThan:function(key,value){return this._addCondition(key,"$lt",value),this},greaterThan:function(key,value){return this._addCondition(key,"$gt",value),this},lessThanOrEqualTo:function(key,value){return this._addCondition(key,"$lte",value),this},greaterThanOrEqualTo:function(key,value){return this._addCondition(key,"$gte",value),this},containedIn:function(key,values){return this._addCondition(key,"$in",values),this},notContainedIn:function(key,values){return this._addCondition(key,"$nin",values),this},containsAll:function(key,values){return this._addCondition(key,"$all",values),this},exists:function(key){return this._addCondition(key,"$exists",!0),this},doesNotExist:function(key){return this._addCondition(key,"$exists",!1),this},matches:function(key,regex,modifiers){return this._addCondition(key,"$regex",regex),modifiers||(modifiers=""),regex.ignoreCase&&(modifiers+="i"),regex.multiline&&(modifiers+="m"),modifiers&&modifiers.length&&this._addCondition(key,"$options",modifiers),this},matchesQuery:function(key,query){var queryJSON=query.toJSON();return queryJSON.className=query.className,this._addCondition(key,"$inQuery",queryJSON),this},doesNotMatchQuery:function(key,query){var queryJSON=query.toJSON();return queryJSON.className=query.className,this._addCondition(key,"$notInQuery",queryJSON),this},matchesKeyInQuery:function(key,queryKey,query){var queryJSON=query.toJSON();return queryJSON.className=query.className,this._addCondition(key,"$select",{key:queryKey,query:queryJSON}),this},doesNotMatchKeyInQuery:function(key,queryKey,query){var queryJSON=query.toJSON();return queryJSON.className=query.className,this._addCondition(key,"$dontSelect",{key:queryKey,query:queryJSON}),this},_orQuery:function(queries){var queryJSON=_.map(queries,function(q){return q.toJSON().where});return this._where.$or=queryJSON,this},_quote:function(s){return"\\Q"+s.replace("\\E","\\E\\\\E\\Q")+"\\E"},contains:function(key,value){return this._addCondition(key,"$regex",this._quote(value)),this},startsWith:function(key,value){return this._addCondition(key,"$regex","^"+this._quote(value)),this},endsWith:function(key,value){return this._addCondition(key,"$regex",this._quote(value)+"$"),this},ascending:function(key){return this._order=key,this},descending:function(key){return this._order="-"+key,this},near:function(key,point){return point instanceof Parse.GeoPoint||(point=new Parse.GeoPoint(point)),this._addCondition(key,"$nearSphere",point),this},withinRadians:function(key,point,distance){return this.near(key,point),this._addCondition(key,"$maxDistance",distance),this},withinMiles:function(key,point,distance){return this.withinRadians(key,point,distance/3958.8)},withinKilometers:function(key,point,distance){return this.withinRadians(key,point,distance/6371)},withinGeoBox:function(key,southwest,northeast){return southwest instanceof Parse.GeoPoint||(southwest=new Parse.GeoPoint(southwest)),northeast instanceof Parse.GeoPoint||(northeast=new Parse.GeoPoint(northeast)),this._addCondition(key,"$within",{$box:[southwest,northeast]}),this},include:function(){var self=this;return Parse._arrayEach(arguments,function(key){_.isArray(key)?self._include=self._include.concat(key):self._include.push(key)}),this},select:function(){var self=this;return this._select=this._select||[],Parse._arrayEach(arguments,function(key){_.isArray(key)?self._select=self._select.concat(key):self._select.push(key)}),this},each:function(callback,options){if(options=options||{},this._order||this._skip||this._limit>=0){var error="Cannot iterate on a query with sort, skip, or limit.";return Parse.Promise.error(error)._thenRunCallbacks(options)}new Parse.Promise;var query=new Parse.Query(this.objectClass);query._limit=options.batchSize||100,query._where=_.clone(this._where),query._include=_.clone(this._include),query.ascending("objectId");var finished=!1;return Parse.Promise._continueWhile(function(){return!finished},function(){return query.find().then(function(results){var callbacksDone=Parse.Promise.as();return Parse._.each(results,function(result){callbacksDone=callbacksDone.then(function(){return callback(result)})}),callbacksDone.then(function(){results.length>=query._limit?query.greaterThan("objectId",results[results.length-1].id):finished=!0})})})._thenRunCallbacks(options)}}}(this),function(root){root.Parse=root.Parse||{};var requestedPermissions,initOptions,Parse=root.Parse,_=Parse._,initialized=!1,provider={authenticate:function(options){var self=this;FB.login(function(response){response.authResponse?options.success&&options.success(self,{id:response.authResponse.userID,access_token:response.authResponse.accessToken,expiration_date:new Date(1e3*response.authResponse.expiresIn+(new Date).getTime()).toJSON()}):options.error&&options.error(self,response)},{scope:requestedPermissions})},restoreAuthentication:function(authData){if(authData){var authResponse={userID:authData.id,accessToken:authData.access_token,expiresIn:(Parse._parseDate(authData.expiration_date).getTime()-(new Date).getTime())/1e3},newOptions=_.clone(initOptions);newOptions.authResponse=authResponse,newOptions.status=!1;var existingResponse=FB.getAuthResponse();existingResponse&&existingResponse.userID!==authResponse.userID&&FB.logout(),FB.init(newOptions)}return!0},getAuthType:function(){return"facebook"},deauthenticate:function(){this.restoreAuthentication(null)}};Parse.FacebookUtils={init:function(options){if("undefined"==typeof FB)throw"The Facebook JavaScript SDK must be loaded before calling init.";if(initOptions=_.clone(options)||{},initOptions.status&&"undefined"!=typeof console){var warn=console.warn||console.log||function(){};warn.call(console,"The 'status' flag passed into FB.init, when set to true, can interfere with Parse Facebook integration, so it has been suppressed. Please call FB.getLoginStatus() explicitly if you require this behavior.")}initOptions.status=!1,FB.init(initOptions),Parse.User._registerAuthenticationProvider(provider),initialized=!0},isLinked:function(user){return user._isLinked("facebook")},logIn:function(permissions,options){if(!permissions||_.isString(permissions)){if(!initialized)throw"You must initialize FacebookUtils before calling logIn.";return requestedPermissions=permissions,Parse.User._logInWith("facebook",options)}var newOptions=_.clone(options)||{};return newOptions.authData=permissions,Parse.User._logInWith("facebook",newOptions)},link:function(user,permissions,options){if(!permissions||_.isString(permissions)){if(!initialized)throw"You must initialize FacebookUtils before calling link.";return requestedPermissions=permissions,user._linkWith("facebook",options)}var newOptions=_.clone(options)||{};return newOptions.authData=permissions,user._linkWith("facebook",newOptions)},unlink:function(user,options){if(!initialized)throw"You must initialize FacebookUtils before calling unlink.";return user._unlinkFrom("facebook",options)}}}(this),function(root){root.Parse=root.Parse||{};var Parse=root.Parse,_=Parse._;Parse.History=function(){this.handlers=[],_.bindAll(this,"checkUrl")};var routeStripper=/^[#\/]/,isExplorer=/msie [\w.]+/;Parse.History.started=!1,_.extend(Parse.History.prototype,Parse.Events,{interval:50,getHash:function(windowOverride){var loc=windowOverride?windowOverride.location:window.location,match=loc.href.match(/#(.*)$/);return match?match[1]:""},getFragment:function(fragment,forcePushState){if(Parse._isNullOrUndefined(fragment))if(this._hasPushState||forcePushState){fragment=window.location.pathname;var search=window.location.search;search&&(fragment+=search)}else fragment=this.getHash();return fragment.indexOf(this.options.root)||(fragment=fragment.substr(this.options.root.length)),fragment.replace(routeStripper,"")},start:function(options){if(Parse.History.started)throw Error("Parse.history has already been started");Parse.History.started=!0,this.options=_.extend({},{root:"/"},this.options,options),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var fragment=this.getFragment(),docMode=document.documentMode,oldIE=isExplorer.exec(navigator.userAgent.toLowerCase())&&(!docMode||7>=docMode);oldIE&&(this.iframe=Parse.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(fragment)),this._hasPushState?Parse.$(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!oldIE?Parse.$(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=window.setInterval(this.checkUrl,this.interval)),this.fragment=fragment;var loc=window.location,atRoot=loc.pathname===this.options.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!atRoot?(this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&atRoot&&loc.hash&&(this.fragment=this.getHash().replace(routeStripper,""),window.history.replaceState({},document.title,loc.protocol+"//"+loc.host+this.options.root+this.fragment)),this.options.silent?void 0:this.loadUrl())},stop:function(){Parse.$(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),window.clearInterval(this._checkUrlInterval),Parse.History.started=!1},route:function(route,callback){this.handlers.unshift({route:route,callback:callback})},checkUrl:function(){var current=this.getFragment();return current===this.fragment&&this.iframe&&(current=this.getFragment(this.getHash(this.iframe))),current===this.fragment?!1:(this.iframe&&this.navigate(current),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(fragmentOverride){var fragment=this.fragment=this.getFragment(fragmentOverride),matched=_.any(this.handlers,function(handler){return handler.route.test(fragment)?(handler.callback(fragment),!0):void 0});return matched},navigate:function(fragment,options){if(!Parse.History.started)return!1;options&&options!==!0||(options={trigger:options});var frag=(fragment||"").replace(routeStripper,"");if(this.fragment!==frag){if(this._hasPushState){0!==frag.indexOf(this.options.root)&&(frag=this.options.root+frag),this.fragment=frag;var replaceOrPush=options.replace?"replaceState":"pushState";window.history[replaceOrPush]({},document.title,frag)}else this._wantsHashChange?(this.fragment=frag,this._updateHash(window.location,frag,options.replace),this.iframe&&frag!==this.getFragment(this.getHash(this.iframe))&&(options.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,frag,options.replace))):window.location.assign(this.options.root+fragment);options.trigger&&this.loadUrl(fragment)}},_updateHash:function(location,fragment,replace){if(replace){var s=(""+location).replace(/(javascript:|#).*$/,"");location.replace(s+"#"+fragment)}else location.hash=fragment}})}(this),function(root){root.Parse=root.Parse||{};var Parse=root.Parse,_=Parse._;Parse.Router=function(options){options=options||{},options.routes&&(this.routes=options.routes),this._bindRoutes(),this.initialize.apply(this,arguments)};var namedParam=/:\w+/g,splatParam=/\*\w+/g,escapeRegExp=/[\-\[\]{}()+?.,\\\^\$\|#\s]/g;_.extend(Parse.Router.prototype,Parse.Events,{initialize:function(){},route:function(route,name,callback){return Parse.history=Parse.history||new Parse.History,_.isRegExp(route)||(route=this._routeToRegExp(route)),callback||(callback=this[name]),Parse.history.route(route,_.bind(function(fragment){var args=this._extractParameters(route,fragment);callback&&callback.apply(this,args),this.trigger.apply(this,["route:"+name].concat(args)),Parse.history.trigger("route",this,name,args)},this)),this},navigate:function(fragment,options){Parse.history.navigate(fragment,options)},_bindRoutes:function(){if(this.routes){var routes=[];for(var route in this.routes)this.routes.hasOwnProperty(route)&&routes.unshift([route,this.routes[route]]);for(var i=0,l=routes.length;l>i;i++)this.route(routes[i][0],routes[i][1],this[routes[i][1]])}},_routeToRegExp:function(route){return route=route.replace(escapeRegExp,"\\$&").replace(namedParam,"([^/]+)").replace(splatParam,"(.*?)"),RegExp("^"+route+"$")},_extractParameters:function(route,fragment){return route.exec(fragment).slice(1)}}),Parse.Router.extend=Parse._extend}(this),function(root){root.Parse=root.Parse||{};var Parse=root.Parse,_=Parse._;Parse.Cloud=Parse.Cloud||{},_.extend(Parse.Cloud,{run:function(name,data,options){options=options||{};var request=Parse._request({route:"functions",className:name,method:"POST",useMasterKey:options.useMasterKey,data:Parse._encode(data,null,!0)});return request.then(function(resp){return Parse._decode(null,resp).result})._thenRunCallbacks(options)}})}(this),function(root){root.Parse=root.Parse||{};var Parse=root.Parse;Parse.Installation=Parse.Object.extend("_Installation"),Parse.Push=Parse.Push||{},Parse.Push.send=function(data,options){if(options=options||{},data.where&&(data.where=data.where.toJSON().where),data.push_time&&(data.push_time=data.push_time.toJSON()),data.expiration_time&&(data.expiration_time=data.expiration_time.toJSON()),data.expiration_time&&data.expiration_time_interval)throw"Both expiration_time and expiration_time_interval can't be set";var request=Parse._request({route:"push",method:"POST",data:data,useMasterKey:options.useMasterKey});return request._thenRunCallbacks(options)}}(this),function(f,h,$){function g(m){var l={},n=/^jQuery\d+$/;return $.each(m.attributes,function(p,o){o.specified&&!n.test(o.name)&&(l[o.name]=o.value)}),l}function b(m,n){var l=this,o=$(l);if(l.value==o.attr("placeholder")&&o.hasClass("placeholder"))if(o.data("placeholder-password")){if(o=o.hide().next().show().attr("id",o.removeAttr("id").data("placeholder-id")),m===!0)return o[0].value=n;o.focus()}else l.value="",o.removeClass("placeholder"),l==h.activeElement&&l.select()}function e(){var q,l=this,p=$(l),o=this.id;if(""==l.value){if("password"==l.type){if(!p.data("placeholder-textinput")){try{q=p.clone().attr({type:"text"})}catch(n){q=$("<input>").attr($.extend(g(this),{type:"text"}))}q.removeAttr("name").data({"placeholder-password":!0,"placeholder-id":o}).bind("focus.placeholder",b),p.data({"placeholder-textinput":q,"placeholder-id":o}).before(q)}p=p.removeAttr("id").hide().prev().attr("id",o).show()}p.addClass("placeholder"),p[0].value=p.attr("placeholder")}else p.removeClass("placeholder")}var k,j,a="placeholder"in h.createElement("input"),d="placeholder"in h.createElement("textarea"),i=$.fn,c=$.valHooks;a&&d?(j=i.placeholder=function(){return this},j.input=j.textarea=!0):(j=i.placeholder=function(){var l=this;return l.filter((a?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":b,"blur.placeholder":e}).data("placeholder-enabled",!0).trigger("blur.placeholder"),l},j.input=a,j.textarea=d,k={get:function(m){var l=$(m);return l.data("placeholder-enabled")&&l.hasClass("placeholder")?"":m.value},set:function(m,n){var l=$(m);return l.data("placeholder-enabled")?(""==n?(m.value=n,m!=h.activeElement&&e.call(m)):l.hasClass("placeholder")?b.call(m,!0,n)||(m.value=n):m.value=n,l):m.value=n}},a||(c.input=k),d||(c.textarea=k),$(function(){$(h).delegate("form","submit.placeholder",function(){var l=$(".placeholder",this).each(b);setTimeout(function(){l.each(e)},10)})}),$(f).bind("beforeunload.placeholder",function(){$(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),function($){var plugin={},defaults={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:!1,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){}};$.fn.bxSlider=function(options){if(0==this.length)return this;if(this.length>1)return this.each(function(){$(this).bxSlider(options)}),this;var slider={},el=this;plugin.el=this;var windowWidth=$(window).width(),windowHeight=$(window).height(),init=function(){slider.settings=$.extend({},defaults,options),slider.settings.slideWidth=parseInt(slider.settings.slideWidth),slider.children=el.children(slider.settings.slideSelector),slider.children.length<slider.settings.minSlides&&(slider.settings.minSlides=slider.children.length),slider.children.length<slider.settings.maxSlides&&(slider.settings.maxSlides=slider.children.length),slider.settings.randomStart&&(slider.settings.startSlide=Math.floor(Math.random()*slider.children.length)),slider.active={index:slider.settings.startSlide},slider.carousel=slider.settings.minSlides>1||slider.settings.maxSlides>1,slider.carousel&&(slider.settings.preloadImages="all"),slider.minThreshold=slider.settings.minSlides*slider.settings.slideWidth+(slider.settings.minSlides-1)*slider.settings.slideMargin,slider.maxThreshold=slider.settings.maxSlides*slider.settings.slideWidth+(slider.settings.maxSlides-1)*slider.settings.slideMargin,slider.working=!1,slider.controls={},slider.interval=null,slider.animProp="vertical"==slider.settings.mode?"top":"left",slider.usingCSS=slider.settings.useCSS&&"fade"!=slider.settings.mode&&function(){var div=document.createElement("div"),props=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in props)if(void 0!==div.style[props[i]])return slider.cssPrefix=props[i].replace("Perspective","").toLowerCase(),slider.animProp="-"+slider.cssPrefix+"-transform",!0;return!1}(),"vertical"==slider.settings.mode&&(slider.settings.maxSlides=slider.settings.minSlides),el.data("origStyle",el.attr("style")),el.children(slider.settings.slideSelector).each(function(){$(this).data("origStyle",$(this).attr("style"))}),setup()},setup=function(){el.wrap('<div class="bx-wrapper"><div class="bx-viewport"></div></div>'),slider.viewport=el.parent(),slider.loader=$('<div class="bx-loading" />'),slider.viewport.prepend(slider.loader),el.css({width:"horizontal"==slider.settings.mode?100*slider.children.length+215+"%":"auto",position:"relative"}),slider.usingCSS&&slider.settings.easing?el.css("-"+slider.cssPrefix+"-transition-timing-function",slider.settings.easing):slider.settings.easing||(slider.settings.easing="swing"),getNumberSlidesShowing(),slider.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),slider.viewport.parent().css({maxWidth:getViewportMaxWidth()}),slider.settings.pager||slider.viewport.parent().css({margin:"0 auto 0px"}),slider.children.css({"float":"horizontal"==slider.settings.mode?"left":"none",listStyle:"none",position:"relative"}),slider.children.css("width",getSlideWidth()),"horizontal"==slider.settings.mode&&slider.settings.slideMargin>0&&slider.children.css("marginRight",slider.settings.slideMargin),"vertical"==slider.settings.mode&&slider.settings.slideMargin>0&&slider.children.css("marginBottom",slider.settings.slideMargin),"fade"==slider.settings.mode&&(slider.children.css({position:"absolute",zIndex:0,display:"none"}),slider.children.eq(slider.settings.startSlide).css({zIndex:50,display:"block"})),slider.controls.el=$('<div class="bx-controls" />'),slider.settings.captions&&appendCaptions(),slider.active.last=slider.settings.startSlide==getPagerQty()-1,slider.settings.video&&el.fitVids();var preloadSelector=slider.children.eq(slider.settings.startSlide);"all"==slider.settings.preloadImages&&(preloadSelector=slider.children),slider.settings.ticker?slider.settings.pager=!1:(slider.settings.pager&&appendPager(),slider.settings.controls&&appendControls(),slider.settings.auto&&slider.settings.autoControls&&appendControlsAuto(),(slider.settings.controls||slider.settings.autoControls||slider.settings.pager)&&slider.viewport.after(slider.controls.el)),loadElements(preloadSelector,start)},loadElements=function(selector,callback){var total=selector.find("img, iframe").length;if(0==total)return callback(),void 0;var count=0;selector.find("img, iframe").each(function(){$(this).one("load",function(){++count==total&&callback()}).each(function(){this.complete&&$(this).load()})})},start=function(){if(slider.settings.infiniteLoop&&"fade"!=slider.settings.mode&&!slider.settings.ticker){var slice="vertical"==slider.settings.mode?slider.settings.minSlides:slider.settings.maxSlides,sliceAppend=slider.children.slice(0,slice).clone().addClass("bx-clone"),slicePrepend=slider.children.slice(-slice).clone().addClass("bx-clone");el.append(sliceAppend).prepend(slicePrepend)}slider.loader.remove(),setSlidePosition(),"vertical"==slider.settings.mode&&(slider.settings.adaptiveHeight=!0),slider.viewport.height(getViewportHeight()),el.redrawSlider(),slider.settings.onSliderLoad(slider.active.index),slider.initialized=!0,slider.settings.responsive&&$(window).bind("resize",resizeWindow),slider.settings.auto&&slider.settings.autoStart&&initAuto(),slider.settings.ticker&&initTicker(),slider.settings.pager&&updatePagerActive(slider.settings.startSlide),slider.settings.controls&&updateDirectionControls(),slider.settings.touchEnabled&&!slider.settings.ticker&&initTouch()},getViewportHeight=function(){var height=0,children=$();if("vertical"==slider.settings.mode||slider.settings.adaptiveHeight)if(slider.carousel){var currentIndex=1==slider.settings.moveSlides?slider.active.index:slider.active.index*getMoveBy();for(children=slider.children.eq(currentIndex),i=1;slider.settings.maxSlides-1>=i;i++)children=currentIndex+i>=slider.children.length?children.add(slider.children.eq(i-1)):children.add(slider.children.eq(currentIndex+i))}else children=slider.children.eq(slider.active.index);else children=slider.children;return"vertical"==slider.settings.mode?(children.each(function(){height+=$(this).outerHeight()}),slider.settings.slideMargin>0&&(height+=slider.settings.slideMargin*(slider.settings.minSlides-1))):height=Math.max.apply(Math,children.map(function(){return $(this).outerHeight(!1)}).get()),height},getViewportMaxWidth=function(){var width="100%";return slider.settings.slideWidth>0&&(width="horizontal"==slider.settings.mode?slider.settings.maxSlides*slider.settings.slideWidth+(slider.settings.maxSlides-1)*slider.settings.slideMargin:slider.settings.slideWidth),width},getSlideWidth=function(){var newElWidth=slider.settings.slideWidth,wrapWidth=slider.viewport.width();return 0==slider.settings.slideWidth||slider.settings.slideWidth>wrapWidth&&!slider.carousel||"vertical"==slider.settings.mode?newElWidth=wrapWidth:slider.settings.maxSlides>1&&"horizontal"==slider.settings.mode&&(wrapWidth>slider.maxThreshold||slider.minThreshold>wrapWidth&&(newElWidth=(wrapWidth-slider.settings.slideMargin*(slider.settings.minSlides-1))/slider.settings.minSlides)),newElWidth},getNumberSlidesShowing=function(){var slidesShowing=1;if("horizontal"==slider.settings.mode&&slider.settings.slideWidth>0)if(slider.viewport.width()<slider.minThreshold)slidesShowing=slider.settings.minSlides;else if(slider.viewport.width()>slider.maxThreshold)slidesShowing=slider.settings.maxSlides;else{var childWidth=slider.children.first().width();slidesShowing=Math.floor(slider.viewport.width()/childWidth)}else"vertical"==slider.settings.mode&&(slidesShowing=slider.settings.minSlides);return slidesShowing},getPagerQty=function(){var pagerQty=0;if(slider.settings.moveSlides>0)if(slider.settings.infiniteLoop)pagerQty=slider.children.length/getMoveBy();else for(var breakPoint=0,counter=0;slider.children.length>breakPoint;)++pagerQty,breakPoint=counter+getNumberSlidesShowing(),counter+=slider.settings.moveSlides<=getNumberSlidesShowing()?slider.settings.moveSlides:getNumberSlidesShowing();else pagerQty=Math.ceil(slider.children.length/getNumberSlidesShowing());return pagerQty},getMoveBy=function(){return slider.settings.moveSlides>0&&slider.settings.moveSlides<=getNumberSlidesShowing()?slider.settings.moveSlides:getNumberSlidesShowing()},setSlidePosition=function(){if(slider.children.length>slider.settings.maxSlides&&slider.active.last&&!slider.settings.infiniteLoop){if("horizontal"==slider.settings.mode){var lastChild=slider.children.last(),position=lastChild.position();setPositionProperty(-(position.left-(slider.viewport.width()-lastChild.width())),"reset",0)}else if("vertical"==slider.settings.mode){var lastShowingIndex=slider.children.length-slider.settings.minSlides,position=slider.children.eq(lastShowingIndex).position();setPositionProperty(-position.top,"reset",0)}}else{var position=slider.children.eq(slider.active.index*getMoveBy()).position();slider.active.index==getPagerQty()-1&&(slider.active.last=!0),void 0!=position&&("horizontal"==slider.settings.mode?setPositionProperty(-position.left,"reset",0):"vertical"==slider.settings.mode&&setPositionProperty(-position.top,"reset",0))}},setPositionProperty=function(value,type,duration,params){if(slider.usingCSS){var propValue="vertical"==slider.settings.mode?"translate3d(0, "+value+"px, 0)":"translate3d("+value+"px, 0, 0)";el.css("-"+slider.cssPrefix+"-transition-duration",duration/1e3+"s"),"slide"==type?(el.css(slider.animProp,propValue),el.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){el.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),updateAfterSlideTransition()})):"reset"==type?el.css(slider.animProp,propValue):"ticker"==type&&(el.css("-"+slider.cssPrefix+"-transition-timing-function","linear"),el.css(slider.animProp,propValue),el.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){el.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),setPositionProperty(params.resetValue,"reset",0),tickerLoop()}))}else{var animateObj={};animateObj[slider.animProp]=value,"slide"==type?el.animate(animateObj,duration,slider.settings.easing,function(){updateAfterSlideTransition()}):"reset"==type?el.css(slider.animProp,value):"ticker"==type&&el.animate(animateObj,speed,"linear",function(){setPositionProperty(params.resetValue,"reset",0),tickerLoop()})}},populatePager=function(){for(var pagerHtml="",pagerQty=getPagerQty(),i=0;pagerQty>i;i++){var linkContent="";slider.settings.buildPager&&$.isFunction(slider.settings.buildPager)?(linkContent=slider.settings.buildPager(i),slider.pagerEl.addClass("bx-custom-pager")):(linkContent=i+1,slider.pagerEl.addClass("bx-default-pager")),pagerHtml+='<div class="bx-pager-item"><a href="" data-slide-index="'+i+'" class="bx-pager-link">'+linkContent+"</a></div>"}slider.pagerEl.html(pagerHtml)},appendPager=function(){slider.settings.pagerCustom?slider.pagerEl=$(slider.settings.pagerCustom):(slider.pagerEl=$('<div class="bx-pager" />'),slider.settings.pagerSelector?$(slider.settings.pagerSelector).html(slider.pagerEl):slider.controls.el.addClass("bx-has-pager").append(slider.pagerEl),populatePager()),slider.pagerEl.delegate("a","click",clickPagerBind)},appendControls=function(){slider.controls.next=$('<a class="bx-next" href="">'+slider.settings.nextText+"</a>"),slider.controls.prev=$('<a class="bx-prev" href="">'+slider.settings.prevText+"</a>"),slider.controls.next.bind("click",clickNextBind),slider.controls.prev.bind("click",clickPrevBind),slider.settings.nextSelector&&$(slider.settings.nextSelector).append(slider.controls.next),slider.settings.prevSelector&&$(slider.settings.prevSelector).append(slider.controls.prev),slider.settings.nextSelector||slider.settings.prevSelector||(slider.controls.directionEl=$('<div class="bx-controls-direction" />'),slider.controls.directionEl.append(slider.controls.prev).append(slider.controls.next),slider.controls.el.addClass("bx-has-controls-direction").append(slider.controls.directionEl))},appendControlsAuto=function(){slider.controls.start=$('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+slider.settings.startText+"</a></div>"),slider.controls.stop=$('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+slider.settings.stopText+"</a></div>"),slider.controls.autoEl=$('<div class="bx-controls-auto" />'),slider.controls.autoEl.delegate(".bx-start","click",clickStartBind),slider.controls.autoEl.delegate(".bx-stop","click",clickStopBind),slider.settings.autoControlsCombine?slider.controls.autoEl.append(slider.controls.start):slider.controls.autoEl.append(slider.controls.start).append(slider.controls.stop),slider.settings.autoControlsSelector?$(slider.settings.autoControlsSelector).html(slider.controls.autoEl):slider.controls.el.addClass("bx-has-controls-auto").append(slider.controls.autoEl),updateAutoControls(slider.settings.autoStart?"stop":"start")},appendCaptions=function(){slider.children.each(function(){var title=$(this).find("img:first").attr("title");void 0!=title&&(""+title).length&&$(this).append('<div class="bx-caption"><span>'+title+"</span></div>")})},clickNextBind=function(e){slider.settings.auto&&el.stopAuto(),el.goToNextSlide(),e.preventDefault()},clickPrevBind=function(e){slider.settings.auto&&el.stopAuto(),el.goToPrevSlide(),e.preventDefault()},clickStartBind=function(e){el.startAuto(),e.preventDefault()},clickStopBind=function(e){el.stopAuto(),e.preventDefault()},clickPagerBind=function(e){slider.settings.auto&&el.stopAuto();var pagerLink=$(e.currentTarget),pagerIndex=parseInt(pagerLink.attr("data-slide-index"));pagerIndex!=slider.active.index&&el.goToSlide(pagerIndex),e.preventDefault()},updatePagerActive=function(slideIndex){var len=slider.children.length;return"short"==slider.settings.pagerType?(slider.settings.maxSlides>1&&(len=Math.ceil(slider.children.length/slider.settings.maxSlides)),slider.pagerEl.html(slideIndex+1+slider.settings.pagerShortSeparator+len),void 0):(slider.pagerEl.find("a").removeClass("active"),slider.pagerEl.each(function(i,el){$(el).find("a").eq(slideIndex).addClass("active")}),void 0)},updateAfterSlideTransition=function(){if(slider.settings.infiniteLoop){var position="";0==slider.active.index?position=slider.children.eq(0).position():slider.active.index==getPagerQty()-1&&slider.carousel?position=slider.children.eq((getPagerQty()-1)*getMoveBy()).position():slider.active.index==slider.children.length-1&&(position=slider.children.eq(slider.children.length-1).position()),"horizontal"==slider.settings.mode?setPositionProperty(-position.left,"reset",0):"vertical"==slider.settings.mode&&setPositionProperty(-position.top,"reset",0)
}slider.working=!1,slider.settings.onSlideAfter(slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index)},updateAutoControls=function(state){slider.settings.autoControlsCombine?slider.controls.autoEl.html(slider.controls[state]):(slider.controls.autoEl.find("a").removeClass("active"),slider.controls.autoEl.find("a:not(.bx-"+state+")").addClass("active"))},updateDirectionControls=function(){1==getPagerQty()?(slider.controls.prev.addClass("disabled"),slider.controls.next.addClass("disabled")):!slider.settings.infiniteLoop&&slider.settings.hideControlOnEnd&&(0==slider.active.index?(slider.controls.prev.addClass("disabled"),slider.controls.next.removeClass("disabled")):slider.active.index==getPagerQty()-1?(slider.controls.next.addClass("disabled"),slider.controls.prev.removeClass("disabled")):(slider.controls.prev.removeClass("disabled"),slider.controls.next.removeClass("disabled")))},initAuto=function(){slider.settings.autoDelay>0?setTimeout(el.startAuto,slider.settings.autoDelay):el.startAuto(),slider.settings.autoHover&&el.hover(function(){slider.interval&&(el.stopAuto(!0),slider.autoPaused=!0)},function(){slider.autoPaused&&(el.startAuto(!0),slider.autoPaused=null)})},initTicker=function(){var startPosition=0;if("next"==slider.settings.autoDirection)el.append(slider.children.clone().addClass("bx-clone"));else{el.prepend(slider.children.clone().addClass("bx-clone"));var position=slider.children.first().position();startPosition="horizontal"==slider.settings.mode?-position.left:-position.top}setPositionProperty(startPosition,"reset",0),slider.settings.pager=!1,slider.settings.controls=!1,slider.settings.autoControls=!1,slider.settings.tickerHover&&!slider.usingCSS&&slider.viewport.hover(function(){el.stop()},function(){var totalDimens=0;slider.children.each(function(){totalDimens+="horizontal"==slider.settings.mode?$(this).outerWidth(!0):$(this).outerHeight(!0)});var ratio=slider.settings.speed/totalDimens,property="horizontal"==slider.settings.mode?"left":"top",newSpeed=ratio*(totalDimens-Math.abs(parseInt(el.css(property))));tickerLoop(newSpeed)}),tickerLoop()},tickerLoop=function(resumeSpeed){speed=resumeSpeed?resumeSpeed:slider.settings.speed;var position={left:0,top:0},reset={left:0,top:0};"next"==slider.settings.autoDirection?position=el.find(".bx-clone").first().position():reset=slider.children.first().position();var animateProperty="horizontal"==slider.settings.mode?-position.left:-position.top,resetValue="horizontal"==slider.settings.mode?-reset.left:-reset.top,params={resetValue:resetValue};setPositionProperty(animateProperty,"ticker",speed,params)},initTouch=function(){slider.touch={start:{x:0,y:0},end:{x:0,y:0}},slider.viewport.bind("touchstart",onTouchStart)},onTouchStart=function(e){if(slider.working)e.preventDefault();else{slider.touch.originalPos=el.position();var orig=e.originalEvent;slider.touch.start.x=orig.changedTouches[0].pageX,slider.touch.start.y=orig.changedTouches[0].pageY,slider.viewport.bind("touchmove",onTouchMove),slider.viewport.bind("touchend",onTouchEnd)}},onTouchMove=function(e){var orig=e.originalEvent,xMovement=Math.abs(orig.changedTouches[0].pageX-slider.touch.start.x),yMovement=Math.abs(orig.changedTouches[0].pageY-slider.touch.start.y);if(3*xMovement>yMovement&&slider.settings.preventDefaultSwipeX?e.preventDefault():3*yMovement>xMovement&&slider.settings.preventDefaultSwipeY&&e.preventDefault(),"fade"!=slider.settings.mode&&slider.settings.oneToOneTouch){var value=0;if("horizontal"==slider.settings.mode){var change=orig.changedTouches[0].pageX-slider.touch.start.x;value=slider.touch.originalPos.left+change}else{var change=orig.changedTouches[0].pageY-slider.touch.start.y;value=slider.touch.originalPos.top+change}setPositionProperty(value,"reset",0)}},onTouchEnd=function(e){slider.viewport.unbind("touchmove",onTouchMove);var orig=e.originalEvent,value=0;if(slider.touch.end.x=orig.changedTouches[0].pageX,slider.touch.end.y=orig.changedTouches[0].pageY,"fade"==slider.settings.mode){var distance=Math.abs(slider.touch.start.x-slider.touch.end.x);distance>=slider.settings.swipeThreshold&&(slider.touch.start.x>slider.touch.end.x?el.goToNextSlide():el.goToPrevSlide(),el.stopAuto())}else{var distance=0;"horizontal"==slider.settings.mode?(distance=slider.touch.end.x-slider.touch.start.x,value=slider.touch.originalPos.left):(distance=slider.touch.end.y-slider.touch.start.y,value=slider.touch.originalPos.top),!slider.settings.infiniteLoop&&(0==slider.active.index&&distance>0||slider.active.last&&0>distance)?setPositionProperty(value,"reset",200):Math.abs(distance)>=slider.settings.swipeThreshold?(0>distance?el.goToNextSlide():el.goToPrevSlide(),el.stopAuto()):setPositionProperty(value,"reset",200)}slider.viewport.unbind("touchend",onTouchEnd)},resizeWindow=function(){var windowWidthNew=$(window).width(),windowHeightNew=$(window).height();(windowWidth!=windowWidthNew||windowHeight!=windowHeightNew)&&(windowWidth=windowWidthNew,windowHeight=windowHeightNew,el.redrawSlider())};return el.goToSlide=function(slideIndex,direction){if(!slider.working&&slider.active.index!=slideIndex)if(slider.working=!0,slider.oldIndex=slider.active.index,slider.active.index=0>slideIndex?getPagerQty()-1:slideIndex>=getPagerQty()?0:slideIndex,slider.settings.onSlideBefore(slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index),"next"==direction?slider.settings.onSlideNext(slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index):"prev"==direction&&slider.settings.onSlidePrev(slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index),slider.active.last=slider.active.index>=getPagerQty()-1,slider.settings.pager&&updatePagerActive(slider.active.index),slider.settings.controls&&updateDirectionControls(),"fade"==slider.settings.mode)slider.settings.adaptiveHeight&&slider.viewport.height()!=getViewportHeight()&&slider.viewport.animate({height:getViewportHeight()},slider.settings.adaptiveHeightSpeed),slider.children.filter(":visible").fadeOut(slider.settings.speed).css({zIndex:0}),slider.children.eq(slider.active.index).css("zIndex",51).fadeIn(slider.settings.speed,function(){$(this).css("zIndex",50),updateAfterSlideTransition()});else{slider.settings.adaptiveHeight&&slider.viewport.height()!=getViewportHeight()&&slider.viewport.animate({height:getViewportHeight()},slider.settings.adaptiveHeightSpeed);var moveBy=0,position={left:0,top:0};if(!slider.settings.infiniteLoop&&slider.carousel&&slider.active.last)if("horizontal"==slider.settings.mode){var lastChild=slider.children.eq(slider.children.length-1);position=lastChild.position(),moveBy=slider.viewport.width()-lastChild.outerWidth()}else{var lastShowingIndex=slider.children.length-slider.settings.minSlides;position=slider.children.eq(lastShowingIndex).position()}else if(slider.carousel&&slider.active.last&&"prev"==direction){var eq=1==slider.settings.moveSlides?slider.settings.maxSlides-getMoveBy():(getPagerQty()-1)*getMoveBy()-(slider.children.length-slider.settings.maxSlides),lastChild=el.children(".bx-clone").eq(eq);position=lastChild.position()}else if("next"==direction&&0==slider.active.index)position=el.find("> .bx-clone").eq(slider.settings.maxSlides).position(),slider.active.last=!1;else if(slideIndex>=0){var requestEl=slideIndex*getMoveBy();position=slider.children.eq(requestEl).position()}if(position!==void 0){var value="horizontal"==slider.settings.mode?-(position.left-moveBy):-position.top;setPositionProperty(value,"slide",slider.settings.speed)}}},el.goToNextSlide=function(){if(slider.settings.infiniteLoop||!slider.active.last){var pagerIndex=parseInt(slider.active.index)+1;el.goToSlide(pagerIndex,"next")}},el.goToPrevSlide=function(){if(slider.settings.infiniteLoop||0!=slider.active.index){var pagerIndex=parseInt(slider.active.index)-1;el.goToSlide(pagerIndex,"prev")}},el.startAuto=function(preventControlUpdate){slider.interval||(slider.interval=setInterval(function(){"next"==slider.settings.autoDirection?el.goToNextSlide():el.goToPrevSlide()},slider.settings.pause),slider.settings.autoControls&&1!=preventControlUpdate&&updateAutoControls("stop"))},el.stopAuto=function(preventControlUpdate){slider.interval&&(clearInterval(slider.interval),slider.interval=null,slider.settings.autoControls&&1!=preventControlUpdate&&updateAutoControls("start"))},el.getCurrentSlide=function(){return slider.active.index},el.getSlideCount=function(){return slider.children.length},el.redrawSlider=function(){slider.children.add(el.find(".bx-clone")).outerWidth(getSlideWidth()),slider.viewport.css("height",getViewportHeight()),slider.settings.ticker||setSlidePosition(),slider.active.last&&(slider.active.index=getPagerQty()-1),slider.active.index>=getPagerQty()&&(slider.active.last=!0),slider.settings.pager&&!slider.settings.pagerCustom&&(populatePager(),updatePagerActive(slider.active.index))},el.destroySlider=function(){slider.initialized&&(slider.initialized=!1,$(".bx-clone",this).remove(),slider.children.each(function(){void 0!=$(this).data("origStyle")?$(this).attr("style",$(this).data("origStyle")):$(this).removeAttr("style")}),void 0!=$(this).data("origStyle")?this.attr("style",$(this).data("origStyle")):$(this).removeAttr("style"),$(this).unwrap().unwrap(),slider.controls.el&&slider.controls.el.remove(),slider.controls.next&&slider.controls.next.remove(),slider.controls.prev&&slider.controls.prev.remove(),slider.pagerEl&&slider.pagerEl.remove(),$(".bx-caption",this).remove(),slider.controls.autoEl&&slider.controls.autoEl.remove(),clearInterval(slider.interval),slider.settings.responsive&&$(window).unbind("resize",resizeWindow))},el.reloadSlider=function(settings){void 0!=settings&&(options=settings),el.destroySlider(),init()},init(),this}}(jQuery),function($){"use strict";function go(els,opts,manual,fwd){function queueNext(opts){opts.timeout&&(p.cycleTimeout=setTimeout(function(){go(els,opts,0,!opts.rev)},opts.timeout))}if(!opts.busy){var p=els[0].parentNode,curr=els[opts.currSlide],next=els[opts.nextSlide];if(0!==p.cycleTimeout||manual)if(manual||!p.cyclePause){opts.before.length&&$.each(opts.before,function(i,o){o.apply(next,[curr,next,opts,fwd])});var after=function(){msie&&this.style.removeAttribute("filter"),$.each(opts.after,function(i,o){o.apply(next,[curr,next,opts,fwd])}),queueNext(opts)};opts.nextSlide!=opts.currSlide&&(opts.busy=1,$.fn.cycle.custom(curr,next,opts,after));var roll=opts.nextSlide+1==els.length;opts.nextSlide=roll?0:opts.nextSlide+1,opts.currSlide=roll?els.length-1:opts.nextSlide-1}else queueNext(opts)}}function advance(els,opts,val){var p=els[0].parentNode,timeout=p.cycleTimeout;return timeout&&(clearTimeout(timeout),p.cycleTimeout=0),opts.nextSlide=opts.currSlide+val,0>opts.nextSlide?opts.nextSlide=els.length-1:opts.nextSlide>=els.length&&(opts.nextSlide=0),go(els,opts,1,val>=0),!1}var ver="Lite-1.7",msie=/MSIE/.test(navigator.userAgent);$.fn.cycle=function(options){return this.each(function(){options=options||{},this.cycleTimeout&&clearTimeout(this.cycleTimeout),this.cycleTimeout=0,this.cyclePause=0;var $cont=$(this),$slides=options.slideExpr?$(options.slideExpr,this):$cont.children(),els=$slides.get();if(2>els.length)return window.console&&console.log("terminating; too few slides: "+els.length),void 0;var opts=$.extend({},$.fn.cycle.defaults,options||{},$.metadata?$cont.metadata():$.meta?$cont.data():{}),meta=$.isFunction($cont.data)?$cont.data(opts.metaAttr):null;meta&&(opts=$.extend(opts,meta)),opts.before=opts.before?[opts.before]:[],opts.after=opts.after?[opts.after]:[],opts.after.unshift(function(){opts.busy=0});var cls=this.className;opts.width=parseInt((cls.match(/w:(\d+)/)||[])[1],10)||opts.width,opts.height=parseInt((cls.match(/h:(\d+)/)||[])[1],10)||opts.height,opts.timeout=parseInt((cls.match(/t:(\d+)/)||[])[1],10)||opts.timeout,"static"==$cont.css("position")&&$cont.css("position","relative"),opts.width&&$cont.width(opts.width),opts.height&&"auto"!=opts.height&&$cont.height(opts.height);var first=0;$slides.css({position:"absolute",top:0}).each(function(i){$(this).css("z-index",els.length-i)}),$(els[first]).css("opacity",1).show(),msie&&els[first].style.removeAttribute("filter"),opts.fit&&opts.width&&$slides.width(opts.width),opts.fit&&opts.height&&"auto"!=opts.height&&$slides.height(opts.height),opts.pause&&$cont.hover(function(){this.cyclePause=1},function(){this.cyclePause=0});var txFn=$.fn.cycle.transitions[opts.fx];if(txFn&&txFn($cont,$slides,opts),$slides.each(function(){var $el=$(this);this.cycleH=opts.fit&&opts.height?opts.height:$el.height(),this.cycleW=opts.fit&&opts.width?opts.width:$el.width()}),opts.cssFirst&&$($slides[first]).css(opts.cssFirst),opts.timeout)for(opts.speed.constructor==String&&(opts.speed={slow:600,fast:200}[opts.speed]||400),opts.sync||(opts.speed=opts.speed/2);250>opts.timeout-opts.speed;)opts.timeout+=opts.speed;opts.speedIn=opts.speed,opts.speedOut=opts.speed,opts.slideCount=els.length,opts.currSlide=first,opts.nextSlide=1;var e0=$slides[first];opts.before.length&&opts.before[0].apply(e0,[e0,e0,opts,!0]),opts.after.length>1&&opts.after[1].apply(e0,[e0,e0,opts,!0]),opts.click&&!opts.next&&(opts.next=opts.click),opts.next&&$(opts.next).unbind("click.cycle").bind("click.cycle",function(){return advance(els,opts,opts.rev?-1:1)}),opts.prev&&$(opts.prev).unbind("click.cycle").bind("click.cycle",function(){return advance(els,opts,opts.rev?1:-1)}),opts.timeout&&(this.cycleTimeout=setTimeout(function(){go(els,opts,0,!opts.rev)},opts.timeout+(opts.delay||0)))})},$.fn.cycle.custom=function(curr,next,opts,cb){var $l=$(curr),$n=$(next);$n.css(opts.cssBefore);var fn=function(){$n.animate(opts.animIn,opts.speedIn,opts.easeIn,cb)};$l.animate(opts.animOut,opts.speedOut,opts.easeOut,function(){$l.css(opts.cssAfter),opts.sync||fn()}),opts.sync&&fn()},$.fn.cycle.transitions={fade:function($cont,$slides,opts){$slides.not(":eq(0)").hide(),opts.cssBefore={opacity:0,display:"block"},opts.cssAfter={display:"none"},opts.animOut={opacity:0},opts.animIn={opacity:1}},fadeout:function($cont,$slides,opts){opts.before.push(function(curr,next,opts,fwd){$(curr).css("zIndex",opts.slideCount+(fwd===!0?1:0)),$(next).css("zIndex",opts.slideCount+(fwd===!0?0:1))}),$slides.not(":eq(0)").hide(),opts.cssBefore={opacity:1,display:"block",zIndex:1},opts.cssAfter={display:"none",zIndex:0},opts.animOut={opacity:0},opts.animIn={opacity:1}}},$.fn.cycle.ver=function(){return ver},$.fn.cycle.defaults={animIn:{},animOut:{},fx:"fade",after:null,before:null,cssBefore:{},cssAfter:{},delay:0,fit:0,height:"auto",metaAttr:"cycle",next:null,pause:!1,prev:null,speed:1e3,slideExpr:null,sync:!0,timeout:2500}}(jQuery),+function($){"use strict";var Rowlink=function(element,options){this.$element=$(element),this.options=$.extend({},Rowlink.DEFAULTS,options),this.$element.on("click.bs.rowlink","td:not(.rowlink-skip)",$.proxy(this.click,this))};Rowlink.DEFAULTS={target:"a"},Rowlink.prototype.click=function(e){var target=$(e.currentTarget).closest("tr").find(this.options.target)[0];if($(e.target)[0]!==target)if(e.preventDefault(),target.click)target.click();else if(document.createEvent){var evt=document.createEvent("MouseEvents");evt.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),target.dispatchEvent(evt)}};var old=$.fn.rowlink;$.fn.rowlink=function(options){return this.each(function(){var $this=$(this),data=$this.data("rowlink");data||$this.data("rowlink",data=new Rowlink(this,options))})},$.fn.rowlink.Constructor=Rowlink,$.fn.rowlink.noConflict=function(){return $.fn.rowlink=old,this},$(document).on("click.bs.rowlink.data-api",'[data-link="row"]',function(e){var $this=$(this);$this.data("rowlink")||($this.rowlink($this.data()),$(e.target).trigger("click.bs.rowlink"))})}(window.jQuery),+function($){"use strict";var isIphone=void 0!==window.orientation,isAndroid=navigator.userAgent.toLowerCase().indexOf("android")>-1,isIE="Microsoft Internet Explorer"==window.navigator.appName,Inputmask=function(element,options){isAndroid||(this.$element=$(element),this.options=$.extend({},Inputmask.DEFAULS,options),this.mask=this.options.mask+"",this.init(),this.listen(),this.checkVal())};Inputmask.DEFAULS={mask:"",placeholder:"_",definitions:{9:"[0-9]",a:"[A-Za-z]","?":"[A-Za-z0-9]","*":"."}},Inputmask.prototype.init=function(){var defs=this.options.definitions,len=this.mask.length;this.tests=[],this.partialPosition=this.mask.length,this.firstNonMaskPos=null,$.each(this.mask.split(""),$.proxy(function(i,c){"?"==c?(len--,this.partialPosition=i):defs[c]?(this.tests.push(RegExp(defs[c])),null===this.firstNonMaskPos&&(this.firstNonMaskPos=this.tests.length-1)):this.tests.push(null)},this)),this.buffer=$.map(this.mask.split(""),$.proxy(function(c){return"?"!=c?defs[c]?this.options.placeholder:c:void 0},this)),this.focusText=this.$element.val(),this.$element.data("rawMaskFn",$.proxy(function(){return $.map(this.buffer,function(c,i){return this.tests[i]&&c!=this.options.placeholder?c:null}).join("")},this))},Inputmask.prototype.listen=function(){if(!this.$element.attr("readonly")){var pasteEventName=(isIE?"paste":"input")+".mask";this.$element.on("unmask.bs.inputmask",$.proxy(this.unmask,this)).on("focus.bs.inputmask",$.proxy(this.focusEvent,this)).on("blur.bs.inputmask",$.proxy(this.blurEvent,this)).on("keydown.bs.inputmask",$.proxy(this.keydownEvent,this)).on("keypress.bs.inputmask",$.proxy(this.keypressEvent,this)).on(pasteEventName,$.proxy(this.pasteEvent,this))}},Inputmask.prototype.caret=function(begin,end){if(0!==this.$element.length){if("number"==typeof begin)return end="number"==typeof end?end:begin,this.$element.each(function(){if(this.setSelectionRange)this.setSelectionRange(begin,end);else if(this.createTextRange){var range=this.createTextRange();range.collapse(!0),range.moveEnd("character",end),range.moveStart("character",begin),range.select()}});if(this.$element[0].setSelectionRange)begin=this.$element[0].selectionStart,end=this.$element[0].selectionEnd;else if(document.selection&&document.selection.createRange){var range=document.selection.createRange();begin=0-range.duplicate().moveStart("character",-1e5),end=begin+range.text.length}return{begin:begin,end:end}}},Inputmask.prototype.seekNext=function(pos){for(var len=this.mask.length;len>=++pos&&!this.tests[pos];);return pos},Inputmask.prototype.seekPrev=function(pos){for(;--pos>=0&&!this.tests[pos];);return pos},Inputmask.prototype.shiftL=function(begin,end){var len=this.mask.length;if(!(0>begin)){for(var i=begin,j=this.seekNext(end);len>i;i++)if(this.tests[i]){if(!(len>j&&this.tests[i].test(this.buffer[j])))break;this.buffer[i]=this.buffer[j],this.buffer[j]=this.options.placeholder,j=this.seekNext(j)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,begin))}},Inputmask.prototype.shiftR=function(pos){for(var len=this.mask.length,i=pos,c=this.options.placeholder;len>i;i++)if(this.tests[i]){var j=this.seekNext(i),t=this.buffer[i];if(this.buffer[i]=c,!(len>j&&this.tests[j].test(t)))break;c=t}},Inputmask.prototype.unmask=function(){this.$element.unbind(".mask").removeData("inputmask")},Inputmask.prototype.focusEvent=function(){this.focusText=this.$element.val();var len=this.mask.length,pos=this.checkVal();this.writeBuffer();var that=this,moveCaret=function(){pos==len?that.caret(0,pos):that.caret(pos)};moveCaret(),setTimeout(moveCaret,50)},Inputmask.prototype.blurEvent=function(){this.checkVal(),this.$element.val()!==this.focusText&&this.$element.trigger("change")},Inputmask.prototype.keydownEvent=function(e){var k=e.which;if(8==k||46==k||isIphone&&127==k){var pos=this.caret(),begin=pos.begin,end=pos.end;return 0===end-begin&&(begin=46!=k?this.seekPrev(begin):end=this.seekNext(begin-1),end=46==k?this.seekNext(end):end),this.clearBuffer(begin,end),this.shiftL(begin,end-1),!1}return 27==k?(this.$element.val(this.focusText),this.caret(0,this.checkVal()),!1):void 0},Inputmask.prototype.keypressEvent=function(e){var len=this.mask.length,k=e.which,pos=this.caret();if(e.ctrlKey||e.altKey||e.metaKey||32>k)return!0;if(k){0!==pos.end-pos.begin&&(this.clearBuffer(pos.begin,pos.end),this.shiftL(pos.begin,pos.end-1));var p=this.seekNext(pos.begin-1);if(len>p){var c=String.fromCharCode(k);if(this.tests[p].test(c)){this.shiftR(p),this.buffer[p]=c,this.writeBuffer();var next=this.seekNext(p);this.caret(next)}}return!1}},Inputmask.prototype.pasteEvent=function(){var that=this;setTimeout(function(){that.caret(that.checkVal(!0))},0)},Inputmask.prototype.clearBuffer=function(start,end){for(var len=this.mask.length,i=start;end>i&&len>i;i++)this.tests[i]&&(this.buffer[i]=this.options.placeholder)},Inputmask.prototype.writeBuffer=function(){return this.$element.val(this.buffer.join("")).val()},Inputmask.prototype.checkVal=function(allow){for(var len=this.mask.length,test=this.$element.val(),lastMatch=-1,i=0,pos=0;len>i;i++)if(this.tests[i]){for(this.buffer[i]=this.options.placeholder;pos++<test.length;){var c=test.charAt(pos-1);if(this.tests[i].test(c)){this.buffer[i]=c,lastMatch=i;break}}if(pos>test.length)break}else this.buffer[i]==test.charAt(pos)&&i!=this.partialPosition&&(pos++,lastMatch=i);return!allow&&this.partialPosition>lastMatch+1?(this.$element.val(""),this.clearBuffer(0,len)):(allow||lastMatch+1>=this.partialPosition)&&(this.writeBuffer(),allow||this.$element.val(this.$element.val().substring(0,lastMatch+1))),this.partialPosition?i:this.firstNonMaskPos};var old=$.fn.inputmask;$.fn.inputmask=function(options){return this.each(function(){var $this=$(this),data=$this.data("inputmask");data||$this.data("inputmask",data=new Inputmask(this,options))})},$.fn.inputmask.Constructor=Inputmask,$.fn.inputmask.noConflict=function(){return $.fn.inputmask=old,this},$(document).on("focus.bs.inputmask.data-api","[data-mask]",function(){var $this=$(this);$this.data("inputmask")||$this.inputmask($this.data())})}(window.jQuery),+function($){"use strict";var OffCanvas=function(element,options){this.$element=$(element),this.options=$.extend({},OffCanvas.DEFAULTS,options),this.state=null,this.options.recalc&&(this.calcClone(),$(window).on("resize",$.proxy(this.recalc,this))),this.options.autohide&&$(document).on("click",$.proxy(this.autohide,this)),this.options.toggle&&this.toggle()};OffCanvas.DEFAULTS={toggle:!0,placement:"left",autohide:!0,recalc:!0},OffCanvas.prototype.offset=function(){switch(this.options.placement){case"left":case"right":return this.$element.outerWidth();case"top":case"bottom":return this.$element.outerHeight()}},OffCanvas.prototype.calcPlacement=function(){function ab(a,b){if("auto"===element.css(b))return a;if("auto"===element.css(a))return b;var size_a=parseInt(element.css(a),10),size_b=parseInt(element.css(b),10);return size_a>size_b?b:a}var horizontal=$(window).width()/this.$element.width(),vertical=$(window).height()/this.$element.height();this.$element.hasClass("in")||this.$element.css("visiblity","hidden !important").addClass("in");var element=this.$element;this.options.placement=horizontal>vertical?ab("left","right"):ab("top","bottom"),"hidden !important"===this.$element.css("visibility")&&this.$element.removeClass("in").css("visiblity","")},OffCanvas.prototype.opposite=function(placement){switch(placement){case"top":return"bottom";case"left":return"right";case"bottom":return"top";case"right":return"left"}},OffCanvas.prototype.getCanvasElements=function(){var canvas=this.options.canvas?$(this.options.canvas):this.$element,fixed_elements=canvas.find("*").filter(function(){return"fixed"===$(this).css("position")}).not(this.options.exclude);return canvas.add(fixed_elements)},OffCanvas.prototype.slide=function(elements,offset,callback){if(!$.support.transition){var anim={};return anim[this.options.placement]="+="+offset,elements.animate(anim,350,callback)}var placement=this.options.placement,opposite=this.opposite(placement);elements.each(function(){"auto"!==$(this).css(placement)&&$(this).css(placement,(parseInt($(this).css(placement),10)||0)+offset),"auto"!==$(this).css(opposite)&&$(this).css(opposite,(parseInt($(this).css(opposite),10)||0)-offset)}),this.$element.one($.support.transition.end,callback).emulateTransitionEnd(350)},OffCanvas.prototype.disableScrolling=function(){var bodyWidth=$("body").width(),prop="padding-"+this.opposite(this.options.placement);if(void 0===$("body").data("offcanvas-style")&&$("body").data("offcanvas-style",$("body").attr("style")),$("body").css("overflow","hidden"),$("body").width()>bodyWidth){var padding=parseInt($("body").css(prop),10)+$("body").width()-bodyWidth;setTimeout(function(){$("body").css(prop,padding)},1)}},OffCanvas.prototype.show=function(){if(!this.state){var startEvent=$.Event("show.bs.offcanvas");if(this.$element.trigger(startEvent),!startEvent.isDefaultPrevented()){"auto"===this.options.placement&&this.calcPlacement(),this.state="sliding";var elements=this.getCanvasElements(),offset=this.offset(),placement=this.options.placement,opposite=this.opposite(placement);elements.addClass("canvas-sliding").each(function(){$(this).data("offcanvas-style",$(this).attr("style")||""),"static"===$(this).css("position")&&$(this).css("position","relative"),"auto"!==$(this).css(placement)&&"0px"!==$(this).css(placement)||"auto"!==$(this).css(opposite)&&"0px"!==$(this).css(opposite)||$(this).css(placement,0)}),-1!==elements.index(this.$element)&&this.$element.css(placement,-1*offset),this.disableScrolling();var complete=function(){this.state="slid",elements.removeClass("canvas-sliding").addClass("canvas-slid"),this.$element.trigger("shown.bs.offcanvas")};setTimeout($.proxy(function(){this.$element.addClass("in"),this.slide(elements,offset,$.proxy(complete,this))},this),1)}}},OffCanvas.prototype.hide=function(){if("slid"===this.state){var startEvent=$.Event("hide.bs.offcanvas");if(this.$element.trigger(startEvent),!startEvent.isDefaultPrevented()){this.state="sliding";var elements=$(".canvas-slid"),offset=-1*this.offset(),complete=function(){this.state=null,this.$element.removeClass("in"),elements.removeClass("canvas-sliding"),elements.add("body").each(function(){$(this).attr("style",$(this).data("offcanvas-style")).removeData("offcanvas-style")}),this.$element.trigger("hidden.bs.offcanvas")};elements.removeClass("canvas-slid").addClass("canvas-sliding"),setTimeout($.proxy(function(){this.slide(elements,offset,$.proxy(complete,this))},this),1)}}},OffCanvas.prototype.toggle=function(){"sliding"!==this.state&&this["slid"===this.state?"hide":"show"]()},OffCanvas.prototype.calcClone=function(){this.$calcClone=this.$element.clone().html("").addClass("offcanvas-clone").removeClass("in").appendTo($("body"))},OffCanvas.prototype.recalc=function(){if("slid"===this.state()&&"none"!==this.$calcClone.css("display")){var offset=-1*this.offset(),placement=this.options.placement;this.getCanvasElements().each(function(){$(this).css(placement,(parseInt($(this).css(placement),10)||0)+offset)}).removeClass("canvas-slid"),$("body").css("overflow",""),this.$element.css(placement,"").removeClass("in canvas-slid")}},OffCanvas.prototype.autohide=function(e){0===$(e.target).closest(this.$element).length&&this.hide()};var old=$.fn.offcanvas;$.fn.offcanvas=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.offcanvas"),options=$.extend({},OffCanvas.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("bs.offcanvas",data=new OffCanvas(this,options)),"string"==typeof option&&data[option]()})},$.fn.offcanvas.Constructor=OffCanvas,$.fn.offcanvas.noConflict=function(){return $.fn.offcanvas=old,this},$(document).on("click.bs.offcanvas.data-api","[data-toggle=offcanvas]",function(e){var href,$this=$(this),target=$this.attr("data-target")||e.preventDefault()||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,""),$canvas=$(target),data=$canvas.data("bs.offcanvas"),option=data?"toggle":$this.data();e.stopPropagation(),data?data.toggle():$canvas.offcanvas(option)})}(window.jQuery),function($){var methods={init:function(settings){return this.each(function(){methods.destroy.call(this),this.opt=$.extend(!0,{},$.fn.raty.defaults,settings);var that=$(this),inits=["number","readOnly","score","scoreName"];methods._callback.call(this,inits),this.opt.precision&&methods._adjustPrecision.call(this),this.opt.number=methods._between(this.opt.number,0,this.opt.numberMax),this.opt.path=this.opt.path||"",this.opt.path&&"/"!==this.opt.path.charAt(this.opt.path.length-1)&&(this.opt.path+="/"),this.stars=methods._createStars.call(this),this.score=methods._createScore.call(this),methods._apply.call(this,this.opt.score);var space=this.opt.space?4:0,width=this.opt.width||this.opt.number*this.opt.size+this.opt.number*space;this.opt.cancel&&(this.cancel=methods._createCancel.call(this),width+=this.opt.size+space),this.opt.readOnly?methods._lock.call(this):(that.css("cursor","pointer"),methods._binds.call(this)),this.opt.width!==!1&&that.css("width",width),methods._target.call(this,this.opt.score),that.data({settings:this.opt,raty:!0})})},_adjustPrecision:function(){this.opt.targetType="score",this.opt.half=!0},_apply:function(score){score&&score>0&&(score=methods._between(score,0,this.opt.number),this.score.val(score)),methods._fill.call(this,score),score&&methods._roundStars.call(this,score)},_between:function(value,min,max){return Math.min(Math.max(parseFloat(value),min),max)},_binds:function(){this.cancel&&methods._bindCancel.call(this),methods._bindClick.call(this),methods._bindOut.call(this),methods._bindOver.call(this)},_bindCancel:function(){methods._bindClickCancel.call(this),methods._bindOutCancel.call(this),methods._bindOverCancel.call(this)},_bindClick:function(){var self=this,that=$(self);self.stars.on("click.raty",function(evt){self.score.val(self.opt.half||self.opt.precision?that.data("score"):this.alt),self.opt.click&&self.opt.click.call(self,parseFloat(self.score.val()),evt)})},_bindClickCancel:function(){var self=this;self.cancel.on("click.raty",function(evt){self.score.removeAttr("value"),self.opt.click&&self.opt.click.call(self,null,evt)})},_bindOut:function(){var self=this;$(this).on("mouseleave.raty",function(evt){var score=parseFloat(self.score.val())||void 0;methods._apply.call(self,score),methods._target.call(self,score,evt),self.opt.mouseout&&self.opt.mouseout.call(self,score,evt)})},_bindOutCancel:function(){var self=this;self.cancel.on("mouseleave.raty",function(evt){$(this).attr("src",self.opt.path+self.opt.cancelOff),self.opt.mouseout&&self.opt.mouseout.call(self,self.score.val()||null,evt)})},_bindOverCancel:function(){var self=this;self.cancel.on("mouseover.raty",function(evt){$(this).attr("src",self.opt.path+self.opt.cancelOn),self.stars.attr("src",self.opt.path+self.opt.starOff),methods._target.call(self,null,evt),self.opt.mouseover&&self.opt.mouseover.call(self,null)})},_bindOver:function(){var self=this,that=$(self),action=self.opt.half?"mousemove.raty":"mouseover.raty";self.stars.on(action,function(evt){var score=parseInt(this.alt,10);if(self.opt.half){var position=parseFloat((evt.pageX-$(this).offset().left)/self.opt.size),plus=position>.5?1:.5;score=score-1+plus,methods._fill.call(self,score),self.opt.precision&&(score=score-plus+position),methods._roundStars.call(self,score),that.data("score",score)}else methods._fill.call(self,score);methods._target.call(self,score,evt),self.opt.mouseover&&self.opt.mouseover.call(self,score,evt)})},_callback:function(options){for(var i in options)"function"==typeof this.opt[options[i]]&&(this.opt[options[i]]=this.opt[options[i]].call(this))},_createCancel:function(){var that=$(this),icon=this.opt.path+this.opt.cancelOff,cancel=$("<img />",{src:icon,alt:"x",title:this.opt.cancelHint,"class":"raty-cancel"});return"left"==this.opt.cancelPlace?that.prepend("&#160;").prepend(cancel):that.append("&#160;").append(cancel),cancel},_createScore:function(){return $("<input />",{type:"hidden",name:this.opt.scoreName}).appendTo(this)},_createStars:function(){for(var that=$(this),i=1;this.opt.number>=i;i++){var title=methods._getHint.call(this,i),icon=this.opt.score&&this.opt.score>=i?"starOn":"starOff";icon=this.opt.path+this.opt[icon],$("<img />",{src:icon,alt:i,title:title}).appendTo(this),this.opt.space&&that.append(this.opt.number>i?"&#160;":"")
}return that.children("img")},_error:function(message){$(this).html(message),$.error(message)},_fill:function(score){for(var self=this,hash=0,i=1;self.stars.length>=i;i++){var star=self.stars.eq(i-1),select=self.opt.single?i==score:score>=i;if(self.opt.iconRange&&self.opt.iconRange.length>hash){var irange=self.opt.iconRange[hash],on=irange.on||self.opt.starOn,off=irange.off||self.opt.starOff,icon=select?on:off;irange.range>=i&&star.attr("src",self.opt.path+icon),i==irange.range&&hash++}else{var icon=select?"starOn":"starOff";star.attr("src",this.opt.path+this.opt[icon])}}},_getHint:function(score){var hint=this.opt.hints[score-1];return""===hint?"":hint||score},_lock:function(){var score=parseInt(this.score.val(),10),hint=score?methods._getHint.call(this,score):this.opt.noRatedMsg;$(this).data("readonly",!0).css("cursor","").attr("title",hint),this.score.attr("readonly","readonly"),this.stars.attr("title",hint),this.cancel&&this.cancel.hide()},_roundStars:function(score){var rest=(score-Math.floor(score)).toFixed(2);if(rest>this.opt.round.down){var icon="starOn";this.opt.halfShow&&this.opt.round.up>rest?icon="starHalf":this.opt.round.full>rest&&(icon="starOff"),this.stars.eq(Math.ceil(score)-1).attr("src",this.opt.path+this.opt[icon])}},_target:function(score,evt){if(this.opt.target){var target=$(this.opt.target);0===target.length&&methods._error.call(this,"Target selector invalid or missing!"),0>this.opt.targetFormat.indexOf("{score}")&&methods._error.call(this,'Template "{score}" missing!');var mouseover=evt&&"mouseover"==evt.type;void 0===score?score=this.opt.targetText:null===score?score=mouseover?this.opt.cancelHint:this.opt.targetText:("hint"==this.opt.targetType?score=methods._getHint.call(this,Math.ceil(score)):this.opt.precision&&(score=parseFloat(score).toFixed(1)),mouseover||this.opt.targetKeep||(score=this.opt.targetText)),score&&(score=(""+this.opt.targetFormat).replace("{score}",score)),target.is(":input")?target.val(score):target.html(score)}},_unlock:function(){$(this).data("readonly",!1).css("cursor","pointer").removeAttr("title"),this.score.removeAttr("readonly","readonly");for(var i=0;this.opt.number>i;i++)this.stars.eq(i).attr("title",methods._getHint.call(this,i+1));this.cancel&&this.cancel.css("display","")},cancel:function(click){return this.each(function(){$(this).data("readonly")!==!0&&(methods[click?"click":"score"].call(this,null),this.score.removeAttr("value"))})},click:function(score){return $(this).each(function(){$(this).data("readonly")!==!0&&(methods._apply.call(this,score),this.opt.click||methods._error.call(this,'You must add the "click: function(score, evt) { }" callback.'),this.opt.click.call(this,score,$.Event("click")),methods._target.call(this,score))})},destroy:function(){return $(this).each(function(){var that=$(this),raw=that.data("raw");raw?that.off(".raty").empty().css({cursor:raw.style.cursor,width:raw.style.width}).removeData("readonly"):that.data("raw",that.clone()[0])})},getScore:function(){var value,score=[];return $(this).each(function(){value=this.score.val(),score.push(value?parseFloat(value):void 0)}),score.length>1?score:score[0]},readOnly:function(readonly){return this.each(function(){var that=$(this);that.data("readonly")!==readonly&&(readonly?(that.off(".raty").children("img").off(".raty"),methods._lock.call(this)):(methods._binds.call(this),methods._unlock.call(this)),that.data("readonly",readonly))})},reload:function(){return methods.set.call(this,{})},score:function(){return arguments.length?methods.setScore.apply(this,arguments):methods.getScore.call(this)},set:function(settings){return this.each(function(){var that=$(this),actual=that.data("settings"),news=$.extend({},actual,settings);that.raty(news)})},setScore:function(score){return $(this).each(function(){$(this).data("readonly")!==!0&&(methods._apply.call(this,score),methods._target.call(this,score))})}};$.fn.raty=function(method){return methods[method]?methods[method].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof method&&method?($.error("Method "+method+" does not exist!"),void 0):methods.init.apply(this,arguments)},$.fn.raty.defaults={cancel:!1,cancelHint:"Cancel this rating!",cancelOff:"cancel-off.png",cancelOn:"cancel-on.png",cancelPlace:"left",click:void 0,half:!1,halfShow:!0,hints:["bad","poor","regular","good","gorgeous"],iconRange:void 0,mouseout:void 0,mouseover:void 0,noRatedMsg:"Not rated yet!",number:5,numberMax:20,path:"",precision:!1,readOnly:!1,round:{down:.25,full:.6,up:.76},score:void 0,scoreName:"score",single:!1,size:16,space:!0,starHalf:"star-half.png",starOff:"star-off.png",starOn:"star-on.png",target:void 0,targetFormat:"{score}",targetKeep:!1,targetText:"",targetType:"hint",width:void 0}}(jQuery),function(factory){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],factory):factory(jQuery)}(function($){"use strict";function init(options){return!options||void 0!==options.allowPageScroll||void 0===options.swipe&&void 0===options.swipeStatus||(options.allowPageScroll=NONE),void 0!==options.click&&void 0===options.tap&&(options.tap=options.click),options||(options={}),options=$.extend({},$.fn.swipe.defaults,options),this.each(function(){var $this=$(this),plugin=$this.data(PLUGIN_NS);plugin||(plugin=new TouchSwipe(this,options),$this.data(PLUGIN_NS,plugin))})}function TouchSwipe(element,options){function touchStart(jqEvent){if(!(getTouchInProgress()||$(jqEvent.target).closest(options.excludedElements,$element).length>0)){var ret,event=jqEvent.originalEvent?jqEvent.originalEvent:jqEvent,evt=SUPPORTS_TOUCH?event.touches[0]:event;return phase=PHASE_START,SUPPORTS_TOUCH?fingerCount=event.touches.length:jqEvent.preventDefault(),distance=0,direction=null,pinchDirection=null,duration=0,startTouchesDistance=0,endTouchesDistance=0,pinchZoom=1,pinchDistance=0,fingerData=createAllFingerData(),maximumsMap=createMaximumsData(),cancelMultiFingerRelease(),!SUPPORTS_TOUCH||fingerCount===options.fingers||options.fingers===ALL_FINGERS||hasPinches()?(createFingerData(0,evt),startTime=getTimeStamp(),2==fingerCount&&(createFingerData(1,event.touches[1]),startTouchesDistance=endTouchesDistance=calculateTouchesDistance(fingerData[0].start,fingerData[1].start)),(options.swipeStatus||options.pinchStatus)&&(ret=triggerHandler(event,phase))):ret=!1,ret===!1?(phase=PHASE_CANCEL,triggerHandler(event,phase),ret):(setTouchInProgress(!0),null)}}function touchMove(jqEvent){var event=jqEvent.originalEvent?jqEvent.originalEvent:jqEvent;if(phase!==PHASE_END&&phase!==PHASE_CANCEL&&!inMultiFingerRelease()){var ret,evt=SUPPORTS_TOUCH?event.touches[0]:event,currentFinger=updateFingerData(evt);if(endTime=getTimeStamp(),SUPPORTS_TOUCH&&(fingerCount=event.touches.length),phase=PHASE_MOVE,2==fingerCount&&(0==startTouchesDistance?(createFingerData(1,event.touches[1]),startTouchesDistance=endTouchesDistance=calculateTouchesDistance(fingerData[0].start,fingerData[1].start)):(updateFingerData(event.touches[1]),endTouchesDistance=calculateTouchesDistance(fingerData[0].end,fingerData[1].end),pinchDirection=calculatePinchDirection(fingerData[0].end,fingerData[1].end)),pinchZoom=calculatePinchZoom(startTouchesDistance,endTouchesDistance),pinchDistance=Math.abs(startTouchesDistance-endTouchesDistance)),fingerCount===options.fingers||options.fingers===ALL_FINGERS||!SUPPORTS_TOUCH||hasPinches()){if(direction=calculateDirection(currentFinger.start,currentFinger.end),validateDefaultEvent(jqEvent,direction),distance=calculateDistance(currentFinger.start,currentFinger.end),duration=calculateDuration(),setMaxDistance(direction,distance),(options.swipeStatus||options.pinchStatus)&&(ret=triggerHandler(event,phase)),!options.triggerOnTouchEnd||options.triggerOnTouchLeave){var inBounds=!0;if(options.triggerOnTouchLeave){var bounds=getbounds(this);inBounds=isInBounds(currentFinger.end,bounds)}!options.triggerOnTouchEnd&&inBounds?phase=getNextPhase(PHASE_MOVE):options.triggerOnTouchLeave&&!inBounds&&(phase=getNextPhase(PHASE_END)),(phase==PHASE_CANCEL||phase==PHASE_END)&&triggerHandler(event,phase)}}else phase=PHASE_CANCEL,triggerHandler(event,phase);ret===!1&&(phase=PHASE_CANCEL,triggerHandler(event,phase))}}function touchEnd(jqEvent){var event=jqEvent.originalEvent;return SUPPORTS_TOUCH&&event.touches.length>0?(startMultiFingerRelease(),!0):(inMultiFingerRelease()&&(fingerCount=previousTouchFingerCount),jqEvent.preventDefault(),endTime=getTimeStamp(),duration=calculateDuration(),didSwipeBackToCancel()?(phase=PHASE_CANCEL,triggerHandler(event,phase)):options.triggerOnTouchEnd||0==options.triggerOnTouchEnd&&phase===PHASE_MOVE?(phase=PHASE_END,triggerHandler(event,phase)):!options.triggerOnTouchEnd&&hasTap()?(phase=PHASE_END,triggerHandlerForGesture(event,phase,TAP)):phase===PHASE_MOVE&&(phase=PHASE_CANCEL,triggerHandler(event,phase)),setTouchInProgress(!1),null)}function touchCancel(){fingerCount=0,endTime=0,startTime=0,startTouchesDistance=0,endTouchesDistance=0,pinchZoom=1,cancelMultiFingerRelease(),setTouchInProgress(!1)}function touchLeave(jqEvent){var event=jqEvent.originalEvent;options.triggerOnTouchLeave&&(phase=getNextPhase(PHASE_END),triggerHandler(event,phase))}function removeListeners(){$element.unbind(START_EV,touchStart),$element.unbind(CANCEL_EV,touchCancel),$element.unbind(MOVE_EV,touchMove),$element.unbind(END_EV,touchEnd),LEAVE_EV&&$element.unbind(LEAVE_EV,touchLeave),setTouchInProgress(!1)}function getNextPhase(currentPhase){var nextPhase=currentPhase,validTime=validateSwipeTime(),validDistance=validateSwipeDistance(),didCancel=didSwipeBackToCancel();return!validTime||didCancel?nextPhase=PHASE_CANCEL:!validDistance||currentPhase!=PHASE_MOVE||options.triggerOnTouchEnd&&!options.triggerOnTouchLeave?!validDistance&&currentPhase==PHASE_END&&options.triggerOnTouchLeave&&(nextPhase=PHASE_CANCEL):nextPhase=PHASE_END,nextPhase}function triggerHandler(event,phase){var ret=void 0;return didSwipe()||hasSwipes()?ret=triggerHandlerForGesture(event,phase,SWIPE):(didPinch()||hasPinches())&&ret!==!1&&(ret=triggerHandlerForGesture(event,phase,PINCH)),didDoubleTap()&&ret!==!1?ret=triggerHandlerForGesture(event,phase,DOUBLE_TAP):didLongTap()&&ret!==!1?ret=triggerHandlerForGesture(event,phase,LONG_TAP):didTap()&&ret!==!1&&(ret=triggerHandlerForGesture(event,phase,TAP)),phase===PHASE_CANCEL&&touchCancel(event),phase===PHASE_END&&(SUPPORTS_TOUCH?0==event.touches.length&&touchCancel(event):touchCancel(event)),ret}function triggerHandlerForGesture(event,phase,gesture){var ret=void 0;if(gesture==SWIPE){if($element.trigger("swipeStatus",[phase,direction||null,distance||0,duration||0,fingerCount]),options.swipeStatus&&(ret=options.swipeStatus.call($element,event,phase,direction||null,distance||0,duration||0,fingerCount),ret===!1))return!1;if(phase==PHASE_END&&validateSwipe()){if($element.trigger("swipe",[direction,distance,duration,fingerCount]),options.swipe&&(ret=options.swipe.call($element,event,direction,distance,duration,fingerCount),ret===!1))return!1;switch(direction){case LEFT:$element.trigger("swipeLeft",[direction,distance,duration,fingerCount]),options.swipeLeft&&(ret=options.swipeLeft.call($element,event,direction,distance,duration,fingerCount));break;case RIGHT:$element.trigger("swipeRight",[direction,distance,duration,fingerCount]),options.swipeRight&&(ret=options.swipeRight.call($element,event,direction,distance,duration,fingerCount));break;case UP:$element.trigger("swipeUp",[direction,distance,duration,fingerCount]),options.swipeUp&&(ret=options.swipeUp.call($element,event,direction,distance,duration,fingerCount));break;case DOWN:$element.trigger("swipeDown",[direction,distance,duration,fingerCount]),options.swipeDown&&(ret=options.swipeDown.call($element,event,direction,distance,duration,fingerCount))}}}if(gesture==PINCH){if($element.trigger("pinchStatus",[phase,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom]),options.pinchStatus&&(ret=options.pinchStatus.call($element,event,phase,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom),ret===!1))return!1;if(phase==PHASE_END&&validatePinch())switch(pinchDirection){case IN:$element.trigger("pinchIn",[pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom]),options.pinchIn&&(ret=options.pinchIn.call($element,event,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom));break;case OUT:$element.trigger("pinchOut",[pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom]),options.pinchOut&&(ret=options.pinchOut.call($element,event,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom))}}return gesture==TAP?(phase===PHASE_CANCEL||phase===PHASE_END)&&(clearTimeout(singleTapTimeout),hasDoubleTap()&&!inDoubleTap()?(doubleTapStartTime=getTimeStamp(),singleTapTimeout=setTimeout($.proxy(function(){doubleTapStartTime=null,$element.trigger("tap",[event.target]),options.tap&&(ret=options.tap.call($element,event,event.target))},this),options.doubleTapThreshold)):(doubleTapStartTime=null,$element.trigger("tap",[event.target]),options.tap&&(ret=options.tap.call($element,event,event.target)))):gesture==DOUBLE_TAP?(phase===PHASE_CANCEL||phase===PHASE_END)&&(clearTimeout(singleTapTimeout),doubleTapStartTime=null,$element.trigger("doubletap",[event.target]),options.doubleTap&&(ret=options.doubleTap.call($element,event,event.target))):gesture==LONG_TAP&&(phase===PHASE_CANCEL||phase===PHASE_END)&&(clearTimeout(singleTapTimeout),doubleTapStartTime=null,$element.trigger("longtap",[event.target]),options.longTap&&(ret=options.longTap.call($element,event,event.target))),ret}function validateSwipeDistance(){var valid=!0;return null!==options.threshold&&(valid=distance>=options.threshold),valid}function didSwipeBackToCancel(){var cancelled=!1;return null!==options.cancelThreshold&&null!==direction&&(cancelled=getMaxDistance(direction)-distance>=options.cancelThreshold),cancelled}function validatePinchDistance(){return null!==options.pinchThreshold?pinchDistance>=options.pinchThreshold:!0}function validateSwipeTime(){var result;return result=options.maxTimeThreshold?duration>=options.maxTimeThreshold?!1:!0:!0}function validateDefaultEvent(jqEvent,direction){if(options.allowPageScroll===NONE||hasPinches())jqEvent.preventDefault();else{var auto=options.allowPageScroll===AUTO;switch(direction){case LEFT:(options.swipeLeft&&auto||!auto&&options.allowPageScroll!=HORIZONTAL)&&jqEvent.preventDefault();break;case RIGHT:(options.swipeRight&&auto||!auto&&options.allowPageScroll!=HORIZONTAL)&&jqEvent.preventDefault();break;case UP:(options.swipeUp&&auto||!auto&&options.allowPageScroll!=VERTICAL)&&jqEvent.preventDefault();break;case DOWN:(options.swipeDown&&auto||!auto&&options.allowPageScroll!=VERTICAL)&&jqEvent.preventDefault()}}}function validatePinch(){var hasCorrectFingerCount=validateFingers(),hasEndPoint=validateEndPoint(),hasCorrectDistance=validatePinchDistance();return hasCorrectFingerCount&&hasEndPoint&&hasCorrectDistance}function hasPinches(){return!!(options.pinchStatus||options.pinchIn||options.pinchOut)}function didPinch(){return!(!validatePinch()||!hasPinches())}function validateSwipe(){var hasValidTime=validateSwipeTime(),hasValidDistance=validateSwipeDistance(),hasCorrectFingerCount=validateFingers(),hasEndPoint=validateEndPoint(),didCancel=didSwipeBackToCancel(),valid=!didCancel&&hasEndPoint&&hasCorrectFingerCount&&hasValidDistance&&hasValidTime;return valid}function hasSwipes(){return!!(options.swipe||options.swipeStatus||options.swipeLeft||options.swipeRight||options.swipeUp||options.swipeDown)}function didSwipe(){return!(!validateSwipe()||!hasSwipes())}function validateFingers(){return fingerCount===options.fingers||options.fingers===ALL_FINGERS||!SUPPORTS_TOUCH}function validateEndPoint(){return 0!==fingerData[0].end.x}function hasTap(){return!!options.tap}function hasDoubleTap(){return!!options.doubleTap}function hasLongTap(){return!!options.longTap}function validateDoubleTap(){if(null==doubleTapStartTime)return!1;var now=getTimeStamp();return hasDoubleTap()&&options.doubleTapThreshold>=now-doubleTapStartTime}function inDoubleTap(){return validateDoubleTap()}function validateTap(){return!(1!==fingerCount&&SUPPORTS_TOUCH||!isNaN(distance)&&0!==distance)}function validateLongTap(){return duration>options.longTapThreshold&&DOUBLE_TAP_THRESHOLD>distance}function didTap(){return!(!validateTap()||!hasTap())}function didDoubleTap(){return!(!validateDoubleTap()||!hasDoubleTap())}function didLongTap(){return!(!validateLongTap()||!hasLongTap())}function startMultiFingerRelease(){previousTouchEndTime=getTimeStamp(),previousTouchFingerCount=event.touches.length+1}function cancelMultiFingerRelease(){previousTouchEndTime=0,previousTouchFingerCount=0}function inMultiFingerRelease(){var withinThreshold=!1;if(previousTouchEndTime){var diff=getTimeStamp()-previousTouchEndTime;options.fingerReleaseThreshold>=diff&&(withinThreshold=!0)}return withinThreshold}function getTouchInProgress(){return!($element.data(PLUGIN_NS+"_intouch")!==!0)}function setTouchInProgress(val){val===!0?($element.bind(MOVE_EV,touchMove),$element.bind(END_EV,touchEnd),LEAVE_EV&&$element.bind(LEAVE_EV,touchLeave)):($element.unbind(MOVE_EV,touchMove,!1),$element.unbind(END_EV,touchEnd,!1),LEAVE_EV&&$element.unbind(LEAVE_EV,touchLeave,!1)),$element.data(PLUGIN_NS+"_intouch",val===!0)}function createFingerData(index,evt){var id=void 0!==evt.identifier?evt.identifier:0;return fingerData[index].identifier=id,fingerData[index].start.x=fingerData[index].end.x=evt.pageX||evt.clientX,fingerData[index].start.y=fingerData[index].end.y=evt.pageY||evt.clientY,fingerData[index]}function updateFingerData(evt){var id=void 0!==evt.identifier?evt.identifier:0,f=getFingerData(id);return f.end.x=evt.pageX||evt.clientX,f.end.y=evt.pageY||evt.clientY,f}function getFingerData(id){for(var i=0;fingerData.length>i;i++)if(fingerData[i].identifier==id)return fingerData[i]}function createAllFingerData(){for(var fingerData=[],i=0;5>=i;i++)fingerData.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return fingerData}function setMaxDistance(direction,distance){distance=Math.max(distance,getMaxDistance(direction)),maximumsMap[direction].distance=distance}function getMaxDistance(direction){return maximumsMap[direction]?maximumsMap[direction].distance:void 0}function createMaximumsData(){var maxData={};return maxData[LEFT]=createMaximumVO(LEFT),maxData[RIGHT]=createMaximumVO(RIGHT),maxData[UP]=createMaximumVO(UP),maxData[DOWN]=createMaximumVO(DOWN),maxData}function createMaximumVO(dir){return{direction:dir,distance:0}}function calculateDuration(){return endTime-startTime}function calculateTouchesDistance(startPoint,endPoint){var diffX=Math.abs(startPoint.x-endPoint.x),diffY=Math.abs(startPoint.y-endPoint.y);return Math.round(Math.sqrt(diffX*diffX+diffY*diffY))}function calculatePinchZoom(startDistance,endDistance){var percent=1*(endDistance/startDistance);return percent.toFixed(2)}function calculatePinchDirection(){return 1>pinchZoom?OUT:IN}function calculateDistance(startPoint,endPoint){return Math.round(Math.sqrt(Math.pow(endPoint.x-startPoint.x,2)+Math.pow(endPoint.y-startPoint.y,2)))}function calculateAngle(startPoint,endPoint){var x=startPoint.x-endPoint.x,y=endPoint.y-startPoint.y,r=Math.atan2(y,x),angle=Math.round(180*r/Math.PI);return 0>angle&&(angle=360-Math.abs(angle)),angle}function calculateDirection(startPoint,endPoint){var angle=calculateAngle(startPoint,endPoint);return 45>=angle&&angle>=0?LEFT:360>=angle&&angle>=315?LEFT:angle>=135&&225>=angle?RIGHT:angle>45&&135>angle?DOWN:UP}function getTimeStamp(){var now=new Date;return now.getTime()}function getbounds(el){el=$(el);var offset=el.offset(),bounds={left:offset.left,right:offset.left+el.outerWidth(),top:offset.top,bottom:offset.top+el.outerHeight()};return bounds}function isInBounds(point,bounds){return point.x>bounds.left&&point.x<bounds.right&&point.y>bounds.top&&point.y<bounds.bottom}var useTouchEvents=SUPPORTS_TOUCH||!options.fallbackToMouseEvents,START_EV=useTouchEvents?"touchstart":"mousedown",MOVE_EV=useTouchEvents?"touchmove":"mousemove",END_EV=useTouchEvents?"touchend":"mouseup",LEAVE_EV=useTouchEvents?null:"mouseleave",CANCEL_EV="touchcancel",distance=0,direction=null,duration=0,startTouchesDistance=0,endTouchesDistance=0,pinchZoom=1,pinchDistance=0,pinchDirection=0,maximumsMap=null,$element=$(element),phase="start",fingerCount=0,fingerData=null,startTime=0,endTime=0,previousTouchEndTime=0,previousTouchFingerCount=0,doubleTapStartTime=0,singleTapTimeout=null;try{$element.bind(START_EV,touchStart),$element.bind(CANCEL_EV,touchCancel)}catch(e){$.error("events not supported "+START_EV+","+CANCEL_EV+" on jQuery.swipe")}this.enable=function(){return $element.bind(START_EV,touchStart),$element.bind(CANCEL_EV,touchCancel),$element},this.disable=function(){return removeListeners(),$element},this.destroy=function(){return removeListeners(),$element.data(PLUGIN_NS,null),$element},this.option=function(property,value){if(void 0!==options[property]){if(void 0===value)return options[property];options[property]=value}else $.error("Option "+property+" does not exist on jQuery.swipe.options");return null}}var LEFT="left",RIGHT="right",UP="up",DOWN="down",IN="in",OUT="out",NONE="none",AUTO="auto",SWIPE="swipe",PINCH="pinch",TAP="tap",DOUBLE_TAP="doubletap",LONG_TAP="longtap",HORIZONTAL="horizontal",VERTICAL="vertical",ALL_FINGERS="all",DOUBLE_TAP_THRESHOLD=10,PHASE_START="start",PHASE_MOVE="move",PHASE_END="end",PHASE_CANCEL="cancel",SUPPORTS_TOUCH="ontouchstart"in window,PLUGIN_NS="TouchSwipe",defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};$.fn.swipe=function(method){var $this=$(this),plugin=$this.data(PLUGIN_NS);if(plugin&&"string"==typeof method){if(plugin[method])return plugin[method].apply(this,Array.prototype.slice.call(arguments,1));$.error("Method "+method+" does not exist on jQuery.swipe")}else if(!(plugin||"object"!=typeof method&&method))return init.apply(this,arguments);return $this},$.fn.swipe.defaults=defaults,$.fn.swipe.phases={PHASE_START:PHASE_START,PHASE_MOVE:PHASE_MOVE,PHASE_END:PHASE_END,PHASE_CANCEL:PHASE_CANCEL},$.fn.swipe.directions={LEFT:LEFT,RIGHT:RIGHT,UP:UP,DOWN:DOWN,IN:IN,OUT:OUT},$.fn.swipe.pageScroll={NONE:NONE,HORIZONTAL:HORIZONTAL,VERTICAL:VERTICAL,AUTO:AUTO},$.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:ALL_FINGERS}}),!function(a,b){a.MixItUp=function(){var b=this;b._execAction("_constructor",0),a.extend(b,{selectors:{target:".mix",filter:".filter",sort:".sort"},animation:{enable:!0,effects:"fade scale",duration:600,easing:"ease",perspectiveDistance:"3000",perspectiveOrigin:"50% 50%",queue:!0,queueLimit:1,animateChangeLayout:!1,animateResizeContainer:!0,animateResizeTargets:!1,staggerSequence:!1,reverseOut:!1},callbacks:{onMixLoad:!1,onMixStart:!1,onMixBusy:!1,onMixEnd:!1,onMixFail:!1,_user:!1},controls:{enable:!0,live:!1,toggleFilterButtons:!1,toggleLogic:"or",activeClass:"active"},layout:{display:"inline-block",containerClass:"",containerClassFail:"fail"},load:{filter:"all",sort:!1},_$body:null,_$container:null,_$targets:null,_$parent:null,_$sortButtons:null,_$filterButtons:null,_suckMode:!1,_mixing:!1,_sorting:!1,_clicking:!1,_loading:!0,_changingLayout:!1,_changingClass:!1,_changingDisplay:!1,_origOrder:[],_startOrder:[],_newOrder:[],_activeFilter:null,_toggleArray:[],_toggleString:"",_activeSort:"default:asc",_newSort:null,_startHeight:null,_newHeight:null,_incPadding:!0,_newDisplay:null,_newClass:null,_targetsBound:0,_targetsDone:0,_queue:[],_$show:a(),_$hide:a()}),b._execAction("_constructor",1)},a.MixItUp.prototype={constructor:a.MixItUp,_instances:{},_handled:{_filter:{},_sort:{}},_bound:{_filter:{},_sort:{}},_actions:{},_filters:{},extend:function(b){for(var c in b)a.MixItUp.prototype[c]=b[c]},addAction:function(b,c,d,e){a.MixItUp.prototype._addHook("_actions",b,c,d,e)},addFilter:function(b,c,d,e){a.MixItUp.prototype._addHook("_filters",b,c,d,e)},_addHook:function(b,c,d,e,f){var g=a.MixItUp.prototype[b],h={};f=1===f||"post"===f?"post":"pre",h[c]={},h[c][f]={},h[c][f][d]=e,a.extend(!0,g,h)},_init:function(b,c){var d=this;if(d._execAction("_init",0,arguments),c&&a.extend(!0,d,c),d._$body=a("body"),d._domNode=b,d._$container=a(b),d._$container.addClass(d.layout.containerClass),d._id=b.id,d._platformDetect(),d._brake=d._getPrefixedCSS("transition","none"),d._refresh(!0),d._$parent=d._$targets.parent().length?d._$targets.parent():d._$container,d.load.sort&&(d._newSort=d._parseSort(d.load.sort),d._newSortString=d.load.sort,d._activeSort=d.load.sort,d._sort(),d._printSort()),d._activeFilter="all"===d.load.filter?d.selectors.target:"none"===d.load.filter?"":d.load.filter,d.controls.enable&&d._bindHandlers(),d.controls.toggleFilterButtons){d._buildToggleArray();for(var e=0;d._toggleArray.length>e;e++)d._updateControls({filter:d._toggleArray[e],sort:d._activeSort},!0)}else d.controls.enable&&d._updateControls({filter:d._activeFilter,sort:d._activeSort});d._filter(),d._init=!0,d._$container.data("mixItUp",d),d._execAction("_init",1,arguments),d._buildState(),d._$targets.css(d._brake),d._goMix(d.animation.enable)},_platformDetect:function(){var a=this,c=["Webkit","Moz","O","ms"],d=["webkit","moz"],e=window.navigator.appVersion.match(/Chrome\/(\d+)\./)||!1,f="undefined"!=typeof InstallTrigger,g=function(a){for(var b=0;c.length>b;b++)if(c[b]+"Transition"in a.style)return{prefix:"-"+c[b].toLowerCase()+"-",vendor:c[b]};return"transition"in a.style?"":!1},h=g(a._domNode);a._execAction("_platformDetect",0),a._chrome=e?parseInt(e[1],10):!1,a._ff=f?parseInt(window.navigator.userAgent.match(/rv:([^)]+)\)/)[1]):!1,a._prefix=h.prefix,a._vendor=h.vendor,a._suckMode=window.atob&&a._prefix?!1:!0,a._suckMode&&(a.animation.enable=!1),a._ff&&4>=a._ff&&(a.animation.enable=!1);for(var i=0;d.length>i&&!window.requestAnimationFrame;i++)window.requestAnimationFrame=window[d[i]+"RequestAnimationFrame"];"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype}),a._domNode.nextElementSibling===b&&Object.defineProperty(Element.prototype,"nextElementSibling",{get:function(){for(var a=this.nextSibling;a;){if(1===a.nodeType)return a;a=a.nextSibling}return null}}),a._execAction("_platformDetect",1)},_refresh:function(a,c){var d=this;d._execAction("_refresh",0,arguments),d._$targets=d._$container.find(d.selectors.target);for(var e=0;d._$targets.length>e;e++){var f=d._$targets[e];if(f.dataset===b||c){f.dataset={};for(var g=0;f.attributes.length>g;g++){var h=f.attributes[g],i=h.name,j=h.nodeValue;if(i.indexOf("data-")>-1){var k=d._helpers._camelCase(i.substring(5,i.length));f.dataset[k]=j}}}f.mixParent===b&&(f.mixParent=d._id)}if(d._$targets.length&&a||!d._origOrder.length&&d._$targets.length){d._origOrder=[];for(var e=0;d._$targets.length>e;e++){var f=d._$targets[e];d._origOrder.push(f)}}d._execAction("_refresh",1,arguments)},_bindHandlers:function(){var c=this,d=a.MixItUp.prototype._bound._filter,e=a.MixItUp.prototype._bound._sort;c._execAction("_bindHandlers",0),c.controls.live?c._$body.on("click.mixItUp."+c._id,c.selectors.sort,function(){c._processClick(a(this),"sort")}).on("click.mixItUp."+c._id,c.selectors.filter,function(){c._processClick(a(this),"filter")}):(c._$sortButtons=a(c.selectors.sort),c._$filterButtons=a(c.selectors.filter),c._$sortButtons.on("click.mixItUp."+c._id,function(){c._processClick(a(this),"sort")}),c._$filterButtons.on("click.mixItUp."+c._id,function(){c._processClick(a(this),"filter")})),d[c.selectors.filter]=d[c.selectors.filter]===b?1:d[c.selectors.filter]+1,e[c.selectors.sort]=e[c.selectors.sort]===b?1:e[c.selectors.sort]+1,c._execAction("_bindHandlers",1)},_processClick:function(c,d){var e=this,f=function(c,d,f){var g=a.MixItUp.prototype;g._handled["_"+d][e.selectors[d]]=g._handled["_"+d][e.selectors[d]]===b?1:g._handled["_"+d][e.selectors[d]]+1,g._handled["_"+d][e.selectors[d]]===g._bound["_"+d][e.selectors[d]]&&(c[(f?"remove":"add")+"Class"](e.controls.activeClass),delete g._handled["_"+d][e.selectors[d]])};if(e._execAction("_processClick",0,arguments),!e._mixing||e.animation.queue&&e._queue.length<e.animation.queueLimit){if(e._clicking=!0,"sort"===d){var g=c.attr("data-sort");(!c.hasClass(e.controls.activeClass)||g.indexOf("random")>-1)&&(a(e.selectors.sort).removeClass(e.controls.activeClass),f(c,d),e.sort(g))}if("filter"===d){var h,i=c.attr("data-filter"),j="or"===e.controls.toggleLogic?",":"";e.controls.toggleFilterButtons?(e._buildToggleArray(),c.hasClass(e.controls.activeClass)?(f(c,d,!0),h=e._toggleArray.indexOf(i),e._toggleArray.splice(h,1)):(f(c,d),e._toggleArray.push(i)),e._toggleArray=a.grep(e._toggleArray,function(a){return a}),e._toggleString=e._toggleArray.join(j),e.filter(e._toggleString)):c.hasClass(e.controls.activeClass)||(a(e.selectors.filter).removeClass(e.controls.activeClass),f(c,d),e.filter(i))}e._execAction("_processClick",1,arguments)}else"function"==typeof e.callbacks.onMixBusy&&e.callbacks.onMixBusy.call(e._domNode,e._state,e),e._execAction("_processClickBusy",1,arguments)},_buildToggleArray:function(){var a=this,b=a._activeFilter.replace(/\s/g,"");if(a._execAction("_buildToggleArray",0,arguments),"or"===a.controls.toggleLogic)a._toggleArray=b.split(",");else{a._toggleArray=b.split("."),!a._toggleArray[0]&&a._toggleArray.shift();for(var c,d=0;c=a._toggleArray[d];d++)a._toggleArray[d]="."+c}a._execAction("_buildToggleArray",1,arguments)},_updateControls:function(c,d){var e=this,f={filter:c.filter,sort:c.sort},g=function(a,b){d&&"filter"==h&&"none"!==f.filter&&""!==f.filter?a.filter(b).addClass(e.controls.activeClass):a.removeClass(e.controls.activeClass).filter(b).addClass(e.controls.activeClass)},h="filter",i=null;e._execAction("_updateControls",0,arguments),c.filter===b&&(f.filter=e._activeFilter),c.sort===b&&(f.sort=e._activeSort),f.filter===e.selectors.target&&(f.filter="all");for(var j=0;2>j;j++)i=e.controls.live?a(e.selectors[h]):e["_$"+h+"Buttons"],i&&g(i,"[data-"+h+'="'+f[h]+'"]'),h="sort";e._execAction("_updateControls",1,arguments)},_filter:function(){var b=this;b._execAction("_filter",0);for(var c=0;b._$targets.length>c;c++){var d=a(b._$targets[c]);d.is(b._activeFilter)?b._$show=b._$show.add(d):b._$hide=b._$hide.add(d)}b._execAction("_filter",1)},_sort:function(){var a=this,b=function(a){for(var b=a.slice(),c=b.length,d=c;d--;){var e=parseInt(Math.random()*c),f=b[d];b[d]=b[e],b[e]=f}return b};a._execAction("_sort",0),a._startOrder=[];for(var c=0;a._$targets.length>c;c++){var d=a._$targets[c];a._startOrder.push(d)}switch(a._newSort[0].sortBy){case"default":a._newOrder=a._origOrder;break;case"random":a._newOrder=b(a._startOrder);break;case"custom":a._newOrder=a._newSort[0].order;break;default:a._newOrder=a._startOrder.concat().sort(function(b,c){return a._compare(b,c)})}a._execAction("_sort",1)},_compare:function(a,b,c){c=c?c:0;var d=this,e=d._newSort[c].order,f=function(a){return a.dataset[d._newSort[c].sortBy]||0},g=isNaN(1*f(a))?f(a).toLowerCase():1*f(a),h=isNaN(1*f(b))?f(b).toLowerCase():1*f(b);return h>g?"asc"==e?-1:1:g>h?"asc"==e?1:-1:g==h&&d._newSort.length>c+1?d._compare(a,b,c+1):0},_printSort:function(a){var b=this,c=a?b._startOrder:b._newOrder,d=b._$parent[0].querySelectorAll(b.selectors.target),e=d[d.length-1].nextElementSibling,f=document.createDocumentFragment();b._execAction("_printSort",0,arguments);for(var g=0;d.length>g;g++){var h=d[g],i=h.nextSibling;"absolute"!==h.style.position&&(i&&"#text"==i.nodeName&&b._$parent[0].removeChild(i),b._$parent[0].removeChild(h))}for(var g=0;c.length>g;g++){var j=c[g];
if("default"!=b._newSort[0].sortBy||"desc"!=b._newSort[0].order||a)f.appendChild(j),f.appendChild(document.createTextNode(" "));else{var k=f.firstChild;f.insertBefore(j,k),f.insertBefore(document.createTextNode(" "),j)}}e?b._$parent[0].insertBefore(f,e):b._$parent[0].appendChild(f),b._execAction("_printSort",1,arguments)},_parseSort:function(a){for(var b=this,c="string"==typeof a?a.split(" "):[a],d=[],e=0;c.length>e;e++){var f="string"==typeof a?c[e].split(":"):["custom",c[e]],g={sortBy:b._helpers._camelCase(f[0]),order:f[1]||"asc"};if(d.push(g),"default"==g.sortBy||"random"==g.sortBy)break}return b._execFilter("_parseSort",d,arguments)},_parseEffects:function(){var a=this,b={opacity:"",transformIn:"",transformOut:"",filter:""},c=function(b,c){if(a.animation.effects.indexOf(b)>-1){if(c){var d=a.animation.effects.indexOf(b+"(");if(d>-1){var e=a.animation.effects.substring(d),f=/\(([^)]+)\)/.exec(e),g=f[1];return{val:g}}}return!0}return!1},d=function(a,b){return b?"-"===a.charAt(0)?a.substr(1,a.length):"-"+a:a},e=function(a,e){for(var f=[["scale",".01"],["translateX","20px"],["translateY","20px"],["translateZ","20px"],["rotateX","90deg"],["rotateY","90deg"],["rotateZ","180deg"]],g=0;f.length>g;g++){var h=f[g][0],i=f[g][1],j=e&&"scale"!==h;b[a]+=c(h)?h+"("+d(c(h,!0).val||i,j)+") ":""}};return b.opacity=c("fade")?c("fade",!0).val||"0":"1",e("transformIn"),a.animation.reverseOut?e("transformOut",!0):b.transformOut=b.transformIn,b.transition={},b.transition=a._getPrefixedCSS("transition","all "+a.animation.duration+"ms "+a.animation.easing+", opacity "+a.animation.duration+"ms linear"),a.animation.stagger=c("stagger")?!0:!1,a.animation.staggerDuration=parseInt(c("stagger")?c("stagger",!0).val?c("stagger",!0).val:100:100),a._execFilter("_parseEffects",b)},_buildState:function(a){var b=this,c={};return b._execAction("_buildState",0),c={activeFilter:""===b._activeFilter?"none":b._activeFilter,activeSort:a&&b._newSortString?b._newSortString:b._activeSort,fail:!b._$show.length&&""!==b._activeFilter,$targets:b._$targets,$show:b._$show,$hide:b._$hide,totalTargets:b._$targets.length,totalShow:b._$show.length,totalHide:b._$hide.length,display:a&&b._newDisplay?b._newDisplay:b.layout.display},a?b._execFilter("_buildState",c):(b._state=c,b._execAction("_buildState",1),void 0)},_goMix:function(a){var b=this,c=function(){b._chrome&&31===b._chrome&&f(b._$parent[0]),b._setInter(),d()},d=function(){var a=window.pageYOffset,c=window.pageXOffset;document.documentElement.scrollHeight,b._getInterMixData(),b._setFinal(),b._getFinalMixData(),window.pageYOffset!==a&&window.scrollTo(c,a),b._prepTargets(),window.requestAnimationFrame?requestAnimationFrame(e):setTimeout(function(){e()},20)},e=function(){b._animateTargets(),0===b._targetsBound&&b._cleanUp()},f=function(a){var b=a.parentElement,c=document.createElement("div"),d=document.createDocumentFragment();b.insertBefore(c,a),d.appendChild(a),b.replaceChild(a,c)},g=b._buildState(!0);b._execAction("_goMix",0,arguments),!b.animation.duration&&(a=!1),b._mixing=!0,b._$container.removeClass(b.layout.containerClassFail),"function"==typeof b.callbacks.onMixStart&&b.callbacks.onMixStart.call(b._domNode,b._state,g,b),b._$container.trigger("mixStart",[b._state,g,b]),b._getOrigMixData(),a&&!b._suckMode?window.requestAnimationFrame?requestAnimationFrame(c):c():b._cleanUp(),b._execAction("_goMix",1,arguments)},_getTargetData:function(a,b){var c,d=this;a.dataset[b+"PosX"]=a.offsetLeft,a.dataset[b+"PosY"]=a.offsetTop,d.animation.animateResizeTargets&&(c=window.getComputedStyle(a),a.dataset[b+"MarginBottom"]=parseInt(c.marginBottom),a.dataset[b+"MarginRight"]=parseInt(c.marginRight),a.dataset[b+"Width"]=a.offsetWidth,a.dataset[b+"Height"]=a.offsetHeight)},_getOrigMixData:function(){var a=this,b=a._suckMode?{boxSizing:""}:window.getComputedStyle(a._$parent[0]),c=b.boxSizing||b[a._vendor+"BoxSizing"];a._incPadding="border-box"===c,a._execAction("_getOrigMixData",0),!a._suckMode&&(a.effects=a._parseEffects()),a._$toHide=a._$hide.filter(":visible"),a._$toShow=a._$show.filter(":hidden"),a._$pre=a._$targets.filter(":visible"),a._startHeight=a._incPadding?a._$parent.outerHeight():a._$parent.height();for(var d=0;a._$pre.length>d;d++){var e=a._$pre[d];a._getTargetData(e,"orig")}a._execAction("_getOrigMixData",1)},_setInter:function(){var a=this;a._execAction("_setInter",0),a._changingLayout&&a.animation.animateChangeLayout?(a._$toShow.css("display",a._newDisplay),a._changingClass&&a._$container.removeClass(a.layout.containerClass).addClass(a._newClass)):a._$toShow.css("display",a.layout.display),a._execAction("_setInter",1)},_getInterMixData:function(){var a=this;a._execAction("_getInterMixData",0);for(var b=0;a._$toShow.length>b;b++){var c=a._$toShow[b];a._getTargetData(c,"inter")}for(var b=0;a._$pre.length>b;b++){var c=a._$pre[b];a._getTargetData(c,"inter")}a._execAction("_getInterMixData",1)},_setFinal:function(){var a=this;a._execAction("_setFinal",0),a._sorting&&a._printSort(),a._$toHide.removeStyle("display"),a._changingLayout&&a.animation.animateChangeLayout&&a._$pre.css("display",a._newDisplay),a._execAction("_setFinal",1)},_getFinalMixData:function(){var a=this;a._execAction("_getFinalMixData",0);for(var b=0;a._$toShow.length>b;b++){var c=a._$toShow[b];a._getTargetData(c,"final")}for(var b=0;a._$pre.length>b;b++){var c=a._$pre[b];a._getTargetData(c,"final")}a._newHeight=a._incPadding?a._$parent.outerHeight():a._$parent.height(),a._sorting&&a._printSort(!0),a._$toShow.removeStyle("display"),a._$pre.css("display",a.layout.display),a._changingClass&&a.animation.animateChangeLayout&&a._$container.removeClass(a._newClass).addClass(a.layout.containerClass),a._execAction("_getFinalMixData",1)},_prepTargets:function(){var b=this,c={_in:b._getPrefixedCSS("transform",b.effects.transformIn),_out:b._getPrefixedCSS("transform",b.effects.transformOut)};b._execAction("_prepTargets",0),b.animation.animateResizeContainer&&b._$parent.css("height",b._startHeight+"px");for(var d=0;b._$toShow.length>d;d++){var e=b._$toShow[d],f=a(e);e.style.opacity=b.effects.opacity,e.style.display=b._changingLayout&&b.animation.animateChangeLayout?b._newDisplay:b.layout.display,f.css(c._in),b.animation.animateResizeTargets&&(e.style.width=e.dataset.finalWidth+"px",e.style.height=e.dataset.finalHeight+"px",e.style.marginRight=-(e.dataset.finalWidth-e.dataset.interWidth)+1*e.dataset.finalMarginRight+"px",e.style.marginBottom=-(e.dataset.finalHeight-e.dataset.interHeight)+1*e.dataset.finalMarginBottom+"px")}for(var d=0;b._$pre.length>d;d++){var e=b._$pre[d],f=a(e),g={x:e.dataset.origPosX-e.dataset.interPosX,y:e.dataset.origPosY-e.dataset.interPosY},c=b._getPrefixedCSS("transform","translate("+g.x+"px,"+g.y+"px)");f.css(c),b.animation.animateResizeTargets&&(e.style.width=e.dataset.origWidth+"px",e.style.height=e.dataset.origHeight+"px",e.dataset.origWidth-e.dataset.finalWidth&&(e.style.marginRight=-(e.dataset.origWidth-e.dataset.interWidth)+1*e.dataset.origMarginRight+"px"),e.dataset.origHeight-e.dataset.finalHeight&&(e.style.marginBottom=-(e.dataset.origHeight-e.dataset.interHeight)+1*e.dataset.origMarginBottom+"px"))}b._execAction("_prepTargets",1)},_animateTargets:function(){var b=this;b._execAction("_animateTargets",0),b._targetsDone=0,b._targetsBound=0,b._$parent.css(b._getPrefixedCSS("perspective",b.animation.perspectiveDistance+"px")).css(b._getPrefixedCSS("perspective-origin",b.animation.perspectiveOrigin)),b.animation.animateResizeContainer&&b._$parent.css(b._getPrefixedCSS("transition","height "+b.animation.duration+"ms ease")).css("height",b._newHeight+"px");for(var c=0;b._$toShow.length>c;c++){var d=b._$toShow[c],e=a(d),f={x:d.dataset.finalPosX-d.dataset.interPosX,y:d.dataset.finalPosY-d.dataset.interPosY},g=b._getDelay(c),h={};d.style.opacity="";for(var i=0;2>i;i++){var j=0===i?j=b._prefix:"";b._ff&&20>=b._ff&&(h[j+"transition-property"]="all",h[j+"transition-timing-function"]=b.animation.easing+"ms",h[j+"transition-duration"]=b.animation.duration+"ms"),h[j+"transition-delay"]=g+"ms",h[j+"transform"]="translate("+f.x+"px,"+f.y+"px)"}(b.effects.transform||b.effects.opacity)&&b._bindTargetDone(e),b._ff&&20>=b._ff?e.css(h):e.css(b.effects.transition).css(h)}for(var c=0;b._$pre.length>c;c++){var d=b._$pre[c],e=a(d),f={x:d.dataset.finalPosX-d.dataset.interPosX,y:d.dataset.finalPosY-d.dataset.interPosY},g=b._getDelay(c);(d.dataset.finalPosX!==d.dataset.origPosX||d.dataset.finalPosY!==d.dataset.origPosY)&&b._bindTargetDone(e),e.css(b._getPrefixedCSS("transition","all "+b.animation.duration+"ms "+b.animation.easing+" "+g+"ms")),e.css(b._getPrefixedCSS("transform","translate("+f.x+"px,"+f.y+"px)")),b.animation.animateResizeTargets&&(d.dataset.origWidth-d.dataset.finalWidth&&1*d.dataset.finalWidth&&(d.style.width=d.dataset.finalWidth+"px",d.style.marginRight=-(d.dataset.finalWidth-d.dataset.interWidth)+1*d.dataset.finalMarginRight+"px"),d.dataset.origHeight-d.dataset.finalHeight&&1*d.dataset.finalHeight&&(d.style.height=d.dataset.finalHeight+"px",d.style.marginBottom=-(d.dataset.finalHeight-d.dataset.interHeight)+1*d.dataset.finalMarginBottom+"px"))}b._changingClass&&b._$container.removeClass(b.layout.containerClass).addClass(b._newClass);for(var c=0;b._$toHide.length>c;c++){for(var d=b._$toHide[c],e=a(d),g=b._getDelay(c),k={},i=0;2>i;i++){var j=0===i?j=b._prefix:"";k[j+"transition-delay"]=g+"ms",k[j+"transform"]=b.effects.transformOut,k.opacity=b.effects.opacity}e.css(b.effects.transition).css(k),(b.effects.transform||b.effects.opacity)&&b._bindTargetDone(e)}b._execAction("_animateTargets",1)},_bindTargetDone:function(b){var c=this,d=b[0];c._execAction("_bindTargetDone",0,arguments),d.dataset.bound||(d.dataset.bound=!0,c._targetsBound++,b.on("webkitTransitionEnd.mixItUp transitionend.mixItUp",function(e){(e.originalEvent.propertyName.indexOf("transform")>-1||e.originalEvent.propertyName.indexOf("opacity")>-1)&&a(e.originalEvent.target).is(c.selectors.target)&&(b.off(".mixItUp"),delete d.dataset.bound,c._targetDone())})),c._execAction("_bindTargetDone",1,arguments)},_targetDone:function(){var a=this;a._execAction("_targetDone",0),a._targetsDone++,a._targetsDone===a._targetsBound&&a._cleanUp(),a._execAction("_targetDone",1)},_cleanUp:function(){var b=this,c=b.animation.animateResizeTargets?"transform opacity width height margin-bottom margin-right":"transform opacity";unBrake=function(){b._$targets.removeStyle("transition",b._prefix)},b._execAction("_cleanUp",0),b._changingLayout?b._$show.css("display",b._newDisplay):b._$show.css("display",b.layout.display),b._$targets.css(b._brake),b._$targets.removeStyle(c,b._prefix).removeAttr("data-inter-pos-x data-inter-pos-y data-final-pos-x data-final-pos-y data-orig-pos-x data-orig-pos-y data-orig-height data-orig-width data-final-height data-final-width data-inter-width data-inter-height data-orig-margin-right data-orig-margin-bottom data-inter-margin-right data-inter-margin-bottom data-final-margin-right data-final-margin-bottom"),b._$hide.removeStyle("display"),b._$parent.removeStyle("height transition perspective-distance perspective perspective-origin-x perspective-origin-y perspective-origin perspectiveOrigin",b._prefix),b._sorting&&(b._printSort(),b._activeSort=b._newSortString,b._sorting=!1),b._changingLayout&&(b._changingDisplay&&(b.layout.display=b._newDisplay,b._changingDisplay=!1),b._changingClass&&(b._$parent.removeClass(b.layout.containerClass).addClass(b._newClass),b.layout.containerClass=b._newClass,b._changingClass=!1),b._changingLayout=!1),b._refresh(),b._buildState(),b._state.fail&&b._$container.addClass(b.layout.containerClassFail),b._$show=a(),b._$hide=a(),window.requestAnimationFrame&&requestAnimationFrame(unBrake),b._mixing=!1,"function"==typeof b.callbacks._user&&b.callbacks._user.call(b._domNode,b._state,b),"function"==typeof b.callbacks.onMixEnd&&b.callbacks.onMixEnd.call(b._domNode,b._state,b),b._$container.trigger("mixEnd",[b._state,b]),b._state.fail&&("function"==typeof b.callbacks.onMixFail&&b.callbacks.onMixFail.call(b._domNode,b._state,b),b._$container.trigger("mixFail",[b._state,b])),b._loading&&("function"==typeof b.callbacks.onMixLoad&&b.callbacks.onMixLoad.call(b._domNode,b._state,b),b._$container.trigger("mixLoad",[b._state,b])),b._queue.length&&(b._execAction("_queue",0),b.multiMix(b._queue[0][0],b._queue[0][1],b._queue[0][2]),b._queue.splice(0,1)),b._execAction("_cleanUp",1),b._loading=!1},_getPrefixedCSS:function(a,b,c){var d=this,e={};for(i=0;2>i;i++){var f=0===i?d._prefix:"";e[f+a]=c?f+b:b}return d._execFilter("_getPrefixedCSS",e,arguments)},_getDelay:function(a){var b=this,c="function"==typeof b.animation.staggerSequence?b.animation.staggerSequence.call(b._domNode,a,b._state):a,d=b.animation.stagger?c*b.animation.staggerDuration:0;return b._execFilter("_getDelay",d,arguments)},_parseMultiMixArgs:function(a){for(var b=this,c={command:null,animate:b.animation.enable,callback:null},d=0;a.length>d;d++){var e=a[d];null!==e&&("object"==typeof e||"string"==typeof e?c.command=e:"boolean"==typeof e?c.animate=e:"function"==typeof e&&(c.callback=e))}return b._execFilter("_parseMultiMixArgs",c,arguments)},_parseInsertArgs:function(b){for(var c=this,d={index:0,$object:a(),multiMix:{filter:c._state.activeFilter},callback:null},e=0;b.length>e;e++){var f=b[e];"number"==typeof f?d.index=f:"object"==typeof f&&f instanceof a?d.$object=f:"object"==typeof f&&c._helpers._isElement(f)?d.$object=a(f):"object"==typeof f&&null!==f?d.multiMix=f:"boolean"!=typeof f||f?"function"==typeof f&&(d.callback=f):d.multiMix=!1}return c._execFilter("_parseInsertArgs",d,arguments)},_execAction:function(a,b,c){var d=this,e=b?"post":"pre";if(!d._actions.isEmptyObject&&d._actions.hasOwnProperty(a))for(var f in d._actions[a][e])d._actions[a][e][f].call(d,c)},_execFilter:function(a,b,c){var d=this;if(d._filters.isEmptyObject||!d._filters.hasOwnProperty(a))return b;for(var e in d._filters[a])return d._filters[a][e].call(d,c)},_helpers:{_camelCase:function(a){return a.replace(/-([a-z])/g,function(a){return a[1].toUpperCase()})},_isElement:function(a){return window.HTMLElement?a instanceof HTMLElement:null!==a&&1===a.nodeType&&"string"===a.nodeName}},isMixing:function(){var a=this;return a._execFilter("isMixing",a._mixing)},filter:function(){var a=this,b=a._parseMultiMixArgs(arguments);a._clicking&&(a._toggleString=""),a.multiMix({filter:b.command},b.animate,b.callback)},sort:function(){var a=this,b=a._parseMultiMixArgs(arguments);a.multiMix({sort:b.command},b.animate,b.callback)},changeLayout:function(){var a=this,b=a._parseMultiMixArgs(arguments);a.multiMix({changeLayout:b.command},b.animate,b.callback)},multiMix:function(){var a=this,c=a._parseMultiMixArgs(arguments);if(a._execAction("multiMix",0,arguments),a._mixing)a.animation.queue&&a._queue.length<a.animation.queueLimit?(a._queue.push(arguments),a.controls.enable&&!a._clicking&&a._updateControls(c.command),a._execAction("multiMixQueue",1,arguments)):("function"==typeof a.callbacks.onMixBusy&&a.callbacks.onMixBusy.call(a._domNode,a._state,a),a._$container.trigger("mixBusy",[a._state,a]),a._execAction("multiMixBusy",1,arguments));else{a.controls.enable&&!a._clicking&&(a.controls.toggleFilterButtons&&a._buildToggleArray(),a._updateControls(c.command,a.controls.toggleFilterButtons)),2>a._queue.length&&(a._clicking=!1),delete a.callbacks._user,c.callback&&(a.callbacks._user=c.callback);var d=c.command.sort,e=c.command.filter,f=c.command.changeLayout;a._refresh(),d&&(a._newSort=a._parseSort(d),a._newSortString=d,a._sorting=!0,a._sort()),e!==b&&(e="all"===e?a.selectors.target:e,a._activeFilter=e),a._filter(),f&&(a._newDisplay="string"==typeof f?f:f.display||a.layout.display,a._newClass=f.containerClass||"",(a._newDisplay!==a.layout.display||a._newClass!==a.layout.containerClass)&&(a._changingLayout=!0,a._changingClass=a._newClass!==a.layout.containerClass,a._changingDisplay=a._newDisplay!==a.layout.display)),a._$targets.css(a._brake),a._goMix(c.animate^a.animation.enable?c.animate:a.animation.enable),a._execAction("multiMix",1,arguments)}},insert:function(){var a=this,b=a._parseInsertArgs(arguments),c="function"==typeof b.callback?b.callback:null,d=document.createDocumentFragment(),e=function(){return a._refresh(),a._$targets.length?b.index<a._$targets.length||!a._$targets.length?a._$targets[b.index]:a._$targets[a._$targets.length-1].nextElementSibling:a._$parent[0].children[0]}();if(a._execAction("insert",0,arguments),b.$object){for(var f=0;b.$object.length>f;f++){var g=b.$object[f];d.appendChild(g),d.appendChild(document.createTextNode(" "))}a._$parent[0].insertBefore(d,e)}a._execAction("insert",1,arguments),"object"==typeof b.multiMix&&a.multiMix(b.multiMix,c)},prepend:function(){var a=this,b=a._parseInsertArgs(arguments);a.insert(0,b.$object,b.multiMix,b.callback)},append:function(){var a=this,b=a._parseInsertArgs(arguments);a.insert(a._state.totalTargets,b.$object,b.multiMix,b.callback)},getOption:function(a){var c=this,d=function(a,c){for(var d=c.split("."),e=d.pop(),f=d.length,g=1,h=d[0]||c;(a=a[h])&&f>g;)h=d[g],g++;return a!==b?a[e]!==b?a[e]:a:void 0};return a?c._execFilter("getOption",d(c,a),arguments):c},setOptions:function(b){var c=this;c._execAction("setOptions",0,arguments),"object"==typeof b&&a.extend(!0,c,b),c._execAction("setOptions",1,arguments)},getState:function(){var a=this;return a._execFilter("getState",a._state,a)},forceRefresh:function(){var a=this;a._refresh(!1,!0)},destroy:function(b){var c=this;c._execAction("destroy",0,arguments),c._$body.add(a(c.selectors.sort)).add(a(c.selectors.filter)).off(".mixItUp");for(var d=0;c._$targets.length>d;d++){var e=c._$targets[d];b&&(e.style.display=""),delete e.mixParent}c._execAction("destroy",1,arguments),delete a.MixItUp.prototype._instances[c._id]}},a.fn.mixItUp=function(){var c,d=arguments,e=[],f=function(b,c){var d=new a.MixItUp,e=function(){return("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6).toUpperCase()};d._execAction("_instantiate",0,arguments),b.id=b.id?b.id:"MixItUp"+e(),d._instances[b.id]||(d._instances[b.id]=d,d._init(b,c)),d._execAction("_instantiate",1,arguments)};return c=this.each(function(){if(d&&"string"==typeof d[0]){var c=a.MixItUp.prototype._instances[this.id];if("isLoaded"==d[0])e.push(c?!0:!1);else{var g=c[d[0]](d[1],d[2],d[3]);g!==b&&e.push(g)}}else f(this,d[0])}),e.length?e.length>1?e:e[0]:c},a.fn.removeStyle=function(a,c){return c=c?c:"",this.each(function(){for(var d=this,e=a.split(" "),f=0;e.length>f;f++)for(var g=0;2>g;g++){var h=g?e[f]:c+e[f];if(d.style[h]!==b&&"unknown"!=typeof d.style[h]&&d.style[h].length>0&&(d.style[h]=""),!c)break}d.attributes&&d.attributes.style&&d.attributes.style!==b&&""===d.attributes.style.nodeValue&&d.attributes.removeNamedItem("style")})}}(jQuery),function($){$.fn.fitText=function(kompressor,options){var compressor=kompressor||1,settings=$.extend({minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY},options);return this.each(function(){var $this=$(this),resizer=function(){$this.css("font-size",Math.max(Math.min($this.width()/(10*compressor),parseFloat(settings.maxFontSize)),parseFloat(settings.minFontSize)))};resizer(),$(window).on("resize.fittext orientationchange.fittext",resizer)})}}(jQuery),function(root,factory){"function"==typeof define&&define.amd?define(factory):"object"==typeof exports?module.exports=factory(require,exports,module):root.ouibounce=factory()}(this,function(){return function(el,config){function setDefault(_property,_default){return _property===void 0?_default:_property}function setDefaultCookieExpire(days){var ms=1e3*60*60*24*days,date=new Date;return date.setTime(date.getTime()+ms),"; expires="+date.toGMTString()}function attachOuiBounce(){_html.addEventListener("mouseleave",handleMouseleave),_html.addEventListener("keydown",handleKeydown)}function handleMouseleave(e){e.clientY>sensitivity||checkCookieValue("viewedOuibounceModal","true")&&!aggressive||(fire(),callback())}function handleKeydown(e){disableKeydown||checkCookieValue("viewedOuibounceModal","true")&&!aggressive||e.metaKey&&76==e.keyCode&&(disableKeydown=!0,fire(),callback())}function checkCookieValue(cookieName,value){var cookies=document.cookie.split("; ").reduce(function(prev,curr){var el=curr.split("=");return prev[el[0]]=el[1],prev},{});return cookies[cookieName]===value}function fire(){el&&(el.style.display="block"),disable()}function disable(options){var options=options||{};options.cookieExpire!==void 0&&(cookieExpire=setDefaultCookieExpire(options.cookieExpire)),options.sitewide===!0&&(sitewide=";path=/"),options.cookieDomain!==void 0&&(cookieDomain=";domain="+options.cookieDomain),document.cookie="viewedOuibounceModal=true"+cookieExpire+cookieDomain+sitewide,_html.removeEventListener("mouseleave",handleMouseleave),_html.removeEventListener("keydown",handleKeydown)}var config=config||{},aggressive=config.aggressive||!1,sensitivity=setDefault(config.sensitivity,20),timer=setDefault(config.timer,1e3),callback=config.callback||function(){},cookieExpire=setDefaultCookieExpire(config.cookieExpire)||"",cookieDomain=config.cookieDomain?";domain="+config.cookieDomain:"",sitewide=config.sitewide===!0?";path=/":"",_html=document.getElementsByTagName("html")[0];setTimeout(attachOuiBounce,timer);var disableKeydown=!1;return{fire:fire,disable:disable}}}),window.Modernizr=function(a,b,c){function w(a){j.cssText=a}function y(a,b){return typeof a===b}var k,s,v,d="2.7.1",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,m=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),n={},q=[],r=q.slice,t=function(a,c,d,e){var f,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))for(;d--;)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),l.appendChild(j);return f=["&#173;",'<style id="s',h,'">',a,"</style>"].join(""),l.id=h,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=g.style.overflow,g.style.overflow="hidden",g.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),g.style.overflow=k),!!i},u={}.hasOwnProperty;v=y(u,"undefined")||y(u.call,"undefined")?function(a,b){return b in a&&y(a.constructor.prototype[b],"undefined")}:function(a,b){return u.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if("function"!=typeof c)throw new TypeError;var d=r.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(r.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(r.call(arguments)))};return e}),n.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:t(["@media (",m.join("touch-enabled),("),h,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=9===a.offsetTop}),c};for(var B in n)v(n,B)&&(s=B.toLowerCase(),e[s]=n[B](),q.push((e[s]?"":"no-")+s));return e.addTest=function(a,b){if("object"==typeof a)for(var d in a)v(a,d)&&e.addTest(d,a[d]);else{if(a=a.toLowerCase(),e[a]!==c)return e;b="function"==typeof b?b():b,f!==void 0&&f&&(g.className+=" "+(b?"":"no-")+a),e[a]=b}return e},w(""),i=k=null,function(a,b){function l(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function m(){var a=s.elements;return"string"==typeof a?a.split(" "):a}function n(a){var b=j[a[h]];return b||(b={},i++,a[h]=i,j[i]=b),b}function o(a,c,d){if(c||(c=b),k)return c.createElement(a);d||(d=n(c));var g;return g=d.cache[a]?d.cache[a].cloneNode():f.test(a)?(d.cache[a]=d.createElem(a)).cloneNode():d.createElem(a),!g.canHaveChildren||e.test(a)||g.tagUrn?g:d.frag.appendChild(g)}function p(a,c){if(a||(a=b),k)return a.createDocumentFragment();c=c||n(a);for(var d=c.frag.cloneNode(),e=0,f=m(),g=f.length;g>e;e++)d.createElement(f[e]);return d}function q(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return s.shivMethods?o(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+m().join().replace(/[\w\-]+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(s,b.frag)}function r(a){a||(a=b);var c=n(a);return s.shivCSS&&!g&&!c.hasCSS&&(c.hasCSS=!!l(a,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),k||q(a,c),a}var g,k,c="3.7.0",d=a.html5||{},e=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,h="_html5shiv",i=0,j={};(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",g="hidden"in a,k=1==a.childNodes.length||function(){b.createElement("a");var a=b.createDocumentFragment();return a.cloneNode===void 0||a.createDocumentFragment===void 0||a.createElement===void 0}()}catch(c){g=!0,k=!0}})();var s={elements:d.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:c,shivCSS:d.shivCSS!==!1,supportsUnknownElements:k,shivMethods:d.shivMethods!==!1,type:"default",shivDocument:r,createElement:o,createDocumentFragment:p};a.html5=s,r(b)}(this,b),e._version=d,e._prefixes=m,e.testStyles=t,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+q.join(" "):""),e}(this,this.document),function(a,b,c){function d(a){return"[object Function]"==o.call(a)}function e(a){return"string"==typeof a}function f(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function h(){var a=p.shift();q=1,a?a.t?m(function(){("c"==a.t?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){"img"!=a&&m(function(){t.removeChild(l)},50);for(var d in y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}}var j=j||B.errorTimeout,l=b.createElement(a),o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};1===y[c]&&(r=1,y[c]=[]),"object"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),"img"!=a&&(r||2===y[c]?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||"j",e(a)?i("c"==b?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),1==p.length&&h()),this}function k(){var a=B;return a.loader={load:j,i:0},a}var A,B,l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&"[object Opera]"==o.call(a.opera),l=!!b.attachEvent&&!l,u=r?"object":l?"script":"img",v=l?"script":u,w=Array.isArray||function(a){return"[object Array]"==o.call(a)},x=[],y={},z={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}};B=function(a){function b(a){var e,f,g,a=a.split("!"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a};for(f=0;d>f;f++)g=a[f].split("="),(e=z[g.shift()])&&(c=e(c,g));for(f=0;b>f;f++)c=x[f](c);return c}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(".").pop().split("?").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(y[i.url]?i.noexec=!0:y[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),y[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var c,b=0;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}else!c&&l()}var m,n,h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f;c(h?a.yep:a.nope,!!i),i&&c(i)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(w(a))for(i=0;a.length>i;i++)j=a[i],e(j)?g(j,0,l,0):w(j)?B(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)},B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",A=function(){b.removeEventListener("DOMContentLoaded",A,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var l,o,k=b.createElement("script"),e=e||B.errorTimeout;k.src=a;for(o in d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||(l=1,c(1))},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var j,e=b.createElement("link"),c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},Modernizr.addTest("ipad",function(){return!!navigator.userAgent.match(/iPad/i)}),Modernizr.addTest("iphone",function(){return!!navigator.userAgent.match(/iPhone/i)}),Modernizr.addTest("ipod",function(){return!!navigator.userAgent.match(/iPod/i)}),Modernizr.addTest("appleios",function(){return Modernizr.ipad||Modernizr.ipod||Modernizr.iphone}),Modernizr.addTest("positionfixed",function(){var test=document.createElement("div"),control=test.cloneNode(!1),fake=!1,root=document.body||function(){return fake=!0,document.documentElement.appendChild(document.createElement("body"))}(),oldCssText=root.style.cssText;root.style.cssText="padding:0;margin:0",test.style.cssText="position:fixed;top:42px",root.appendChild(test),root.appendChild(control);var ret=test.offsetTop!==control.offsetTop;return root.removeChild(test),root.removeChild(control),root.style.cssText=oldCssText,fake&&document.documentElement.removeChild(root),ret&&!Modernizr.appleios}),!function(t){function e(t,e){return function(n){return u(t.call(this,n),e)}}function n(t,e){return function(n){return this.lang().ordinal(t.call(this,n),e)}}function s(){}function i(t){a(this,t)}function r(t){var e=t.years||t.year||t.y||0,n=t.months||t.month||t.M||0,s=t.weeks||t.week||t.w||0,i=t.days||t.day||t.d||0,r=t.hours||t.hour||t.h||0,a=t.minutes||t.minute||t.m||0,o=t.seconds||t.second||t.s||0,u=t.milliseconds||t.millisecond||t.ms||0;this._input=t,this._milliseconds=u+1e3*o+6e4*a+36e5*r,this._days=i+7*s,this._months=n+12*e,this._data={},this._bubble()}function a(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function o(t){return 0>t?Math.ceil(t):Math.floor(t)}function u(t,e){for(var n=t+"";e>n.length;)n="0"+n;return n}function h(t,e,n,s){var i,r,a=e._milliseconds,o=e._days,u=e._months;a&&t._d.setTime(+t._d+a*n),(o||u)&&(i=t.minute(),r=t.hour()),o&&t.date(t.date()+o*n),u&&t.month(t.month()+u*n),a&&!s&&H.updateOffset(t),(o||u)&&(t.minute(i),t.hour(r))}function d(t){return"[object Array]"===Object.prototype.toString.call(t)}function c(t,e){var n,s=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),r=0;for(n=0;s>n;n++)~~t[n]!==~~e[n]&&r++;return r+i}function f(t){return t?ie[t]||t.toLowerCase().replace(/(.)s$/,"$1"):t}function l(t,e){return e.abbr=t,x[t]||(x[t]=new s),x[t].set(e),x[t]}function _(t){if(!t)return H.fn._lang;if(!x[t]&&A)try{require("./lang/"+t)}catch(e){return H.fn._lang}return x[t]}function m(t){return t.match(/\[.*\]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function y(t){var e,n,s=t.match(E);for(e=0,n=s.length;n>e;e++)s[e]=ue[s[e]]?ue[s[e]]:m(s[e]);
return function(i){var r="";for(e=0;n>e;e++)r+=s[e]instanceof Function?s[e].call(i,t):s[e];return r}}function M(t,e){function n(e){return t.lang().longDateFormat(e)||e}for(var s=5;s--&&N.test(e);)e=e.replace(N,n);return re[e]||(re[e]=y(e)),re[e](t)}function g(t,e){switch(t){case"DDDD":return V;case"YYYY":return X;case"YYYYY":return $;case"S":case"SS":case"SSS":case"DDD":return I;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return R;case"a":case"A":return _(e._l)._meridiemParse;case"X":return B;case"Z":case"ZZ":return j;case"T":return q;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return J;default:return RegExp(t.replace("\\",""))}}function p(t){var e=(j.exec(t)||[])[0],n=(e+"").match(ee)||["-",0,0],s=+(60*n[1])+~~n[2];return"+"===n[0]?-s:s}function D(t,e,n){var s,i=n._a;switch(t){case"M":case"MM":i[1]=null==e?0:~~e-1;break;case"MMM":case"MMMM":s=_(n._l).monthsParse(e),null!=s?i[1]=s:n._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=e&&(i[2]=~~e);break;case"YY":i[0]=~~e+(~~e>68?1900:2e3);break;case"YYYY":case"YYYYY":i[0]=~~e;break;case"a":case"A":n._isPm=_(n._l).isPM(e);break;case"H":case"HH":case"h":case"hh":i[3]=~~e;break;case"m":case"mm":i[4]=~~e;break;case"s":case"ss":i[5]=~~e;break;case"S":case"SS":case"SSS":i[6]=~~(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=p(e)}null==e&&(n._isValid=!1)}function Y(t){var e,n,s=[];if(!t._d){for(e=0;7>e;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];s[3]+=~~((t._tzm||0)/60),s[4]+=~~((t._tzm||0)%60),n=new Date(0),t._useUTC?(n.setUTCFullYear(s[0],s[1],s[2]),n.setUTCHours(s[3],s[4],s[5],s[6])):(n.setFullYear(s[0],s[1],s[2]),n.setHours(s[3],s[4],s[5],s[6])),t._d=n}}function w(t){var e,n,s=t._f.match(E),i=t._i;for(t._a=[],e=0;s.length>e;e++)n=(g(s[e],t).exec(i)||[])[0],n&&(i=i.slice(i.indexOf(n)+n.length)),ue[s[e]]&&D(s[e],n,t);i&&(t._il=i),t._isPm&&12>t._a[3]&&(t._a[3]+=12),t._isPm===!1&&12===t._a[3]&&(t._a[3]=0),Y(t)}function k(t){var e,n,s,r,o,u=99;for(r=0;t._f.length>r;r++)e=a({},t),e._f=t._f[r],w(e),n=new i(e),o=c(e._a,n.toArray()),n._il&&(o+=n._il.length),u>o&&(u=o,s=n);a(t,s)}function v(t){var e,n=t._i,s=K.exec(n);if(s){for(t._f="YYYY-MM-DD"+(s[2]||" "),e=0;4>e;e++)if(te[e][1].exec(n)){t._f+=te[e][0];break}j.exec(n)&&(t._f+=" Z"),w(t)}else t._d=new Date(n)}function T(e){var n=e._i,s=G.exec(n);n===t?e._d=new Date:s?e._d=new Date(+s[1]):"string"==typeof n?v(e):d(n)?(e._a=n.slice(0),Y(e)):e._d=n instanceof Date?new Date(+n):new Date(n)}function b(t,e,n,s,i){return i.relativeTime(e||1,!!n,t,s)}function S(t,e,n){var s=W(Math.abs(t)/1e3),i=W(s/60),r=W(i/60),a=W(r/24),o=W(a/365),u=45>s&&["s",s]||1===i&&["m"]||45>i&&["mm",i]||1===r&&["h"]||22>r&&["hh",r]||1===a&&["d"]||25>=a&&["dd",a]||45>=a&&["M"]||345>a&&["MM",W(a/30)]||1===o&&["y"]||["yy",o];return u[2]=e,u[3]=t>0,u[4]=n,b.apply({},u)}function F(t,e,n){var s,i=n-e,r=n-t.day();return r>i&&(r-=7),i-7>r&&(r+=7),s=H(t).add("d",r),{week:Math.ceil(s.dayOfYear()/7),year:s.year()}}function O(t){var e=t._i,n=t._f;return null===e||""===e?null:("string"==typeof e&&(t._i=e=_().preparse(e)),H.isMoment(e)?(t=a({},e),t._d=new Date(+e._d)):n?d(n)?k(t):w(t):T(t),new i(t))}function z(t,e){H.fn[t]=H.fn[t+"s"]=function(t){var n=this._isUTC?"UTC":"";return null!=t?(this._d["set"+n+e](t),H.updateOffset(this),this):this._d["get"+n+e]()}}function C(t){H.duration.fn[t]=function(){return this._data[t]}}function L(t,e){H.duration.fn["as"+t]=function(){return+this/e}}for(var H,P,U="2.1.0",W=Math.round,x={},A="undefined"!=typeof module&&module.exports,G=/^\/?Date\((\-?\d+)/i,Z=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,E=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,N=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,J=/\d\d?/,I=/\d{1,3}/,V=/\d{3}/,X=/\d{1,4}/,$=/[+\-]?\d{1,6}/,R=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,j=/Z|[\+\-]\d\d:?\d\d/i,q=/T/i,B=/[\+\-]?\d+(\.\d{1,3})?/,K=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,Q="YYYY-MM-DDTHH:mm:ssZ",te=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ee=/([\+\-]|\d\d)/gi,ne="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),se={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},ie={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},re={},ae="DDD w W M D d".split(" "),oe="M D H h m s w W".split(" "),ue={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return u(this.year()%100,2)},YYYY:function(){return u(this.year(),4)},YYYYY:function(){return u(this.year(),5)},gg:function(){return u(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return u(this.weekYear(),5)},GG:function(){return u(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return u(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return u(~~(this.milliseconds()/10),2)},SSS:function(){return u(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+u(~~(t/60),2)+":"+u(~~t%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+u(~~(10*t/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};ae.length;)P=ae.pop(),ue[P+"o"]=n(ue[P],P);for(;oe.length;)P=oe.pop(),ue[P+P]=e(ue[P],2);for(ue.DDDD=e(ue.DDD,3),s.prototype={set:function(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,s;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++)if(this._monthsParse[e]||(n=H([2e3,e]),s="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=RegExp(s.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,s;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=H([2e3,1]).day(e),s="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=RegExp(s.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,s){var i=this._relativeTime[n];return"function"==typeof i?i(t,e,n,s):i.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return F(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}},H=function(t,e,n){return O({_i:t,_f:e,_l:n,_isUTC:!1})},H.utc=function(t,e,n){return O({_useUTC:!0,_isUTC:!0,_l:n,_i:t,_f:e})},H.unix=function(t){return H(1e3*t)},H.duration=function(t,e){var n,s,i=H.isDuration(t),a="number"==typeof t,o=i?t._input:a?{}:t,u=Z.exec(t);return a?e?o[e]=t:o.milliseconds=t:u&&(n="-"===u[1]?-1:1,o={y:0,d:~~u[2]*n,h:~~u[3]*n,m:~~u[4]*n,s:~~u[5]*n,ms:~~u[6]*n}),s=new r(o),i&&t.hasOwnProperty("_lang")&&(s._lang=t._lang),s},H.version=U,H.defaultFormat=Q,H.updateOffset=function(){},H.lang=function(t,e){return t?(e?l(t,e):x[t]||_(t),H.duration.fn._lang=H.fn._lang=_(t),void 0):H.fn._lang._abbr},H.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),_(t)},H.isMoment=function(t){return t instanceof i},H.isDuration=function(t){return t instanceof r},H.fn=i.prototype={clone:function(){return H(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return M(H(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!c(this._a,(this._isUTC?H.utc(this._a):H(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var e=M(this,t||H.defaultFormat);return this.lang().postformat(e)},add:function(t,e){var n;return n="string"==typeof t?H.duration(+e,t):H.duration(t,e),h(this,n,1),this},subtract:function(t,e){var n;return n="string"==typeof t?H.duration(+e,t):H.duration(t,e),h(this,n,-1),this},diff:function(t,e,n){var s,i,r=this._isUTC?H(t).zone(this._offset||0):H(t).local(),a=6e4*(this.zone()-r.zone());return e=f(e),"year"===e||"month"===e?(s=432e5*(this.daysInMonth()+r.daysInMonth()),i=12*(this.year()-r.year())+(this.month()-r.month()),i+=(this-H(this).startOf("month")-(r-H(r).startOf("month")))/s,i-=6e4*(this.zone()-H(this).startOf("month").zone()-(r.zone()-H(r).startOf("month").zone()))/s,"year"===e&&(i/=12)):(s=this-r,i="second"===e?s/1e3:"minute"===e?s/6e4:"hour"===e?s/36e5:"day"===e?(s-a)/864e5:"week"===e?(s-a)/6048e5:s),n?i:o(i)},from:function(t,e){return H.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(H(),t)},calendar:function(){var t=this.diff(H().startOf("day"),"days",!0),e=-6>t?"sameElse":-1>t?"lastWeek":0>t?"lastDay":1>t?"sameDay":2>t?"nextDay":7>t?"nextWeek":"sameElse";return this.format(this.lang().calendar(e,this))},isLeapYear:function(){var t=this.year();return 0===t%4&&0!==t%100||0===t%400},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?"string"==typeof t&&(t=this.lang().weekdaysParse(t),"number"!=typeof t)?this:this.add({d:t-e}):e},month:function(t){var e,n=this._isUTC?"UTC":"";return null!=t?"string"==typeof t&&(t=this.lang().monthsParse(t),"number"!=typeof t)?this:(e=this.date(),this.date(1),this._d["set"+n+"Month"](t),this.date(Math.min(e,this.daysInMonth())),H.updateOffset(this),this):this._d["get"+n+"Month"]()},startOf:function(t){switch(t=f(t)){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),this},endOf:function(t){return this.startOf(t).add(t,1).subtract("ms",1)},isAfter:function(t,e){return e=e!==void 0?e:"millisecond",+this.clone().startOf(e)>+H(t).startOf(e)},isBefore:function(t,e){return e=e!==void 0?e:"millisecond",+this.clone().startOf(e)<+H(t).startOf(e)},isSame:function(t,e){return e=e!==void 0?e:"millisecond",+this.clone().startOf(e)===+H(t).startOf(e)},min:function(t){return t=H.apply(null,arguments),this>t?this:t},max:function(t){return t=H.apply(null,arguments),t>this?this:t},zone:function(t){var e=this._offset||0;return null==t?this._isUTC?e:this._d.getTimezoneOffset():("string"==typeof t&&(t=p(t)),16>Math.abs(t)&&(t=60*t),this._offset=t,this._isUTC=!0,e!==t&&h(this,H.duration(e-t,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return H.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(t){var e=W((H(this).startOf("day")-H(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},weekYear:function(t){var e=F(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=F(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=F(this,1,4).week;return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},lang:function(e){return e===t?this._lang:(this._lang=_(e),this)}},P=0;ne.length>P;P++)z(ne[P].toLowerCase().replace(/s$/,""),ne[P]);z("year","FullYear"),H.fn.days=H.fn.day,H.fn.months=H.fn.month,H.fn.weeks=H.fn.week,H.fn.isoWeeks=H.fn.isoWeek,H.fn.toJSON=H.fn.toISOString,H.duration.fn=r.prototype={_bubble:function(){var t,e,n,s,i=this._milliseconds,r=this._days,a=this._months,u=this._data;u.milliseconds=i%1e3,t=o(i/1e3),u.seconds=t%60,e=o(t/60),u.minutes=e%60,n=o(e/60),u.hours=n%24,r+=o(n/24),u.days=r%30,a+=o(r/30),u.months=a%12,s=o(a/12),u.years=s},weeks:function(){return o(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*~~(this._months/12)},humanize:function(t){var e=+this,n=S(e,!t,this.lang());return t&&(n=this.lang().pastFuture(e,n)),this.lang().postformat(n)},add:function(t,e){var n=H.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=H.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=f(t),this[t.toLowerCase()+"s"]()},as:function(t){return t=f(t),this["as"+t.charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:H.fn.lang};for(P in se)se.hasOwnProperty(P)&&(L(P,se[P]),C(P.toLowerCase()));L("Weeks",6048e5),H.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},H.lang("en",{ordinal:function(t){var e=t%10,n=1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),A&&(module.exports=H),"undefined"==typeof ender&&(this.moment=H),"function"==typeof define&&define.amd&&define("moment",[],function(){return H})}.call(this),function(){var DateRange,moment;moment="undefined"==typeof require||null===require||require.amd?this.moment:require("moment"),DateRange=function(){function DateRange(start,end){this.start=moment(start),this.end=moment(end)}return DateRange.prototype.contains=function(moment){return moment>=this.start&&this.end>=moment},DateRange.prototype._by_string=function(interval,hollaback){var current,_results;for(current=moment(this.start),_results=[];this.contains(current);)hollaback.call(this,current.clone()),_results.push(current.add(interval,1));return _results},DateRange.prototype._by_range=function(range_interval,hollaback){var i,l,_i,_results;if(l=Math.round(this/range_interval),1/0===l)return this;for(_results=[],i=_i=0;l>=0?l>=_i:_i>=l;i=l>=0?++_i:--_i)_results.push(hollaback.call(this,moment(this.start.valueOf()+range_interval.valueOf()*i)));return _results},DateRange.prototype.overlaps=function(range){return this.start<range.end&&this.end>range.start},DateRange.prototype.by=function(range,hollaback){return"string"==typeof range?this._by_string(range,hollaback):this._by_range(range,hollaback),this},DateRange.prototype.valueOf=function(){return this.end-this.start},DateRange}(),moment.fn.range=function(start,end){return new DateRange(start,end)},moment.fn.within=function(range){return range.contains(this._d)},null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)&&(module.exports=moment)}.call(this),function(){function t(t){function n(t){t+="";var e=t.split(":"),n=~t.indexOf("-")?-1:1,s=Math.abs(+e[0]),r=parseInt(e[1],10)||0,i=parseInt(e[2],10)||0;return n*(60*s+r+i/60)}function s(t,e,s,r,i,u,a,o,h,f){this.name=t,this.startYear=+e,this.endYear=+s,this.month=+r,this.day=+i,this.dayRule=+u,this.time=n(a),this.timeRule=+o,this.offset=n(h),this.letters=f||""}function r(t,e){this.rule=e,this.start=e.start(t)}function i(t,e){return t.isLast?-1:e.isLast?1:e.start-t.start}function u(t){this.name=t,this.rules=[]}function a(e,s,r,i,u,a){var o,h="string"==typeof u?u.split("_"):[9999];for(this.name=e,this.offset=n(s),this.ruleSet=r,this.letters=i,o=0;h.length>o;o++)h[o]=+h[o];this.until=t.utc(h).subtract("m",n(a))}function o(t,e){return t.until-e.until}function h(t){this.name=d(t),this.displayName=t,this.zones=[]}function f(t){var e,n,s;for(e in t)for(s=t[e],n=0;s.length>n;n++)l(e+" "+s[n])}function l(t){if(g[t])return g[t];var e=t.split(/\s/),n=d(e[0]),r=new s(n,e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10]);return g[t]=r,z(n).add(r),r}function d(t){return(t||"").toLowerCase().replace(/\//g,"_")}function c(t){var e,n,s;for(e in t)for(s=t[e],n=0;s.length>n;n++)p(e+" "+s[n])}function m(t){var e;for(e in t)A[d(e)]=d(t[e])}function p(t){if(b[t])return b[t];var e=t.split(/\s/),n=d(e[0]),s=new a(n,e[1],z(e[2]),e[3],e[4],e[5]);return b[t]=s,y(e[0]).add(s),s}function z(t){return t=d(t),Y[t]||(Y[t]=new u(t)),Y[t]}function y(t){var e=d(t);return A[e]&&(e=A[e]),M[e]||(M[e]=new h(t)),M[e]}function v(t){t&&(t.zones&&c(t.zones),t.rules&&f(t.rules),t.links&&m(t.links))}var R,w=t.fn.zoneName,_=t.fn.zoneAbbr,g={},Y={},b={},M={},A={},k=1,L=2,N=7,q=8;return s.prototype={contains:function(t){return t>=this.startYear&&this.endYear>=t},start:function(e){return e=Math.min(Math.max(e,this.startYear),this.endYear),t.utc([e,this.month,this.date(e),0,this.time])},date:function(t){return this.dayRule===N?this.day:this.dayRule===q?this.lastWeekday(t):this.weekdayAfter(t)},weekdayAfter:function(e){for(var n=this.day,s=t([e,this.month,1]).day(),r=this.dayRule+1-s;n>r;)r+=7;return r},lastWeekday:function(e){var n=this.day,s=n%7,r=t([e,this.month+1,1]).day(),i=t([e,this.month,1]).daysInMonth(),u=i+(s-(r-1))-7*~~(n/7);return s>=r&&(u-=7),u}},r.prototype={equals:function(t){return t&&t.rule===this.rule?864e5>Math.abs(t.start-this.start):!1}},u.prototype={add:function(t){this.rules.push(t)},ruleYears:function(t,e){var n,s,u,a=t.year(),o=[];for(n=0;this.rules.length>n;n++)s=this.rules[n],s.contains(a)?o.push(new r(a,s)):s.contains(a+1)&&o.push(new r(a+1,s));return o.push(new r(a-1,this.lastYearRule(a-1))),e&&(u=new r(a-1,e.lastRule()),u.start=e.until.clone().utc(),u.isLast=e.ruleSet!==this,o.push(u)),o.sort(i),o},rule:function(t,e,n){var s,r,i,u,a,o=this.ruleYears(t,n),h=0;for(n&&(r=n.offset+n.lastRule().offset,i=9e4*Math.abs(r)),a=o.length-1;a>-1;a--)u=s,s=o[a],s.equals(u)||(n&&!s.isLast&&i>=Math.abs(s.start-n.until)&&(h+=r-e),s.rule.timeRule===L&&(h=e),s.rule.timeRule!==k&&s.start.add("m",-h),h=s.rule.offset+e);for(a=0;o.length>a;a++)if(s=o[a],t>=s.start&&!s.isLast)return s.rule;return R},lastYearRule:function(t){var e,n,s,r=R,i=-1e30;for(e=0;this.rules.length>e;e++)n=this.rules[e],t>=n.startYear&&(s=n.start(t),s>i&&(i=s,r=n));return r}},a.prototype={rule:function(t,e){return this.ruleSet.rule(t,this.offset,e)},lastRule:function(){return this._lastRule||(this._lastRule=this.rule(this.until)),this._lastRule},format:function(t){return this.letters.replace("%s",t.letters)}},h.prototype={zoneAndRule:function(t){var e,n,s;for(t=t.clone().utc(),e=0;this.zones.length>e&&(n=this.zones[e],!(n.until>t));e++)s=n;return[n,n.rule(t,s)]},add:function(t){this.zones.push(t),this.zones.sort(o)},format:function(t){var e=this.zoneAndRule(t);return e[0].format(e[1])},offset:function(t){var e=this.zoneAndRule(t);return-(e[0].offset+e[1].offset)}},t.updateOffset=function(t){var e;t._z&&(e=t._z.offset(t),16>Math.abs(e)&&(e/=60),t.zone(e))},t.fn.tz=function(e){return e?(this._z=y(e),this._z&&t.updateOffset(this),this):this._z?this._z.displayName:void 0},t.fn.zoneName=function(){return this._z?this._z.format(this):w.call(this)},t.fn.zoneAbbr=function(){return this._z?this._z.format(this):_.call(this)},t.tz=function(){var e,n=[],s=arguments.length-1;for(e=0;s>e;e++)n[e]=arguments[e];return t.apply(null,n).tz(arguments[s])},t.tz.add=v,t.tz.addRule=l,t.tz.addZone=p,t.tz.version=e,R=l("- 0 9999 0 0 0 0 0 0"),t}var e="0.0.1";"function"==typeof define&&define.amd?define("moment-timezone",["moment"],t):"undefined"!=typeof window&&window.moment?t(window.moment):"undefined"!=typeof module&&(module.exports=t(require("./moment")))}.apply(this),moment.tz.add({zones:{"America/Adak":["12:13:21 - LMT 1867_9_18 12:13:21","-11:46:38 - LMT 1900_7_20_12 -11:46:38","-11 - NST 1942 -11","-11 US N%sT 1946 -11","-11 - NST 1967_3 -11","-11 - BST 1969 -11","-11 US B%sT 1983_9_30_2 -10","-10 US AH%sT 1983_10_30 -10","-10 US HA%sT"],"America/Anchorage":["14:0:24 - LMT 1867_9_18 14:0:24","-9:59:36 - LMT 1900_7_20_12 -9:59:36","-10 - CAT 1942 -10","-10 US CAT/CAWT 1945_7_14_23","-10 US CAT/CAPT 1946 -10","-10 - CAT 1967_3 -10","-10 - AHST 1969 -10","-10 US AH%sT 1983_9_30_2 -9","-9 US Y%sT 1983_10_30 -9","-9 US AK%sT"],"America/Anguilla":["-4:12:16 - LMT 1912_2_2 -4:12:16","-4 - AST"],"America/Antigua":["-4:7:12 - LMT 1912_2_2 -4:7:12","-5 - EST 1951 -5","-4 - AST"],"America/Araguaina":["-3:12:48 - LMT 1914 -3:12:48","-3 Brazil BR%sT 1990_8_17 -3","-3 - BRT 1995_8_14 -3","-3 Brazil BR%sT 2003_8_24 -3","-3 - BRT 2012_9_21 -3","-3 Brazil BR%sT"],"America/Argentina/Buenos_Aires":["-3:53:48 - LMT 1894_9_31 -3:53:48","-4:16:48 - CMT 1920_4 -4:16:48","-4 - ART 1930_11 -4","-4 Arg AR%sT 1969_9_5 -4","-3 Arg AR%sT 1999_9_3 -3","-4 Arg AR%sT 2000_2_3 -3","-3 Arg AR%sT"],"America/Argentina/Catamarca":["-4:23:8 - LMT 1894_9_31 -4:23:8","-4:16:48 - CMT 1920_4 -4:16:48","-4 - ART 1930_11 -4","-4 Arg AR%sT 1969_9_5 -4","-3 Arg AR%sT 1991_2_3 -2","-4 - WART 1991_9_20 -4","-3 Arg AR%sT 1999_9_3 -3","-4 Arg AR%sT 2000_2_3 -3","-3 - ART 2004_5_1 -3","-4 - WART 2004_5_20 -4","-3 Arg AR%sT 2008_9_18 -3","-3 - ART"],"America/Argentina/Cordoba":["-4:16:48 - LMT 1894_9_31 -4:16:48","-4:16:48 - CMT 1920_4 -4:16:48","-4 - ART 1930_11 -4","-4 Arg AR%sT 1969_9_5 -4","-3 Arg AR%sT 1991_2_3 -2","-4 - WART 1991_9_20 -4","-3 Arg AR%sT 1999_9_3 -3","-4 Arg AR%sT 2000_2_3 -3","-3 Arg AR%sT"],"America/Argentina/Jujuy":["-4:21:12 - LMT 1894_9_31 -4:21:12","-4:16:48 - CMT 1920_4 -4:16:48","-4 - ART 1930_11 -4","-4 Arg AR%sT 1969_9_5 -4","-3 Arg AR%sT 1990_2_4 -2","-4 - WART 1990_9_28 -4","-3 - WARST 1991_2_17 -3","-4 - WART 1991_9_6 -4","-2 - ARST 1992 -2","-3 Arg AR%sT 1999_9_3 -3","-4 Arg AR%sT 2000_2_3 -3","-3 Arg AR%sT 2008_9_18 -3","-3 - ART"],"America/Argentina/La_Rioja":["-4:27:24 - LMT 1894_9_31 -4:27:24","-4:16:48 - CMT 1920_4 -4:16:48","-4 - ART 1930_11 -4","-4 Arg AR%sT 1969_9_5 -4","-3 Arg AR%sT 1991_2_1 -2","-4 - WART 1991_4_7 -4","-3 Arg AR%sT 1999_9_3 -3","-4 Arg AR%sT 2000_2_3 -3","-3 - ART 2004_5_1 -3","-4 - WART 2004_5_20 -4","-3 Arg AR%sT 2008_9_18 -3","-3 - ART"],"America/Argentina/Mendoza":["-4:35:16 - LMT 1894_9_31 -4:35:16","-4:16:48 - CMT 1920_4 -4:16:48","-4 - ART 1930_11 -4","-4 Arg AR%sT 1969_9_5 -4","-3 Arg AR%sT 1990_2_4 -2","-4 - WART 1990_9_15 -4","-3 - WARST 1991_2_1 -3","-4 - WART 1991_9_15 -4","-3 - WARST 1992_2_1 -3","-4 - WART 1992_9_18 -4","-3 Arg AR%sT 1999_9_3 -3","-4 Arg AR%sT 2000_2_3 -3","-3 - ART 2004_4_23 -3","-4 - WART 2004_8_26 -4","-3 Arg AR%sT 2008_9_18 -3","-3 - ART"],"America/Argentina/Rio_Gallegos":["-4:36:52 - LMT 1894_9_31 -4:36:52","-4:16:48 - CMT 1920_4 -4:16:48","-4 - ART 1930_11 -4","-4 Arg AR%sT 1969_9_5 -4","-3 Arg AR%sT 1999_9_3 -3","-4 Arg AR%sT 2000_2_3 -3","-3 - ART 2004_5_1 -3","-4 - WART 2004_5_20 -4","-3 Arg AR%sT 2008_9_18 -3","-3 - ART"],"America/Argentina/Salta":["-4:21:40 - LMT 1894_9_31 -4:21:40","-4:16:48 - CMT 1920_4 -4:16:48","-4 - ART 1930_11 -4","-4 Arg AR%sT 1969_9_5 -4","-3 Arg AR%sT 1991_2_3 -2","-4 - WART 1991_9_20 -4","-3 Arg AR%sT 1999_9_3 -3","-4 Arg AR%sT 2000_2_3 -3","-3 Arg AR%sT 2008_9_18 -3","-3 - ART"],"America/Argentina/San_Juan":["-4:34:4 - LMT 1894_9_31 -4:34:4","-4:16:48 - CMT 1920_4 -4:16:48","-4 - ART 1930_11 -4","-4 Arg AR%sT 1969_9_5 -4","-3 Arg AR%sT 1991_2_1 -2","-4 - WART 1991_4_7 -4","-3 Arg AR%sT 1999_9_3 -3","-4 Arg AR%sT 2000_2_3 -3","-3 - ART 2004_4_31 -3","-4 - WART 2004_6_25 -4","-3 Arg AR%sT 2008_9_18 -3","-3 - ART"],"America/Argentina/San_Luis":["-4:25:24 - LMT 1894_9_31 -4:25:24","-4:16:48 - CMT 1920_4 -4:16:48","-4 - ART 1930_11 -4","-4 Arg AR%sT 1969_9_5 -4","-3 Arg AR%sT 1990 -2","-2 - ARST 1990_2_14 -2","-4 - WART 1990_9_15 -4","-3 - WARST 1991_2_1 -3","-4 - WART 1991_5_1 -4","-3 - ART 1999_9_3 -3","-3 - WARST 2000_2_3 -3","-3 - ART 2004_4_31 -3","-4 - WART 2004_6_25 -4","-3 Arg AR%sT 2008_0_21 -2","-4 SanLuis WAR%sT"],"America/Argentina/Tucuman":["-4:20:52 - LMT 1894_9_31 -4:20:52","-4:16:48 - CMT 1920_4 -4:16:48","-4 - ART 1930_11 -4","-4 Arg AR%sT 1969_9_5 -4","-3 Arg AR%sT 1991_2_3 -2","-4 - WART 1991_9_20 -4","-3 Arg AR%sT 1999_9_3 -3","-4 Arg AR%sT 2000_2_3 -3","-3 - ART 2004_5_1 -3","-4 - WART 2004_5_13 -4","-3 Arg AR%sT"],"America/Argentina/Ushuaia":["-4:33:12 - LMT 1894_9_31 -4:33:12","-4:16:48 - CMT 1920_4 -4:16:48","-4 - ART 1930_11 -4","-4 Arg AR%sT 1969_9_5 -4","-3 Arg AR%sT 1999_9_3 -3","-4 Arg AR%sT 2000_2_3 -3","-3 - ART 2004_4_30 -3","-4 - WART 2004_5_20 -4","-3 Arg AR%sT 2008_9_18 -3","-3 - ART"],"America/Aruba":["-4:40:24 - LMT 1912_1_12 -4:40:24","-4:30 - ANT 1965 -4:30","-4 - AST"],"America/Asuncion":["-3:50:40 - LMT 1890 -3:50:40","-3:50:40 - AMT 1931_9_10 -3:50:40","-4 - PYT 1972_9 -4","-3 - PYT 1974_3 -3","-4 Para PY%sT"],"America/Atikokan":["-6:6:28 - LMT 1895 -6:6:28","-6 Canada C%sT 1940_8_29 -6","-5 - CDT 1942_1_9_2 -6","-6 Canada C%sT 1945_8_30_2 -5","-5 - EST"],"America/Bahia":["-2:34:4 - LMT 1914 -2:34:4","-3 Brazil BR%sT 2003_8_24 -3","-3 - BRT 2011_9_16 -3","-3 Brazil BR%sT 2012_9_21 -3","-3 - BRT"],"America/Bahia_Banderas":["-7:1 - LMT 1921_11_31_23_59 -7:1","-7 - MST 1927_5_10_23 -7","-6 - CST 1930_10_15 -6","-7 - MST 1931_4_1_23 -7","-6 - CST 1931_9 -6","-7 - MST 1932_3_1 -7","-6 - CST 1942_3_24 -6","-7 - MST 1949_0_14 -7","-8 - PST 1970 -8","-7 Mexico M%sT 2010_3_4_2 -7","-6 Mexico C%sT"],"America/Barbados":["-3:58:29 - LMT 1924 -3:58:29","-3:58:29 - BMT 1932 -3:58:29","-4 Barb A%sT"],"America/Belem":["-3:13:56 - LMT 1914 -3:13:56","-3 Brazil BR%sT 1988_8_12 -3","-3 - BRT"],"America/Belize":["-5:52:48 - LMT 1912_3 -5:52:48","-6 Belize C%sT"],"America/Blanc-Sablon":["-3:48:28 - LMT 1884 -3:48:28","-4 Canada A%sT 1970 -4","-4 - AST"],"America/Boa_Vista":["-4:2:40 - LMT 1914 -4:2:40","-4 Brazil AM%sT 1988_8_12 -4","-4 - AMT 1999_8_30 -4","-4 Brazil AM%sT 2000_9_15 -3","-4 - AMT"],"America/Bogota":["-4:56:16 - LMT 1884_2_13 -4:56:16","-4:56:16 - BMT 1914_10_23 -4:56:16","-5 CO CO%sT"],"America/Boise":["-7:44:49 - LMT 1883_10_18_12_15_11 -7:44:49","-8 US P%sT 1923_4_13_2 -8","-7 US M%sT 1974 -7","-7 - MST 1974_1_3_2 -7","-7 US M%sT"],"America/Cambridge_Bay":["0 - zzz 1920","-7 NT_YK M%sT 1999_9_31_2 -6","-6 Canada C%sT 2000_9_29_2 -5","-5 - EST 2000_10_5_0 -5","-6 - CST 2001_3_1_3 -6","-7 Canada M%sT"],"America/Campo_Grande":["-3:38:28 - LMT 1914 -3:38:28","-4 Brazil AM%sT"],"America/Cancun":["-5:47:4 - LMT 1922_0_1_0_12_56 -5:47:4","-6 - CST 1981_11_23 -6","-5 Mexico E%sT 1998_7_2_2 -4","-6 Mexico C%sT"],"America/Caracas":["-4:27:44 - LMT 1890 -4:27:44","-4:27:40 - CMT 1912_1_12 -4:27:40","-4:30 - VET 1965 -4:30","-4 - VET 2007_11_9_03 -4","-4:30 - VET"],"America/Cayenne":["-3:29:20 - LMT 1911_6 -3:29:20","-4 - GFT 1967_9 -4","-3 - GFT"],"America/Cayman":["-5:25:32 - LMT 1890 -5:25:32","-5:7:12 - KMT 1912_1 -5:7:12","-5 - EST"],"America/Chicago":["-5:50:36 - LMT 1883_10_18_12_9_24 -5:50:36","-6 US C%sT 1920 -6","-6 Chicago C%sT 1936_2_1_2 -6","-5 - EST 1936_10_15_2 -5","-6 Chicago C%sT 1942 -6","-6 US C%sT 1946 -6","-6 Chicago C%sT 1967 -6","-6 US C%sT"],"America/Chihuahua":["-7:4:20 - LMT 1921_11_31_23_55_40 -7:4:20","-7 - MST 1927_5_10_23 -7","-6 - CST 1930_10_15 -6","-7 - MST 1931_4_1_23 -7","-6 - CST 1931_9 -6","-7 - MST 1932_3_1 -7","-6 - CST 1996 -6","-6 Mexico C%sT 1998 -6","-6 - CST 1998_3_5_3 -6","-7 Mexico M%sT"],"America/Costa_Rica":["-5:36:13 - LMT 1890 -5:36:13","-5:36:13 - SJMT 1921_0_15 -5:36:13","-6 CR C%sT"],"America/Creston":["-7:46:4 - LMT 1884 -7:46:4","-7 - MST 1916_9_1 -7","-8 - PST 1918_5_2 -8","-7 - MST"],"America/Cuiaba":["-3:44:20 - LMT 1914 -3:44:20","-4 Brazil AM%sT 2003_8_24 -4","-4 - AMT 2004_9_1 -4","-4 Brazil AM%sT"],"America/Curacao":["-4:35:47 - LMT 1912_1_12 -4:35:47","-4:30 - ANT 1965 -4:30","-4 - AST"],"America/Danmarkshavn":["-1:14:40 - LMT 1916_6_28 -1:14:40","-3 - WGT 1980_3_6_2 -3","-3 EU WG%sT 1996 -3","0 - GMT"],"America/Dawson":["-9:17:40 - LMT 1900_7_20 -9:17:40","-9 NT_YK Y%sT 1973_9_28_0 -9","-8 NT_YK P%sT 1980 -8","-8 Canada P%sT"],"America/Dawson_Creek":["-8:0:56 - LMT 1884 -8:0:56","-8 Canada P%sT 1947 -8","-8 Vanc P%sT 1972_7_30_2 -7","-7 - MST"],"America/Denver":["-6:59:56 - LMT 1883_10_18_12_0_4 -6:59:56","-7 US M%sT 1920 -7","-7 Denver M%sT 1942 -7","-7 US M%sT 1946 -7","-7 Denver M%sT 1967 -7","-7 US M%sT"],"America/Detroit":["-5:32:11 - LMT 1905 -5:32:11","-6 - CST 1915_4_15_2 -6","-5 - EST 1942 -5","-5 US E%sT 1946 -5","-5 Detroit E%sT 1973 -5","-5 US E%sT 1975 -5","-5 - EST 1975_3_27_2 -5","-5 US E%sT"],"America/Dominica":["-4:5:36 - LMT 1911_6_1_0_1 -4:5:36","-4 - AST"],"America/Edmonton":["-7:33:52 - LMT 1906_8 -7:33:52","-7 Edm M%sT 1987 -7","-7 Canada M%sT"],"America/Eirunepe":["-4:39:28 - LMT 1914 -4:39:28","-5 Brazil AC%sT 1988_8_12 -5","-5 - ACT 1993_8_28 -5","-5 Brazil AC%sT 1994_8_22 -5","-5 - ACT 2008_5_24_00 -5","-4 - AMT"],"America/El_Salvador":["-5:56:48 - LMT 1921 -5:56:48","-6 Salv C%sT"],"America/Fortaleza":["-2:34 - LMT 1914 -2:34","-3 Brazil BR%sT 1990_8_17 -3","-3 - BRT 1999_8_30 -3","-3 Brazil BR%sT 2000_9_22 -2","-3 - BRT 2001_8_13 -3","-3 Brazil BR%sT 2002_9_1 -3","-3 - BRT"],"America/Glace_Bay":["-3:59:48 - LMT 1902_5_15 -3:59:48","-4 Canada A%sT 1953 -4","-4 Halifax A%sT 1954 -4","-4 - AST 1972 -4","-4 Halifax A%sT 1974 -4","-4 Canada A%sT"],"America/Godthab":["-3:26:56 - LMT 1916_6_28 -3:26:56","-3 - WGT 1980_3_6_2 -3","-3 EU WG%sT"],"America/Goose_Bay":["-4:1:40 - LMT 1884 -4:1:40","-3:30:52 - NST 1918 -3:30:52","-3:30:52 Canada N%sT 1919 -3:30:52","-3:30:52 - NST 1935_2_30 -3:30:52","-3:30 - NST 1936 -3:30","-3:30 StJohns N%sT 1942_4_11 -3:30","-3:30 Canada N%sT 1946 -3:30","-3:30 StJohns N%sT 1966_2_15_2 -3:30","-4 StJohns A%sT 2011_10 -3","-4 Canada A%sT"],"America/Grand_Turk":["-4:44:32 - LMT 1890 -4:44:32","-5:7:12 - KMT 1912_1 -5:7:12","-5 TC E%sT"],"America/Grenada":["-4:7 - LMT 1911_6 -4:7","-4 - AST"],"America/Guadeloupe":["-4:6:8 - LMT 1911_5_8 -4:6:8","-4 - AST"],"America/Guatemala":["-6:2:4 - LMT 1918_9_5 -6:2:4","-6 Guat C%sT"],"America/Guayaquil":["-5:19:20 - LMT 1890 -5:19:20","-5:14 - QMT 1931 -5:14","-5 - ECT"],"America/Guyana":["-3:52:40 - LMT 1915_2 -3:52:40","-3:45 - GBGT 1966_4_26 -3:45","-3:45 - GYT 1975_6_31 -3:45","-3 - GYT 1991 -3","-4 - GYT"],"America/Halifax":["-4:14:24 - LMT 1902_5_15 -4:14:24","-4 Halifax A%sT 1918 -4","-4 Canada A%sT 1919 -4","-4 Halifax A%sT 1942_1_9_2 -4","-4 Canada A%sT 1946 -4","-4 Halifax A%sT 1974 -4","-4 Canada A%sT"],"America/Havana":["-5:29:28 - LMT 1890 -5:29:28","-5:29:36 - HMT 1925_6_19_12 -5:29:36","-5 Cuba C%sT"],"America/Hermosillo":["-7:23:52 - LMT 1921_11_31_23_36_8 -7:23:52","-7 - MST 1927_5_10_23 -7","-6 - CST 1930_10_15 -6","-7 - MST 1931_4_1_23 -7","-6 - CST 1931_9 -6","-7 - MST 1932_3_1 -7","-6 - CST 1942_3_24 -6","-7 - MST 1949_0_14 -7","-8 - PST 1970 -8","-7 Mexico M%sT 1999 -7","-7 - MST"],"America/Indiana/Indianapolis":["-5:44:38 - LMT 1883_10_18_12_15_22 -5:44:38","-6 US C%sT 1920 -6","-6 Indianapolis C%sT 1942 -6","-6 US C%sT 1946 -6","-6 Indianapolis C%sT 1955_3_24_2 -6","-5 - EST 1957_8_29_2 -5","-6 - CST 1958_3_27_2 -6","-5 - EST 1969 -5","-5 US E%sT 1971 -5","-5 - EST 2006 -5","-5 US E%sT"],"America/Indiana/Knox":["-5:46:30 - LMT 1883_10_18_12_13_30 -5:46:30","-6 US C%sT 1947 -6","-6 Starke C%sT 1962_3_29_2 -6","-5 - EST 1963_9_27_2 -5","-6 US C%sT 1991_9_27_2 -5","-5 - EST 2006_3_2_2 -5","-6 US C%sT"],"America/Indiana/Marengo":["-5:45:23 - LMT 1883_10_18_12_14_37 -5:45:23","-6 US C%sT 1951 -6","-6 Marengo C%sT 1961_3_30_2 -6","-5 - EST 1969 -5","-5 US E%sT 1974_0_6_2 -5","-5 - CDT 1974_9_27_2 -5","-5 US E%sT 1976 -5","-5 - EST 2006 -5","-5 US E%sT"],"America/Indiana/Petersburg":["-5:49:7 - LMT 1883_10_18_12_10_53 -5:49:7","-6 US C%sT 1955 -6","-6 Pike C%sT 1965_3_25_2 -6","-5 - EST 1966_9_30_2 -5","-6 US C%sT 1977_9_30_2 -5","-5 - EST 2006_3_2_2 -5","-6 US C%sT 2007_10_4_2 -5","-5 US E%sT"],"America/Indiana/Tell_City":["-5:47:3 - LMT 1883_10_18_12_12_57 -5:47:3","-6 US C%sT 1946 -6","-6 Perry C%sT 1964_3_26_2 -6","-5 - EST 1969 -5","-5 US E%sT 1971 -5","-5 - EST 2006_3_2_2 -5","-6 US C%sT"],"America/Indiana/Vevay":["-5:40:16 - LMT 1883_10_18_12_19_44 -5:40:16","-6 US C%sT 1954_3_25_2 -6","-5 - EST 1969 -5","-5 US E%sT 1973 -5","-5 - EST 2006 -5","-5 US E%sT"],"America/Indiana/Vincennes":["-5:50:7 - LMT 1883_10_18_12_9_53 -5:50:7","-6 US C%sT 1946 -6","-6 Vincennes C%sT 1964_3_26_2 -6","-5 - EST 1969 -5","-5 US E%sT 1971 -5","-5 - EST 2006_3_2_2 -5","-6 US C%sT 2007_10_4_2 -5","-5 US E%sT"],"America/Indiana/Winamac":["-5:46:25 - LMT 1883_10_18_12_13_35 -5:46:25","-6 US C%sT 1946 -6","-6 Pulaski C%sT 1961_3_30_2 -6","-5 - EST 1969 -5","-5 US E%sT 1971 -5","-5 - EST 2006_3_2_2 -5","-6 US C%sT 2007_2_11_2 -6","-5 US E%sT"],"America/Inuvik":["0 - zzz 1953","-8 NT_YK P%sT 1979_3_29_2 -8","-7 NT_YK M%sT 1980 -7","-7 Canada M%sT"],"America/Iqaluit":["0 - zzz 1942_7","-5 NT_YK E%sT 1999_9_31_2 -4","-6 Canada C%sT 2000_9_29_2 -5","-5 Canada E%sT"],"America/Jamaica":["-5:7:12 - LMT 1890 -5:7:12","-5:7:12 - KMT 1912_1 -5:7:12","-5 - EST 1974_3_28_2 -5","-5 US E%sT 1984 -5","-5 - EST"],"America/Juneau":["15:2:19 - LMT 1867_9_18 15:2:19","-8:57:41 - LMT 1900_7_20_12 -8:57:41","-8 - PST 1942 -8","-8 US P%sT 1946 -8","-8 - PST 1969 -8","-8 US P%sT 1980_3_27_2 -8","-9 US Y%sT 1980_9_26_2 -8","-8 US P%sT 1983_9_30_2 -7","-9 US Y%sT 1983_10_30 -9","-9 US AK%sT"],"America/Kentucky/Louisville":["-5:43:2 - LMT 1883_10_18_12_16_58 -5:43:2","-6 US C%sT 1921 -6","-6 Louisville C%sT 1942 -6","-6 US C%sT 1946 -6","-6 Louisville C%sT 1961_6_23_2 -5","-5 - EST 1968 -5","-5 US E%sT 1974_0_6_2 -5","-5 - CDT 1974_9_27_2 -5","-5 US E%sT"],"America/Kentucky/Monticello":["-5:39:24 - LMT 1883_10_18_12_20_36 -5:39:24","-6 US C%sT 1946 -6","-6 - CST 1968 -6","-6 US C%sT 2000_9_29_2 -5","-5 US E%sT"],"America/La_Paz":["-4:32:36 - LMT 1890 -4:32:36","-4:32:36 - CMT 1931_9_15 -4:32:36","-3:32:36 - BOST 1932_2_21 -3:32:36","-4 - BOT"],"America/Lima":["-5:8:12 - LMT 1890 -5:8:12","-5:8:36 - LMT 1908_6_28 -5:8:36","-5 Peru PE%sT"],"America/Los_Angeles":["-7:52:58 - LMT 1883_10_18_12_7_2 -7:52:58","-8 US P%sT 1946 -8","-8 CA P%sT 1967 -8","-8 US P%sT"],"America/Maceio":["-2:22:52 - LMT 1914 -2:22:52","-3 Brazil BR%sT 1990_8_17 -3","-3 - BRT 1995_9_13 -3","-3 Brazil BR%sT 1996_8_4 -3","-3 - BRT 1999_8_30 -3","-3 Brazil BR%sT 2000_9_22 -2","-3 - BRT 2001_8_13 -3","-3 Brazil BR%sT 2002_9_1 -3","-3 - BRT"],"America/Managua":["-5:45:8 - LMT 1890 -5:45:8","-5:45:12 - MMT 1934_5_23 -5:45:12","-6 - CST 1973_4 -6","-5 - EST 1975_1_16 -5","-6 Nic C%sT 1992_0_1_4 -6","-5 - EST 1992_8_24 -5","-6 - CST 1993 -6","-5 - EST 1997 -5","-6 Nic C%sT"],"America/Manaus":["-4:0:4 - LMT 1914 -4:0:4","-4 Brazil AM%sT 1988_8_12 -4","-4 - AMT 1993_8_28 -4","-4 Brazil AM%sT 1994_8_22 -4","-4 - AMT"],"America/Martinique":["-4:4:20 - LMT 1890 -4:4:20","-4:4:20 - FFMT 1911_4 -4:4:20","-4 - AST 1980_3_6 -4","-3 - ADT 1980_8_28 -3","-4 - AST"],"America/Matamoros":["-6:40 - LMT 1921_11_31_23_20 -6:40","-6 - CST 1988 -6","-6 US C%sT 1989 -6","-6 Mexico C%sT 2010 -6","-6 US C%sT"],"America/Mazatlan":["-7:5:40 - LMT 1921_11_31_23_54_20 -7:5:40","-7 - MST 1927_5_10_23 -7","-6 - CST 1930_10_15 -6","-7 - MST 1931_4_1_23 -7","-6 - CST 1931_9 -6","-7 - MST 1932_3_1 -7","-6 - CST 1942_3_24 -6","-7 - MST 1949_0_14 -7","-8 - PST 1970 -8","-7 Mexico M%sT"],"America/Menominee":["-5:50:27 - LMT 1885_8_18_12 -5:50:27","-6 US C%sT 1946 -6","-6 Menominee C%sT 1969_3_27_2 -6","-5 - EST 1973_3_29_2 -5","-6 US C%sT"],"America/Merida":["-5:58:28 - LMT 1922_0_1_0_1_32 -5:58:28","-6 - CST 1981_11_23 -6","-5 - EST 1982_11_2 -5","-6 Mexico C%sT"],"America/Metlakatla":["15:13:42 - LMT 1867_9_18 15:13:42","-8:46:18 - LMT 1900_7_20_12 -8:46:18","-8 - PST 1942 -8","-8 US P%sT 1946 -8","-8 - PST 1969 -8","-8 US P%sT 1983_9_30_2 -7","-8 - MeST"],"America/Mexico_City":["-6:36:36 - LMT 1922_0_1_0_23_24 -6:36:36","-7 - MST 1927_5_10_23 -7","-6 - CST 1930_10_15 -6","-7 - MST 1931_4_1_23 -7","-6 - CST 1931_9 -6","-7 - MST 1932_3_1 -7","-6 Mexico C%sT 2001_8_30_02 -5","-6 - CST 2002_1_20 -6","-6 Mexico C%sT"],"America/Miquelon":["-3:44:40 - LMT 1911_4_15 -3:44:40","-4 - AST 1980_4 -4","-3 - PMST 1987 -3","-3 Canada PM%sT"],"America/Moncton":["-4:19:8 - LMT 1883_11_9 -4:19:8","-5 - EST 1902_5_15 -5","-4 Canada A%sT 1933 -4","-4 Moncton A%sT 1942 -4","-4 Canada A%sT 1946 -4","-4 Moncton A%sT 1973 -4","-4 Canada A%sT 1993 -4","-4 Moncton A%sT 2007 -4","-4 Canada A%sT"],"America/Monterrey":["-6:41:16 - LMT 1921_11_31_23_18_44 -6:41:16","-6 - CST 1988 -6","-6 US C%sT 1989 -6","-6 Mexico C%sT"],"America/Montevideo":["-3:44:44 - LMT 1898_5_28 -3:44:44","-3:44:44 - MMT 1920_4_1 -3:44:44","-3:30 Uruguay UY%sT 1942_11_14 -3:30","-3 Uruguay UY%sT"],"America/Montreal":["-4:54:16 - LMT 1884 -4:54:16","-5 Mont E%sT 1918 -5","-5 Canada E%sT 1919 -5","-5 Mont E%sT 1942_1_9_2 -5","-5 Canada E%sT 1946 -5","-5 Mont E%sT 1974 -5","-5 Canada E%sT"],"America/Montserrat":["-4:8:52 - LMT 1911_6_1_0_1 -4:8:52","-4 - AST"],"America/Nassau":["-5:9:30 - LMT 1912_2_2 -5:9:30","-5 Bahamas E%sT 1976 -5","-5 US E%sT"],"America/New_York":["-4:56:2 - LMT 1883_10_18_12_3_58 -4:56:2","-5 US E%sT 1920 -5","-5 NYC E%sT 1942 -5","-5 US E%sT 1946 -5","-5 NYC E%sT 1967 -5","-5 US E%sT"],"America/Nipigon":["-5:53:4 - LMT 1895 -5:53:4","-5 Canada E%sT 1940_8_29 -5","-4 - EDT 1942_1_9_2 -5","-5 Canada E%sT"],"America/Nome":["12:58:21 - LMT 1867_9_18 12:58:21","-11:1:38 - LMT 1900_7_20_12 -11:1:38","-11 - NST 1942 -11","-11 US N%sT 1946 -11","-11 - NST 1967_3 -11","-11 - BST 1969 -11","-11 US B%sT 1983_9_30_2 -10","-9 US Y%sT 1983_10_30 -9","-9 US AK%sT"],"America/Noronha":["-2:9:40 - LMT 1914 -2:9:40","-2 Brazil FN%sT 1990_8_17 -2","-2 - FNT 1999_8_30 -2","-2 Brazil FN%sT 2000_9_15 -1","-2 - FNT 2001_8_13 -2","-2 Brazil FN%sT 2002_9_1 -2","-2 - FNT"],"America/North_Dakota/Beulah":["-6:47:7 - LMT 1883_10_18_12_12_53 -6:47:7","-7 US M%sT 2010_10_7_2 -6","-6 US C%sT"],"America/North_Dakota/Center":["-6:45:12 - LMT 1883_10_18_12_14_48 -6:45:12","-7 US M%sT 1992_9_25_02 -6","-6 US C%sT"],"America/North_Dakota/New_Salem":["-6:45:39 - LMT 1883_10_18_12_14_21 -6:45:39","-7 US M%sT 2003_9_26_02 -6","-6 US C%sT"],"America/Ojinaga":["-6:57:40 - LMT 1922_0_1_0_2_20 -6:57:40","-7 - MST 1927_5_10_23 -7","-6 - CST 1930_10_15 -6","-7 - MST 1931_4_1_23 -7","-6 - CST 1931_9 -6","-7 - MST 1932_3_1 -7","-6 - CST 1996 -6","-6 Mexico C%sT 1998 -6","-6 - CST 1998_3_5_3 -6","-7 Mexico M%sT 2010 -7","-7 US M%sT"],"America/Panama":["-5:18:8 - LMT 1890 -5:18:8","-5:19:36 - CMT 1908_3_22 -5:19:36","-5 - EST"],"America/Pangnirtung":["0 - zzz 1921","-4 NT_YK A%sT 1995_3_2_2 -4","-5 Canada E%sT 1999_9_31_2 -4","-6 Canada C%sT 2000_9_29_2 -5","-5 Canada E%sT"],"America/Paramaribo":["-3:40:40 - LMT 1911 -3:40:40","-3:40:52 - PMT 1935 -3:40:52","-3:40:36 - PMT 1945_9 -3:40:36","-3:30 - NEGT 1975_10_20 -3:30","-3:30 - SRT 1984_9 -3:30","-3 - SRT"],"America/Phoenix":["-7:28:18 - LMT 1883_10_18_11_31_42 -7:28:18","-7 US M%sT 1944_0_1_00_1 -6","-7 - MST 1944_3_1_00_1 -7","-7 US M%sT 1944_9_1_00_1 -6","-7 - MST 1967 -7","-7 US M%sT 1968_2_21 -7","-7 - MST"],"America/Port-au-Prince":["-4:49:20 - LMT 1890 -4:49:20","-4:49 - PPMT 1917_0_24_12 -4:49","-5 Haiti E%sT"],"America/Port_of_Spain":["-4:6:4 - LMT 1912_2_2 -4:6:4","-4 - AST"],"America/Porto_Velho":["-4:15:36 - LMT 1914 -4:15:36","-4 Brazil AM%sT 1988_8_12 -4","-4 - AMT"],"America/Puerto_Rico":["-4:24:25 - LMT 1899_2_28_12 -4:24:25","-4 - AST 1942_4_3 -4","-4 US A%sT 1946 -4","-4 - AST"],"America/Rainy_River":["-6:18:16 - LMT 1895 -6:18:16","-6 Canada C%sT 1940_8_29 -6","-5 - CDT 1942_1_9_2 -6","-6 Canada C%sT"],"America/Rankin_Inlet":["0 - zzz 1957","-6 NT_YK C%sT 2000_9_29_2 -5","-5 - EST 2001_3_1_3 -5","-6 Canada C%sT"],"America/Recife":["-2:19:36 - LMT 1914 -2:19:36","-3 Brazil BR%sT 1990_8_17 -3","-3 - BRT 1999_8_30 -3","-3 Brazil BR%sT 2000_9_15 -2","-3 - BRT 2001_8_13 -3","-3 Brazil BR%sT 2002_9_1 -3","-3 - BRT"],"America/Regina":["-6:58:36 - LMT 1905_8 -6:58:36","-7 Regina M%sT 1960_3_24_2 -7","-6 - CST"],"America/Resolute":["0 - zzz 1947_7_31","-6 NT_YK C%sT 2000_9_29_2 -5","-5 - EST 2001_3_1_3 -5","-6 Canada C%sT 2006_9_29_2 -5","-5 - EST 2007_2_11_3 -5","-6 Canada C%sT"],"America/Rio_Branco":["-4:31:12 - LMT 1914 -4:31:12","-5 Brazil AC%sT 1988_8_12 -5","-5 - ACT 2008_5_24_00 -5","-4 - AMT"],"America/Santa_Isabel":["-7:39:28 - LMT 1922_0_1_0_20_32 -7:39:28","-7 - MST 1924 -7","-8 - PST 1927_5_10_23 -8","-7 - MST 1930_10_15 -7","-8 - PST 1931_3_1 -8","-7 - PDT 1931_8_30 -7","-8 - PST 1942_3_24 -8","-7 - PWT 1945_7_14_23","-7 - PPT 1945_10_12 -7","-8 - PST 1948_3_5 -8","-7 - PDT 1949_0_14 -7","-8 - PST 1954 -8","-8 CA P%sT 1961 -8","-8 - PST 1976 -8","-8 US P%sT 1996 -8","-8 Mexico P%sT 2001 -8","-8 US P%sT 2002_1_20 -8","-8 Mexico P%sT"],"America/Santarem":["-3:38:48 - LMT 1914 -3:38:48","-4 Brazil AM%sT 1988_8_12 -4","-4 - AMT 2008_5_24_00 -4","-3 - BRT"],"America/Santiago":["-4:42:46 - LMT 1890 -4:42:46","-4:42:46 - SMT 1910 -4:42:46","-5 - CLT 1916_6_1 -5","-4:42:46 - SMT 1918_8_1 -4:42:46","-4 - CLT 1919_6_1 -4","-4:42:46 - SMT 1927_8_1 -4:42:46","-5 Chile CL%sT 1947_4_22 -5","-4 Chile CL%sT"],"America/Santo_Domingo":["-4:39:36 - LMT 1890 -4:39:36","-4:40 - SDMT 1933_3_1_12 -4:40","-5 DR E%sT 1974_9_27 -5","-4 - AST 2000_9_29_02 -4","-5 US E%sT 2000_11_3_01 -5","-4 - AST"],"America/Sao_Paulo":["-3:6:28 - LMT 1914 -3:6:28","-3 Brazil BR%sT 1963_9_23_00 -3","-2 - BRST 1964 -2","-3 Brazil BR%sT"],"America/Scoresbysund":["-1:27:52 - LMT 1916_6_28 -1:27:52","-2 - CGT 1980_3_6_2 -2","-2 C-Eur CG%sT 1981_2_29 -2","-1 EU EG%sT"],"America/Sitka":["14:58:47 - LMT 1867_9_18 14:58:47","-9:1:13 - LMT 1900_7_20_12 -9:1:13","-8 - PST 1942 -8","-8 US P%sT 1946 -8","-8 - PST 1969 -8","-8 US P%sT 1983_9_30_2 -7","-9 US Y%sT 1983_10_30 -9","-9 US AK%sT"],"America/St_Johns":["-3:30:52 - LMT 1884 -3:30:52","-3:30:52 StJohns N%sT 1918 -3:30:52","-3:30:52 Canada N%sT 1919 -3:30:52","-3:30:52 StJohns N%sT 1935_2_30 -3:30:52","-3:30 StJohns N%sT 1942_4_11 -3:30","-3:30 Canada N%sT 1946 -3:30","-3:30 StJohns N%sT 2011_10 -2:30","-3:30 Canada N%sT"],"America/St_Kitts":["-4:10:52 - LMT 1912_2_2 -4:10:52","-4 - AST"],"America/St_Lucia":["-4:4 - LMT 1890 -4:4","-4:4 - CMT 1912 -4:4","-4 - AST"],"America/St_Thomas":["-4:19:44 - LMT 1911_6 -4:19:44","-4 - AST"],"America/St_Vincent":["-4:4:56 - LMT 1890 -4:4:56","-4:4:56 - KMT 1912 -4:4:56","-4 - AST"],"America/Swift_Current":["-7:11:20 - LMT 1905_8 -7:11:20","-7 Canada M%sT 1946_3_28_2 -7","-7 Regina M%sT 1950 -7","-7 Swift M%sT 1972_3_30_2 -7","-6 - CST"],"America/Tegucigalpa":["-5:48:52 - LMT 1921_3 -5:48:52","-6 Hond C%sT"],"America/Thule":["-4:35:8 - LMT 1916_6_28 -4:35:8","-4 Thule A%sT"],"America/Thunder_Bay":["-5:57 - LMT 1895 -5:57","-6 - CST 1910 -6","-5 - EST 1942 -5","-5 Canada E%sT 1970 -5","-5 Mont E%sT 1973 -5","-5 - EST 1974 -5","-5 Canada E%sT"],"America/Tijuana":["-7:48:4 - LMT 1922_0_1_0_11_56 -7:48:4","-7 - MST 1924 -7","-8 - PST 1927_5_10_23 -8","-7 - MST 1930_10_15 -7","-8 - PST 1931_3_1 -8","-7 - PDT 1931_8_30 -7","-8 - PST 1942_3_24 -8","-7 - PWT 1945_7_14_23","-7 - PPT 1945_10_12 -7","-8 - PST 1948_3_5 -8","-7 - PDT 1949_0_14 -7","-8 - PST 1954 -8","-8 CA P%sT 1961 -8","-8 - PST 1976 -8","-8 US P%sT 1996 -8","-8 Mexico P%sT 2001 -8","-8 US P%sT 2002_1_20 -8","-8 Mexico P%sT 2010 -8","-8 US P%sT"],"America/Toronto":["-5:17:32 - LMT 1895 -5:17:32","-5 Canada E%sT 1919 -5","-5 Toronto E%sT 1942_1_9_2 -5","-5 Canada E%sT 1946 -5","-5 Toronto E%sT 1974 -5","-5 Canada E%sT"],"America/Tortola":["-4:18:28 - LMT 1911_6 -4:18:28","-4 - AST"],"America/Vancouver":["-8:12:28 - LMT 1884 -8:12:28","-8 Vanc P%sT 1987 -8","-8 Canada P%sT"],"America/Whitehorse":["-9:0:12 - LMT 1900_7_20 -9:0:12","-9 NT_YK Y%sT 1966_6_1_2 -9","-8 NT_YK P%sT 1980 -8","-8 Canada P%sT"],"America/Winnipeg":["-6:28:36 - LMT 1887_6_16 -6:28:36","-6 Winn C%sT 2006 -6","-6 Canada C%sT"],"America/Yakutat":["14:41:5 - LMT 1867_9_18 14:41:5","-9:18:55 - LMT 1900_7_20_12 -9:18:55","-9 - YST 1942 -9","-9 US Y%sT 1946 -9","-9 - YST 1969 -9","-9 US Y%sT 1983_10_30 -9","-9 US AK%sT"],"America/Yellowknife":["0 - zzz 1935","-7 NT_YK M%sT 1980 -7","-7 Canada M%sT"],"Atlantic/Azores":["-1:42:40 - LMT 1884 -1:42:40","-1:54:32 - HMT 1911_4_24 -1:54:32","-2 Port AZO%sT 1966_3_3_2 -2","-1 Port AZO%sT 1983_8_25_1 -1","-1 W-Eur AZO%sT 1992_8_27_1 -1","0 EU WE%sT 1993_2_28_1","-1 EU AZO%sT"],"Atlantic/Bermuda":["-4:19:18 - LMT 1930_0_1_2 -4:19:18","-4 - AST 1974_3_28_2 -4","-4 Bahamas A%sT 1976 -4","-4 US A%sT"],"Atlantic/Canary":["-1:1:36 - LMT 1922_2 -1:1:36","-1 - CANT 1946_8_30_1 -1","0 - WET 1980_3_6_0","1 - WEST 1980_8_28_0","0 EU WE%sT"],"Atlantic/Cape_Verde":["-1:34:4 - LMT 1907 -1:34:4","-2 - CVT 1942_8 -2","-1 - CVST 1945_9_15 -1","-2 - CVT 1975_10_25_2 -2","-1 - CVT"],"Atlantic/Faroe":["-0:27:4 - LMT 1908_0_11 -0:27:4","0 - WET 1981","0 EU WE%sT"],"Atlantic/Madeira":["-1:7:36 - LMT 1884 -1:7:36","-1:7:36 - FMT 1911_4_24 -1:7:36","-1 Port MAD%sT 1966_3_3_2 -1","0 Port WE%sT 1983_8_25_1","0 EU WE%sT"],"Atlantic/Reykjavik":["-1:27:24 - LMT 1837 -1:27:24","-1:27:48 - RMT 1908 -1:27:48","-1 Iceland IS%sT 1968_3_7_1 -1","0 - GMT"],"Atlantic/South_Georgia":["-2:26:8 - LMT 1890 -2:26:8","-2 - GST"],"Atlantic/St_Helena":["-0:22:48 - LMT 1890 -0:22:48","-0:22:48 - JMT 1951 -0:22:48","0 - GMT"],"Atlantic/Stanley":["-3:51:24 - LMT 1890 -3:51:24","-3:51:24 - SMT 1912_2_12 -3:51:24","-4 Falk FK%sT 1983_4 -4","-3 Falk FK%sT 1985_8_15 -3","-4 Falk FK%sT 2010_8_5_02 -4","-3 - FKST"],CET:["1 C-Eur CE%sT"],CST6CDT:["-6 US C%sT"],EET:["2 EU EE%sT"],EST:["-5 - EST"],EST5EDT:["-5 US E%sT"],HST:["-10 - HST"],MET:["1 C-Eur ME%sT"],MST:["-7 - MST"],MST7MDT:["-7 US M%sT"],PST8PDT:["-8 US P%sT"],WET:["0 EU WE%sT"],"Pacific/Apia":["12:33:4 - LMT 1879_6_5 12:33:4","-11:26:56 - LMT 1911 -11:26:56","-11:30 - SAMT 1950 -11:30","-11 - WST 2010_8_26 -11","-10 - WSDT 2011_3_2_4 -10","-11 - WST 2011_8_24_3 -11","-10 - WSDT 2011_11_30 -10","14 - WSDT 2012_3_1_4 14","13 WS WS%sT"],"Pacific/Auckland":["11:39:4 - LMT 1868_10_2 11:39:4","11:30 NZ NZ%sT 1946_0_1 12","12 NZ NZ%sT"],"Pacific/Chatham":["12:13:48 - LMT 1957_0_1 12:13:48","12:45 Chatham CHA%sT"],"Pacific/Chuuk":["10:7:8 - LMT 1901 10:7:8","10 - CHUT"],"Pacific/Easter":["-7:17:44 - LMT 1890 -7:17:44","-7:17:28 - EMT 1932_8 -7:17:28","-7 Chile EAS%sT 1982_2_13_21 -6","-6 Chile EAS%sT"],"Pacific/Efate":["11:13:16 - LMT 1912_0_13 11:13:16","11 Vanuatu VU%sT"],"Pacific/Enderbury":["-11:24:20 - LMT 1901 -11:24:20","-12 - PHOT 1979_9 -12","-11 - PHOT 1995 -11","13 - PHOT"],"Pacific/Fakaofo":["-11:24:56 - LMT 1901 -11:24:56","-11 - TKT 2011_11_30 -11","13 - TKT"],"Pacific/Fiji":["11:55:44 - LMT 1915_9_26 11:55:44","12 Fiji FJ%sT"],"Pacific/Funafuti":["11:56:52 - LMT 1901 11:56:52","12 - TVT"],"Pacific/Galapagos":["-5:58:24 - LMT 1931 -5:58:24","-5 - ECT 1986 -5","-6 - GALT"],"Pacific/Gambier":["-8:59:48 - LMT 1912_9 -8:59:48","-9 - GAMT"],"Pacific/Guadalcanal":["10:39:48 - LMT 1912_9 10:39:48","11 - SBT"],"Pacific/Guam":["-14:21 - LMT 1844_11_31 -14:21","9:39 - LMT 1901 9:39","10 - GST 2000_11_23 10","10 - ChST"],"Pacific/Honolulu":["-10:31:26 - LMT 1896_0_13_12 -10:31:26","-10:30 - HST 1933_3_30_2 -10:30","-9:30 - HDT 1933_4_21_12 -9:30","-10:30 - HST 1942_1_09_2 -10:30","-9:30 - HDT 1945_8_30_2 -9:30","-10:30 - HST 1947_5_8_2 -10:30","-10 - HST"],"Pacific/Johnston":["-10 - HST"],"Pacific/Kiritimati":["-10:29:20 - LMT 1901 -10:29:20","-10:40 - LINT 1979_9 -10:40","-10 - LINT 1995 -10","14 - LINT"],"Pacific/Kosrae":["10:51:56 - LMT 1901 10:51:56","11 - KOST 1969_9 11","12 - KOST 1999 12","11 - KOST"],"Pacific/Kwajalein":["11:9:20 - LMT 1901 11:9:20","11 - MHT 1969_9 11","-12 - KWAT 1993_7_20 -12","12 - MHT"],"Pacific/Majuro":["11:24:48 - LMT 1901 11:24:48","11 - MHT 1969_9 11","12 - MHT"],"Pacific/Marquesas":["-9:18 - LMT 1912_9 -9:18","-9:30 - MART"],"Pacific/Midway":["-11:49:28 - LMT 1901 -11:49:28","-11 - NST 1956_5_3 -11","-10 - NDT 1956_8_2 -10","-11 - NST 1967_3 -11","-11 - BST 1983_10_30 -11","-11 - SST"],"Pacific/Nauru":["11:7:40 - LMT 1921_0_15 11:7:40","11:30 - NRT 1942_2_15 11:30","9 - JST 1944_7_15 9","11:30 - NRT 1979_4 11:30","12 - NRT"],"Pacific/Niue":["-11:19:40 - LMT 1901 -11:19:40","-11:20 - NUT 1951 -11:20","-11:30 - NUT 1978_9_1 -11:30","-11 - NUT"],"Pacific/Norfolk":["11:11:52 - LMT 1901 11:11:52","11:12 - NMT 1951 11:12","11:30 - NFT"],"Pacific/Noumea":["11:5:48 - LMT 1912_0_13 11:5:48","11 NC NC%sT"],"Pacific/Pago_Pago":["12:37:12 - LMT 1879_6_5 12:37:12","-11:22:48 - LMT 1911 -11:22:48","-11:30 - SAMT 1950 -11:30","-11 - NST 1967_3 -11","-11 - BST 1983_10_30 -11","-11 - SST"],"Pacific/Palau":["8:57:56 - LMT 1901 8:57:56","9 - PWT"],"Pacific/Pitcairn":["-8:40:20 - LMT 1901 -8:40:20","-8:30 - PNT 1998_3_27_00 -8:30","-8 - PST"],"Pacific/Pohnpei":["10:32:52 - LMT 1901 10:32:52","11 - PONT"],"Pacific/Port_Moresby":["9:48:40 - LMT 1880 9:48:40","9:48:32 - PMMT 1895 9:48:32","10 - PGT"],"Pacific/Rarotonga":["-10:39:4 - LMT 1901 -10:39:4","-10:30 - CKT 1978_10_12 -10:30","-10 Cook CK%sT"],"Pacific/Saipan":["-14:17 - LMT 1844_11_31 -14:17","9:43 - LMT 1901 9:43","9 - MPT 1969_9 9","10 - MPT 2000_11_23 10","10 - ChST"],"Pacific/Tahiti":["-9:58:16 - LMT 1912_9 -9:58:16","-10 - TAHT"],"Pacific/Tarawa":["11:32:4 - LMT 1901 11:32:4","12 - GILT"],"Pacific/Tongatapu":["12:19:20 - LMT 1901 12:19:20","12:20 - TOT 1941 12:20","13 - TOT 1999 13","13 Tonga TO%sT"],"Pacific/Wake":["11:6:28 - LMT 1901 11:6:28","12 - WAKT"],"Pacific/Wallis":["12:15:20 - LMT 1901 12:15:20","12 - WFT"]},rules:{US:["1918 1919 2 0 8 2 0 1 D","1918 1919 9 0 8 2 0 0 S","1942 1942 1 9 7 2 0 1 W","1945 1945 7 14 7 23 1 1 P","1945 1945 8 30 7 2 0 0 S","1967 2006 9 0 8 2 0 0 S","1967 1973 3 0 8 2 0 1 D","1974 1974 0 6 7 2 0 1 D","1975 1975 1 23 7 2 0 1 D","1976 1986 3 0 8 2 0 1 D","1987 2006 3 1 0 2 0 1 D","2007 9999 2 8 0 2 0 1 D","2007 9999 10 1 0 2 0 0 S"],Brazil:["1931 1931 9 3 7 11 0 1 S","1932 1933 3 1 7 0 0 0","1932 1932 9 3 7 0 0 1 S","1949 1952 11 1 7 0 0 1 S","1950 1950 3 16 7 1 0 0","1951 1952 3 1 7 0 0 0","1953 1953 2 1 7 0 0 0","1963 1963 11 9 7 0 0 1 S","1964 1964 2 1 7 0 0 0","1965 1965 0 31 7 0 0 1 S","1965 1965 2 31 7 0 0 0","1965 1965 11 1 7 0 0 1 S","1966 1968 2 1 7 0 0 0","1966 1967 10 1 7 0 0 1 S","1985 1985 10 2 7 0 0 1 S","1986 1986 2 15 7 0 0 0","1986 1986 9 25 7 0 0 1 S","1987 1987 1 14 7 0 0 0","1987 1987 9 25 7 0 0 1 S","1988 1988 1 7 7 0 0 0","1988 1988 9 16 7 0 0 1 S","1989 1989 0 29 7 0 0 0","1989 1989 9 15 7 0 0 1 S","1990 1990 1 11 7 0 0 0","1990 1990 9 21 7 0 0 1 S","1991 1991 1 17 7 0 0 0","1991 1991 9 20 7 0 0 1 S","1992 1992 1 9 7 0 0 0","1992 1992 9 25 7 0 0 1 S","1993 1993 0 31 7 0 0 0","1993 1995 9 11 0 0 0 1 S","1994 1995 1 15 0 0 0 0","1996 1996 1 11 7 0 0 0","1996 1996 9 6 7 0 0 1 S","1997 1997 1 16 7 0 0 0","1997 1997 9 6 7 0 0 1 S","1998 1998 2 1 7 0 0 0","1998 1998 9 11 7 0 0 1 S","1999 1999 1 21 7 0 0 0","1999 1999 9 3 7 0 0 1 S","2000 2000 1 27 7 0 0 0","2000 2001 9 8 0 0 0 1 S","2001 2006 1 15 0 0 0 0","2002 2002 10 3 7 0 0 1 S","2003 2003 9 19 7 0 0 1 S","2004 2004 10 2 7 0 0 1 S","2005 2005 9 16 7 0 0 1 S","2006 2006 10 5 7 0 0 1 S","2007 2007 1 25 7 0 0 0","2007 2007 9 8 0 0 0 1 S","2008 9999 9 15 0 0 0 1 S","2008 2011 1 15 0 0 0 0","2012 2012 1 22 0 0 0 0","2013 2014 1 15 0 0 0 0","2015 2015 1 22 0 0 0 0","2016 2022 1 15 0 0 0 0","2023 2023 1 22 0 0 0 0","2024 2025 1 15 0 0 0 0","2026 2026 1 22 0 0 0 0","2027 2033 1 15 0 0 0 0","2034 2034 1 22 0 0 0 0","2035 2036 1 15 0 0 0 0","2037 2037 1 22 0 0 0 0","2038 9999 1 15 0 0 0 0"],Arg:["1930 1930 11 1 7 0 0 1 S","1931 1931 3 1 7 0 0 0","1931 1931 9 15 7 0 0 1 S","1932 1940 2 1 7 0 0 0","1932 1939 10 1 7 0 0 1 S","1940 1940 6 1 7 0 0 1 S","1941 1941 5 15 7 0 0 0","1941 1941 9 15 7 0 0 1 S","1943 1943 7 1 7 0 0 0","1943 1943 9 15 7 0 0 1 S","1946 1946 2 1 7 0 0 0","1946 1946 9 1 7 0 0 1 S","1963 1963 9 1 7 0 0 0","1963 1963 11 15 7 0 0 1 S","1964 1966 2 1 7 0 0 0","1964 1966 9 15 7 0 0 1 S","1967 1967 3 2 7 0 0 0","1967 1968 9 1 0 0 0 1 S","1968 1969 3 1 0 0 0 0","1974 1974 0 23 7 0 0 1 S","1974 1974 4 1 7 0 0 0","1988 1988 11 1 7 0 0 1 S","1989 1993 2 1 0 0 0 0","1989 1992 9 15 0 0 0 1 S","1999 1999 9 1 0 0 0 1 S","2000 2000 2 3 7 0 0 0","2007 2007 11 30 7 0 0 1 S","2008 2009 2 15 0 0 0 0","2008 2008 9 15 0 0 0 1 S"],SanLuis:["2008 2009 2 8 0 0 0 0","2007 2009 9 8 0 0 0 1 S"],Para:["1975 1988 9 1 7 0 0 1 S","1975 1978 2 1 7 0 0 0","1979 1991 3 1 7 0 0 0","1989 1989 9 22 7 0 0 1 S","1990 1990 9 1 7 0 0 1 S","1991 1991 9 6 7 0 0 1 S","1992 1992 2 1 7 0 0 0","1992 1992 9 5 7 0 0 1 S","1993 1993 2 31 7 0 0 0","1993 1995 9 1 7 0 0 1 S","1994 1995 1 0 8 0 0 0","1996 1996 2 1 7 0 0 0","1996 2001 9 1 0 0 0 1 S","1997 1997 1 0 8 0 0 0","1998 2001 2 1 0 0 0 0","2002 2004 3 1 0 0 0 0","2002 2003 8 1 0 0 0 1 S","2004 2009 9 15 0 0 0 1 S","2005 2009 2 8 0 0 0 0","2010 9999 9 1 0 0 0 1 S","2010 2012 3 8 0 0 0 0","2013 9999 2 22 0 0 0 0"],Canada:["1918 1918 3 14 7 2 0 1 D","1918 1918 9 27 7 2 0 0 S","1942 1942 1 9 7 2 0 1 W","1945 1945 7 14 7 23 1 1 P","1945 1945 8 30 7 2 0 0 S","1974 1986 3 0 8 2 0 1 D","1974 2006 9 0 8 2 0 0 S","1987 2006 3 1 0 2 0 1 D","2007 9999 2 8 0 2 0 1 D","2007 9999 10 1 0 2 0 0 S"],Mexico:["1939 1939 1 5 7 0 0 1 D","1939 1939 5 25 7 0 0 0 S","1940 1940 11 9 7 0 0 1 D","1941 1941 3 1 7 0 0 0 S","1943 1943 11 16 7 0 0 1 W","1944 1944 4 1 7 0 0 0 S","1950 1950 1 12 7 0 0 1 D","1950 1950 6 30 7 0 0 0 S","1996 2000 3 1 0 2 0 1 D","1996 2000 9 0 8 2 0 0 S","2001 2001 4 1 0 2 0 1 D","2001 2001 8 0 8 2 0 0 S","2002 9999 3 1 0 2 0 1 D","2002 9999 9 0 8 2 0 0 S"],Barb:["1977 1977 5 12 7 2 0 1 D","1977 1978 9 1 0 2 0 0 S","1978 1980 3 15 0 2 0 1 D","1979 1979 8 30 7 2 0 0 S","1980 1980 8 25 7 2 0 0 S"],Belize:["1918 1942 9 2 0 0 0 0:30 HD","1919 1943 1 9 0 0 0 0 S","1973 1973 11 5 7 0 0 1 D","1974 1974 1 9 7 0 0 0 S","1982 1982 11 18 7 0 0 1 D","1983 1983 1 12 7 0 0 0 S"],CO:["1992 1992 4 3 7 0 0 1 S","1993 1993 3 4 7 0 0 0"],NT_YK:["1918 1918 3 14 7 2 0 1 D","1918 1918 9 27 7 2 0 0 S","1919 1919 4 25 7 2 0 1 D","1919 1919 10 1 7 0 0 0 S","1942 1942 1 9 7 2 0 1 W","1945 1945 7 14 7 23 1 1 P","1945 1945 8 30 7 2 0 0 S","1965 1965 3 0 8 0 0 2 DD","1965 1965 9 0 8 2 0 0 S","1980 1986 3 0 8 2 0 1 D","1980 2006 9 0 8 2 0 0 S","1987 2006 3 1 0 2 0 1 D"],Chicago:["1920 1920 5 13 7 2 0 1 D","1920 1921 9 0 8 2 0 0 S","1921 1921 2 0 8 2 0 1 D","1922 1966 3 0 8 2 0 1 D","1922 1954 8 0 8 2 0 0 S","1955 1966 9 0 8 2 0 0 S"],CR:["1979 1980 1 0 8 0 0 1 D","1979 1980 5 1 0 0 0 0 S","1991 1992 0 15 6 0 0 1 D","1991 1991 6 1 7 0 0 0 S","1992 1992 2 15 7 0 0 0 S"],EU:["1977 1980 3 1 0 1 1 1 S","1977 1977 8 0 8 1 1 0","1978 1978 9 1 7 1 1 0","1979 1995 8 0 8 1 1 0","1981 9999 2 0 8 1 1 1 S","1996 9999 9 0 8 1 1 0"],Vanc:["1918 1918 3 14 7 2 0 1 D","1918 1918 9 27 7 2 0 0 S","1942 1942 1 9 7 2 0 1 W","1945 1945 7 14 7 23 1 1 P","1945 1945 8 30 7 2 0 0 S","1946 1986 3 0 8 2 0 1 D","1946 1946 9 13 7 2 0 0 S","1947 1961 8 0 8 2 0 0 S","1962 2006 9 0 8 2 0 0 S"],Denver:["1920 1921 2 0 8 2 0 1 D","1920 1920 9 0 8 2 0 0 S","1921 1921 4 22 7 2 0 0 S","1965 1966 3 0 8 2 0 1 D","1965 1966 9 0 8 2 0 0 S"],Detroit:["1948 1948 3 0 8 2 0 1 D","1948 1948 8 0 8 2 0 0 S","1967 1967 5 14 7 2 0 1 D","1967 1967 9 0 8 2 0 0 S"],Edm:["1918 1919 3 8 0 2 0 1 D","1918 1918 9 27 7 2 0 0 S","1919 1919 4 27 7 2 0 0 S","1920 1923 3 0 8 2 0 1 D","1920 1920 9 0 8 2 0 0 S","1921 1923 8 0 8 2 0 0 S","1942 1942 1 9 7 2 0 1 W","1945 1945 7 14 7 23 1 1 P","1945 1945 8 0 8 2 0 0 S","1947 1947 3 0 8 2 0 1 D","1947 1947 8 0 8 2 0 0 S","1967 1967 3 0 8 2 0 1 D","1967 1967 9 0 8 2 0 0 S","1969 1969 3 0 8 2 0 1 D","1969 1969 9 0 8 2 0 0 S","1972 1986 3 0 8 2 0 1 D","1972 2006 9 0 8 2 0 0 S"],Salv:["1987 1988 4 1 0 0 0 1 D","1987 1988 8 0 8 0 0 0 S"],Halifax:["1916 1916 3 1 7 0 0 1 D","1916 1916 9 1 7 0 0 0 S","1920 1920 4 9 7 0 0 1 D","1920 1920 7 29 7 0 0 0 S","1921 1921 4 6 7 0 0 1 D","1921 1922 8 5 7 0 0 0 S","1922 1922 3 30 7 0 0 1 D","1923 1925 4 1 0 0 0 1 D","1923 1923 8 4 7 0 0 0 S","1924 1924 8 15 7 0 0 0 S","1925 1925 8 28 7 0 0 0 S","1926 1926 4 16 7 0 0 1 D","1926 1926 8 13 7 0 0 0 S","1927 1927 4 1 7 0 0 1 D","1927 1927 8 26 7 0 0 0 S","1928 1931 4 8 0 0 0 1 D","1928 1928 8 9 7 0 0 0 S","1929 1929 8 3 7 0 0 0 S","1930 1930 8 15 7 0 0 0 S","1931 1932 8 24 1 0 0 0 S","1932 1932 4 1 7 0 0 1 D","1933 1933 3 30 7 0 0 1 D","1933 1933 9 2 7 0 0 0 S","1934 1934 4 20 7 0 0 1 D","1934 1934 8 16 7 0 0 0 S","1935 1935 5 2 7 0 0 1 D","1935 1935 8 30 7 0 0 0 S","1936 1936 5 1 7 0 0 1 D","1936 1936 8 14 7 0 0 0 S","1937 1938 4 1 0 0 0 1 D","1937 1941 8 24 1 0 0 0 S","1939 1939 4 28 7 0 0 1 D","1940 1941 4 1 0 0 0 1 D","1946 1949 3 0 8 2 0 1 D","1946 1949 8 0 8 2 0 0 S","1951 1954 3 0 8 2 0 1 D","1951 1954 8 0 8 2 0 0 S","1956 1959 3 0 8 2 0 1 D","1956 1959 8 0 8 2 0 0 S","1962 1973 3 0 8 2 0 1 D","1962 1973 9 0 8 2 0 0 S"],StJohns:["1917 1917 3 8 7 2 0 1 D","1917 1917 8 17 7 2 0 0 S","1919 1919 4 5 7 23 0 1 D","1919 1919 7 12 7 23 0 0 S","1920 1935 4 1 0 23 0 1 D","1920 1935 9 0 8 23 0 0 S","1936 1941 4 9 1 0 0 1 D","1936 1941 9 2 1 0 0 0 S","1946 1950 4 8 0 2 0 1 D","1946 1950 9 2 0 2 0 0 S","1951 1986 3 0 8 2 0 1 D","1951 1959 8 0 8 2 0 0 S","1960 1986 9 0 8 2 0 0 S","1987 1987 3 1 0 0:1 0 1 D","1987 2006 9 0 8 0:1 0 0 S","1988 1988 3 1 0 0:1 0 2 DD","1989 2006 3 1 0 0:1 0 1 D","2007 2011 2 8 0 0:1 0 1 D","2007 2010 10 1 0 0:1 0 0 S"],TC:["1979 1986 3 0 8 2 0 1 D","1979 2006 9 0 8 2 0 0 S","1987 2006 3 1 0 2 0 1 D","2007 9999 2 8 0 2 0 1 D","2007 9999 10 1 0 2 0 0 S"],Guat:["1973 1973 10 25 7 0 0 1 D","1974 1974 1 24 7 0 0 0 S","1983 1983 4 21 7 0 0 1 D","1983 1983 8 22 7 0 0 0 S","1991 1991 2 23 7 0 0 1 D","1991 1991 8 7 7 0 0 0 S","2006 2006 3 30 7 0 0 1 D","2006 2006 9 1 7 0 0 0 S"],Cuba:["1928 1928 5 10 7 0 0 1 D","1928 1928 9 10 7 0 0 0 S","1940 1942 5 1 0 0 0 1 D","1940 1942 8 1 0 0 0 0 S","1945 1946 5 1 0 0 0 1 D","1945 1946 8 1 0 0 0 0 S","1965 1965 5 1 7 0 0 1 D","1965 1965 8 30 7 0 0 0 S","1966 1966 4 29 7 0 0 1 D","1966 1966 9 2 7 0 0 0 S","1967 1967 3 8 7 0 0 1 D","1967 1968 8 8 0 0 0 0 S","1968 1968 3 14 7 0 0 1 D","1969 1977 3 0 8 0 0 1 D","1969 1971 9 0 8 0 0 0 S","1972 1974 9 8 7 0 0 0 S","1975 1977 9 0 8 0 0 0 S","1978 1978 4 7 7 0 0 1 D","1978 1990 9 8 0 0 0 0 S","1979 1980 2 15 0 0 0 1 D","1981 1985 4 5 0 0 0 1 D","1986 1989 2 14 0 0 0 1 D","1990 1997 3 1 0 0 0 1 D","1991 1995 9 8 0 0 2 0 S","1996 1996 9 6 7 0 2 0 S","1997 1997 9 12 7 0 2 0 S","1998 1999 2 0 8 0 2 1 D","1998 2003 9 0 8 0 2 0 S","2000 2004 3 1 0 0 2 1 D","2006 2010 9 0 8 0 2 0 S","2007 2007 2 8 0 0 2 1 D","2008 2008 2 15 0 0 2 1 D","2009 2010 2 8 0 0 2 1 D","2011 2011 2 15 0 0 2 1 D","2011 2011 10 13 7 0 2 0 S","2012 2012 3 1 7 0 2 1 D","2012 9999 10 1 0 0 2 0 S","2013 9999 2 8 0 0 2 1 D"],Indianapolis:["1941 1941 5 22 7 2 0 1 D","1941 1954 8 0 8 2 0 0 S","1946 1954 3 0 8 2 0 1 D"],Starke:["1947 1961 3 0 8 2 0 1 D","1947 1954 8 0 8 2 0 0 S","1955 1956 9 0 8 2 0 0 S","1957 1958 8 0 8 2 0 0 S","1959 1961 9 0 8 2 0 0 S"],Marengo:["1951 1951 3 0 8 2 0 1 D","1951 1951 8 0 8 2 0 0 S","1954 1960 3 0 8 2 0 1 D","1954 1960 8 0 8 2 0 0 S"],Pike:["1955 1955 4 1 7 0 0 1 D","1955 1960 8 0 8 2 0 0 S","1956 1964 3 0 8 2 0 1 D","1961 1964 9 0 8 2 0 0 S"],Perry:["1946 1946 3 0 8 2 0 1 D","1946 1946 8 0 8 2 0 0 S","1953 1954 3 0 8 2 0 1 D","1953 1959 8 0 8 2 0 0 S","1955 1955 4 1 7 0 0 1 D","1956 1963 3 0 8 2 0 1 D","1960 1960 9 0 8 2 0 0 S","1961 1961 8 0 8 2 0 0 S","1962 1963 9 0 8 2 0 0 S"],Vincennes:["1946 1946 3 0 8 2 0 1 D","1946 1946 8 0 8 2 0 0 S","1953 1954 3 0 8 2 0 1 D","1953 1959 8 0 8 2 0 0 S","1955 1955 4 1 7 0 0 1 D","1956 1963 3 0 8 2 0 1 D","1960 1960 9 0 8 2 0 0 S","1961 1961 8 0 8 2 0 0 S","1962 1963 9 0 8 2 0 0 S"],Pulaski:["1946 1960 3 0 8 2 0 1 D","1946 1954 8 0 8 2 0 0 S","1955 1956 9 0 8 2 0 0 S","1957 1960 8 0 8 2 0 0 S"],Louisville:["1921 1921 4 1 7 2 0 1 D","1921 1921 8 1 7 2 0 0 S","1941 1961 3 0 8 2 0 1 D","1941 1941 8 0 8 2 0 0 S","1946 1946 5 2 7 2 0 0 S","1950 1955 8 0 8 2 0 0 S","1956 1960 9 0 8 2 0 0 S"],Peru:["1938 1938 0 1 7 0 0 1 S","1938 1938 3 1 7 0 0 0","1938 1939 8 0 8 0 0 1 S","1939 1940 2 24 0 0 0 0","1986 1987 0 1 7 0 0 1 S","1986 1987 3 1 7 0 0 0","1990 1990 0 1 7 0 0 1 S","1990 1990 3 1 7 0 0 0","1994 1994 0 1 7 0 0 1 S","1994 1994 3 1 7 0 0 0"],CA:["1948 1948 2 14 7 2 0 1 D","1949 1949 0 1 7 2 0 0 S","1950 1966 3 0 8 2 0 1 D","1950 1961 8 0 8 2 0 0 S","1962 1966 9 0 8 2 0 0 S"],Nic:["1979 1980 2 16 0 0 0 1 D","1979 1980 5 23 1 0 0 0 S","2005 2005 3 10 7 0 0 1 D","2005 2005 9 1 0 0 0 0 S","2006 2006 3 30 7 2 0 1 D","2006 2006 9 1 0 1 0 0 S"],Menominee:["1946 1946 3 0 8 2 0 1 D","1946 1946 8 0 8 2 0 0 S","1966 1966 3 0 8 2 0 1 D","1966 1966 9 0 8 2 0 0 S"],Moncton:["1933 1935 5 8 0 1 0 1 D","1933 1935 8 8 0 1 0 0 S","1936 1938 5 1 0 1 0 1 D","1936 1938 8 1 0 1 0 0 S","1939 1939 4 27 7 1 0 1 D","1939 1941 8 21 6 1 0 0 S","1940 1940 4 19 7 1 0 1 D","1941 1941 4 4 7 1 0 1 D","1946 1972 3 0 8 2 0 1 D","1946 1956 8 0 8 2 0 0 S","1957 1972 9 0 8 2 0 0 S","1993 2006 3 1 0 0:1 0 1 D","1993 2006 9 0 8 0:1 0 0 S"],Uruguay:["1923 1923 9 2 7 0 0 0:30 HS","1924 1926 3 1 7 0 0 0","1924 1925 9 1 7 0 0 0:30 HS","1933 1935 9 0 8 0 0 0:30 HS","1934 1936 2 25 6 23:30 2 0","1936 1936 10 1 7 0 0 0:30 HS","1937 1941 2 0 8 0 0 0","1937 1940 9 0 8 0 0 0:30 HS","1941 1941 7 1 7 0 0 0:30 HS","1942 1942 0 1 7 0 0 0","1942 1942 11 14 7 0 0 1 S","1943 1943 2 14 7 0 0 0","1959 1959 4 24 7 0 0 1 S","1959 1959 10 15 7 0 0 0","1960 1960 0 17 7 0 0 1 S","1960 1960 2 6 7 0 0 0","1965 1967 3 1 0 0 0 1 S","1965 1965 8 26 7 0 0 0","1966 1967 9 31 7 0 0 0","1968 1970 4 27 7 0 0 0:30 HS","1968 1970 11 2 7 0 0 0","1972 1972 3 24 7 0 0 1 S","1972 1972 7 15 7 0 0 0","1974 1974 2 10 7 0 0 0:30 HS","1974 1974 11 22 7 0 0 1 S","1976 1976 9 1 7 0 0 0","1977 1977 11 4 7 0 0 1 S","1978 1978 3 1 7 0 0 0","1979 1979 9 1 7 0 0 1 S","1980 1980 4 1 7 0 0 0","1987 1987 11 14 7 0 0 1 S","1988 1988 2 14 7 0 0 0","1988 1988 11 11 7 0 0 1 S","1989 1989 2 12 7 0 0 0","1989 1989 9 29 7 0 0 1 S","1990 1992 2 1 0 0 0 0","1990 1991 9 21 0 0 0 1 S","1992 1992 9 18 7 0 0 1 S","1993 1993 1 28 7 0 0 0","2004 2004 8 19 7 0 0 1 S","2005 2005 2 27 7 2 0 0","2005 2005 9 9 7 2 0 1 S","2006 2006 2 12 7 2 0 0","2006 9999 9 1 0 2 0 1 S","2007 9999 2 8 0 2 0 0"],Mont:["1917 1917 2 25 7 2 0 1 D","1917 1917 3 24 7 0 0 0 S","1919 1919 2 31 7 2:30 0 1 D","1919 1919 9 25 7 2:30 0 0 S","1920 1920 4 2 7 2:30 0 1 D","1920 1922 9 1 0 2:30 0 0 S","1921 1921 4 1 7 2 0 1 D","1922 1922 3 30 7 2 0 1 D","1924 1924 4 17 7 2 0 1 D","1924 1926 8 0 8 2:30 0 0 S","1925 1926 4 1 0 2 0 1 D","1927 1927 4 1 7 0 0 1 D","1927 1932 8 0 8 0 0 0 S","1928 1931 3 0 8 0 0 1 D","1932 1932 4 1 7 0 0 1 D","1933 1940 3 0 8 0 0 1 D","1933 1933 9 1 7 0 0 0 S","1934 1939 8 0 8 0 0 0 S","1946 1973 3 0 8 2 0 1 D","1945 1948 8 0 8 2 0 0 S","1949 1950 9 0 8 2 0 0 S","1951 1956 8 0 8 2 0 0 S","1957 1973 9 0 8 2 0 0 S"],Bahamas:["1964 1975 9 0 8 2 0 0 S","1964 1975 3 0 8 2 0 1 D"],NYC:["1920 1920 2 0 8 2 0 1 D","1920 1920 9 0 8 2 0 0 S","1921 1966 3 0 8 2 0 1 D","1921 1954 8 0 8 2 0 0 S","1955 1966 9 0 8 2 0 0 S"],Haiti:["1983 1983 4 8 7 0 0 1 D","1984 1987 3 0 8 0 0 1 D","1983 1987 9 0 8 0 0 0 S","1988 1997 3 1 0 1 2 1 D","1988 1997 9 0 8 1 2 0 S","2005 2006 3 1 0 0 0 1 D","2005 2006 9 0 8 0 0 0 S","2012 9999 2 8 0 2 0 1 D","2012 9999 10 1 0 2 0 0 S"],Regina:["1918 1918 3 14 7 2 0 1 D","1918 1918 9 27 7 2 0 0 S","1930 1934 4 1 0 0 0 1 D","1930 1934 9 1 0 0 0 0 S","1937 1941 3 8 0 0 0 1 D","1937 1937 9 8 0 0 0 0 S","1938 1938 9 1 0 0 0 0 S","1939 1941 9 8 0 0 0 0 S","1942 1942 1 9 7 2 0 1 W","1945 1945 7 14 7 23 1 1 P","1945 1945 8 0 8 2 0 0 S","1946 1946 3 8 0 2 0 1 D","1946 1946 9 8 0 2 0 0 S","1947 1957 3 0 8 2 0 1 D","1947 1957 8 0 8 2 0 0 S","1959 1959 3 0 8 2 0 1 D","1959 1959 9 0 8 2 0 0 S"],Chile:["1927 1932 8 1 7 0 0 1 S","1928 1932 3 1 7 0 0 0","1942 1942 5 1 7 4 1 0","1942 1942 7 1 7 5 1 1 S","1946 1946 6 15 7 4 1 1 S","1946 1946 8 1 7 3 1 0","1947 1947 3 1 7 4 1 0","1968 1968 10 3 7 4 1 1 S","1969 1969 2 30 7 3 1 0","1969 1969 10 23 7 4 1 1 S","1970 1970 2 29 7 3 1 0","1971 1971 2 14 7 3 1 0","1970 1972 9 9 0 4 1 1 S","1972 1986 2 9 0 3 1 0","1973 1973 8 30 7 4 1 1 S","1974 1987 9 9 0 4 1 1 S","1987 1987 3 12 7 3 1 0","1988 1989 2 9 0 3 1 0","1988 1988 9 1 0 4 1 1 S","1989 1989 9 9 0 4 1 1 S","1990 1990 2 18 7 3 1 0","1990 1990 8 16 7 4 1 1 S","1991 1996 2 9 0 3 1 0","1991 1997 9 9 0 4 1 1 S","1997 1997 2 30 7 3 1 0","1998 1998 2 9 0 3 1 0","1998 1998 8 27 7 4 1 1 S","1999 1999 3 4 7 3 1 0","1999 2010 9 9 0 4 1 1 S","2000 2007 2 9 0 3 1 0","2008 2008 2 30 7 3 1 0","2009 2009 2 9 0 3 1 0","2010 2010 3 1 0 3 1 0","2011 2011 4 2 0 3 1 0","2011 2011 7 16 0 4 1 1 S","2012 9999 3 23 0 3 1 0","2012 9999 8 2 0 4 1 1 S"],DR:["1966 1966 9 30 7 0 0 1 D","1967 1967 1 28 7 0 0 0 S","1969 1973 9 0 8 0 0 0:30 HD","1970 1970 1 21 7 0 0 0 S","1971 1971 0 20 7 0 0 0 S","1972 1974 0 21 7 0 0 0 S"],"C-Eur":["1916 1916 3 30 7 23 0 1 S","1916 1916 9 1 7 1 0 0","1917 1918 3 15 1 2 2 1 S","1917 1918 8 15 1 2 2 0","1940 1940 3 1 7 2 2 1 S","1942 1942 10 2 7 2 2 0","1943 1943 2 29 7 2 2 1 S","1943 1943 9 4 7 2 2 0","1944 1945 3 1 1 2 2 1 S","1944 1944 9 2 7 2 2 0","1945 1945 8 16 7 2 2 0","1977 1980 3 1 0 2 2 1 S","1977 1977 8 0 8 2 2 0","1978 1978 9 1 7 2 2 0","1979 1995 8 0 8 2 2 0","1981 9999 2 0 8 2 2 1 S","1996 9999 9 0 8 2 2 0"],Swift:["1957 1957 3 0 8 2 0 1 D","1957 1957 9 0 8 2 0 0 S","1959 1961 3 0 8 2 0 1 D","1959 1959 9 0 8 2 0 0 S","1960 1961 8 0 8 2 0 0 S"],Hond:["1987 1988 4 1 0 0 0 1 D","1987 1988 8 0 8 0 0 0 S","2006 2006 4 1 0 0 0 1 D","2006 2006 7 1 1 0 0 0 S"],Thule:["1991 1992 2 0 8 2 0 1 D","1991 1992 8 0 8 2 0 0 S","1993 2006 3 1 0 2 0 1 D","1993 2006 9 0 8 2 0 0 S","2007 9999 2 8 0 2 0 1 D","2007 9999 10 1 0 2 0 0 S"],Toronto:["1919 1919 2 30 7 23:30 0 1 D","1919 1919 9 26 7 0 0 0 S","1920 1920 4 2 7 2 0 1 D","1920 1920 8 26 7 0 0 0 S","1921 1921 4 15 7 2 0 1 D","1921 1921 8 15 7 2 0 0 S","1922 1923 4 8 0 2 0 1 D","1922 1926 8 15 0 2 0 0 S","1924 1927 4 1 0 2 0 1 D","1927 1932 8 0 8 2 0 0 S","1928 1931 3 0 8 2 0 1 D","1932 1932 4 1 7 2 0 1 D","1933 1940 3 0 8 2 0 1 D","1933 1933 9 1 7 2 0 0 S","1934 1939 8 0 8 2 0 0 S","1945 1946 8 0 8 2 0 0 S","1946 1946 3 0 8 2 0 1 D","1947 1949 3 0 8 0 0 1 D","1947 1948 8 0 8 0 0 0 S","1949 1949 10 0 8 0 0 0 S","1950 1973 3 0 8 2 0 1 D","1950 1950 10 0 8 2 0 0 S","1951 1956 8 0 8 2 0 0 S","1957 1973 9 0 8 2 0 0 S"],Winn:["1916 1916 3 23 7 0 0 1 D","1916 1916 8 17 7 0 0 0 S","1918 1918 3 14 7 2 0 1 D","1918 1918 9 27 7 2 0 0 S","1937 1937 4 16 7 2 0 1 D","1937 1937 8 26 7 2 0 0 S","1942 1942 1 9 7 2 0 1 W","1945 1945 7 14 7 23 1 1 P","1945 1945 8 0 8 2 0 0 S","1946 1946 4 12 7 2 0 1 D","1946 1946 9 13 7 2 0 0 S","1947 1949 3 0 8 2 0 1 D","1947 1949 8 0 8 2 0 0 S","1950 1950 4 1 7 2 0 1 D","1950 1950 8 30 7 2 0 0 S","1951 1960 3 0 8 2 0 1 D","1951 1958 8 0 8 2 0 0 S","1959 1959 9 0 8 2 0 0 S","1960 1960 8 0 8 2 0 0 S","1963 1963 3 0 8 2 0 1 D","1963 1963 8 22 7 2 0 0 S","1966 1986 3 0 8 2 2 1 D","1966 2005 9 0 8 2 2 0 S","1987 2005 3 1 0 2 2 1 D"],Port:["1916 1916 5 17 7 23 0 1 S","1916 1916 10 1 7 1 0 0","1917 1917 1 28 7 23 2 1 S","1917 1921 9 14 7 23 2 0","1918 1918 2 1 7 23 2 1 S","1919 1919 1 28 7 23 2 1 S","1920 1920 1 29 7 23 2 1 S","1921 1921 1 28 7 23 2 1 S","1924 1924 3 16 7 23 2 1 S","1924 1924 9 14 7 23 2 0","1926 1926 3 17 7 23 2 1 S","1926 1929 9 1 6 23 2 0","1927 1927 3 9 7 23 2 1 S","1928 1928 3 14 7 23 2 1 S","1929 1929 3 20 7 23 2 1 S","1931 1931 3 18 7 23 2 1 S","1931 1932 9 1 6 23 2 0","1932 1932 3 2 7 23 2 1 S","1934 1934 3 7 7 23 2 1 S","1934 1938 9 1 6 23 2 0","1935 1935 2 30 7 23 2 1 S","1936 1936 3 18 7 23 2 1 S","1937 1937 3 3 7 23 2 1 S","1938 1938 2 26 7 23 2 1 S","1939 1939 3 15 7 23 2 1 S","1939 1939 10 18 7 23 2 0","1940 1940 1 24 7 23 2 1 S","1940 1941 9 5 7 23 2 0","1941 1941 3 5 7 23 2 1 S","1942 1945 2 8 6 23 2 1 S","1942 1942 3 25 7 22 2 2 M","1942 1942 7 15 7 22 2 1 S","1942 1945 9 24 6 23 2 0","1943 1943 3 17 7 22 2 2 M","1943 1945 7 25 6 22 2 1 S","1944 1945 3 21 6 22 2 2 M","1946 1946 3 1 6 23 2 1 S","1946 1946 9 1 6 23 2 0","1947 1949 3 1 0 2 2 1 S","1947 1949 9 1 0 2 2 0","1951 1965 3 1 0 2 2 1 S","1951 1965 9 1 0 2 2 0","1977 1977 2 27 7 0 2 1 S","1977 1977 8 25 7 0 2 0","1978 1979 3 1 0 0 2 1 S","1978 1978 9 1 7 0 2 0","1979 1982 8 0 8 1 2 0","1980 1980 2 0 8 0 2 1 S","1981 1982 2 0 8 1 2 1 S","1983 1983 2 0 8 2 2 1 S"],"W-Eur":["1977 1980 3 1 0 1 2 1 S","1977 1977 8 0 8 1 2 0","1978 1978 9 1 7 1 2 0","1979 1995 8 0 8 1 2 0","1981 9999 2 0 8 1 2 1 S","1996 9999 9 0 8 1 2 0"],Iceland:["1917 1918 1 19 7 23 0 1 S","1917 1917 9 21 7 1 0 0","1918 1918 10 16 7 1 0 0","1939 1939 3 29 7 23 0 1 S","1939 1939 10 29 7 2 0 0","1940 1940 1 25 7 2 0 1 S","1940 1940 10 3 7 2 0 0","1941 1941 2 2 7 1 2 1 S","1941 1941 10 2 7 1 2 0","1942 1942 2 8 7 1 2 1 S","1942 1942 9 25 7 1 2 0","1943 1946 2 1 0 1 2 1 S","1943 1948 9 22 0 1 2 0","1947 1967 3 1 0 1 2 1 S","1949 1949 9 30 7 1 2 0","1950 1966 9 22 0 1 2 0","1967 1967 9 29 7 1 2 0"],Falk:["1937 1938 8 0 8 0 0 1 S","1938 1942 2 19 0 0 0 0","1939 1939 9 1 7 0 0 1 S","1940 1942 8 0 8 0 0 1 S","1943 1943 0 1 7 0 0 0","1983 1983 8 0 8 0 0 1 S","1984 1985 3 0 8 0 0 0","1984 1984 8 16 7 0 0 1 S","1985 2000 8 9 0 0 0 1 S","1986 2000 3 16 0 0 0 0","2001 2010 3 15 0 2 0 0","2001 2010 8 1 0 2 0 1 S"],WS:["2012 9999 8 0 8 3 0 1 D","2012 9999 3 1 0 4 0 0"],NZ:["1927 1927 10 6 7 2 0 1 S","1928 1928 2 4 7 2 0 0 M","1928 1933 9 8 0 2 0 0:30 S","1929 1933 2 15 0 2 0 0 M","1934 1940 3 0 8 2 0 0 M","1934 1940 8 0 8 2 0 0:30 S","1946 1946 0 1 7 0 0 0 S","1974 1974 10 1 0 2 2 1 D","1975 1975 1 0 8 2 2 0 S","1975 1988 9 0 8 2 2 1 D","1976 1989 2 1 0 2 2 0 S","1989 1989 9 8 0 2 2 1 D","1990 2006 9 1 0 2 2 1 D","1990 2007 2 15 0 2 2 0 S","2007 9999 8 0 8 2 2 1 D","2008 9999 3 1 0 2 2 0 S"],Chatham:["1974 1974 10 1 0 2:45 2 1 D","1975 1975 1 0 8 2:45 2 0 S","1975 1988 9 0 8 2:45 2 1 D","1976 1989 2 1 0 2:45 2 0 S","1989 1989 9 8 0 2:45 2 1 D","1990 2006 9 1 0 2:45 2 1 D","1990 2007 2 15 0 2:45 2 0 S","2007 9999 8 0 8 2:45 2 1 D","2008 9999 3 1 0 2:45 2 0 S"],Vanuatu:["1983 1983 8 25 7 0 0 1 S","1984 1991 2 23 0 0 0 0","1984 1984 9 23 7 0 0 1 S","1985 1991 8 23 0 0 0 1 S","1992 1993 0 23 0 0 0 0","1992 1992 9 23 0 0 0 1 S"],Fiji:["1998 1999 10 1 0 2 0 1 S","1999 2000 1 0 8 3 0 0","2009 2009 10 29 7 2 0 1 S","2010 2010 2 0 8 3 0 0","2010 9999 9 18 0 2 0 1 S","2011 2011 2 1 0 3 0 0","2012 9999 0 18 0 3 0 0"],NC:["1977 1978 11 1 0 0 0 1 S","1978 1979 1 27 7 0 0 0","1996 1996 11 1 7 2 2 1 S","1997 1997 2 2 7 2 2 0"],Cook:["1978 1978 10 12 7 0 0 0:30 HS","1979 1991 2 1 0 0 0 0","1979 1990 9 0 8 0 0 0:30 HS"],Tonga:["1999 1999 9 7 7 2 2 1 S","2000 2000 2 19 7 2 2 0","2000 2001 10 1 0 2 0 1 S","2001 2002 0 0 8 2 0 0"]},links:{"America/Kralendijk":"America/Curacao","America/Lower_Princes":"America/Curacao","America/Marigot":"America/Guadeloupe","America/Shiprock":"America/Denver","America/St_Barthelemy":"America/Guadeloupe"}}),function(e,b){if(!b.__SV){var a,f,i,g;
window.mixpanel=b,a=e.createElement("script"),a.type="text/javascript",a.async=!0,a.src=("https:"===e.location.protocol?"https:":"http:")+"//cdn.mxpnl.com/libs/mixpanel-2.2.min.js",f=e.getElementsByTagName("script")[0],f.parentNode.insertBefore(a,f),b._i=[],b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]),b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;for(d!==void 0?c=b[d]=[]:d="mixpanel",c.people=c.people||[],c.toString=function(b){var a="mixpanel";return"mixpanel"!==d&&(a+="."+d),b||(a+=" (stub)"),a},c.people.toString=function(){return c.toString(1)+".people (stub)"},i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" "),g=0;i.length>g;g++)f(c,i[g]);b._i.push([a,e,d])},b.__SV=1.2}}(document,window.mixpanel||[]),function(){"ontouchstart"in document.documentElement||(document.documentElement.className+=" no-touch"),window.App=Ember.Application.create({appTitle:null,debugMode:!1,cacheLimit:15,nanigansTrackingId:null,utmInfo:null,buildNumber:null,userSettings:null,filePickerApiKey:null,url:!1,facebookAppId:null,mixpanelToken:null,sliderHIW:null,washioApiUrl:null,stripeApiKey:null,gettingStartedRedirectCount:0,initConfiguration:function(debugMode,parseApplicationId,parseJavascriptKey,filePickerApiKey,stripeApiKey,cacheLimit,mixpanelToken,facebookAppId,url,washioApiUrl,appTitle,nan_pid,utm_source,utm_medium,utm_campaign,buildNumber){var hasUTMData,utm,utmData;return debugMode="true"===debugMode,debugMode&&(console.log("DEBUG: -------------------------------"),console.log("DEBUG: "+appTitle+" : initialization information"),console.log("DEBUG: Debug Mode : "+debugMode),console.log("DEBUG: Parse Application Id : "+parseApplicationId),console.log("DEBUG: Parse Application Id : "+parseJavascriptKey),console.log("DEBUG: Filepicker Api Key : "+filePickerApiKey),console.log("DEBUG: Stripe Api Key : "+stripeApiKey),console.log("DEBUG: Facebook App Id : "+facebookAppId),console.log("DEBUG: Mixpanel Token : "+mixpanelToken),console.log("DEBUG: Washio Api Url : "+washioApiUrl),console.log("DEBUG: Local Storage Cache Limit : "+cacheLimit+" minutes"),console.log("DEBUG: Nanigans Tracking Id : "+nan_pid),console.log("DEBUG: UTM - Source : "+utm_source),console.log("DEBUG: UTM - Medium : "+utm_medium),console.log("DEBUG: UTM - Campaign : "+utm_campaign),console.log("DEBUG: Build Number : "+buildNumber),console.log("DEBUG: -------------------------------")),this.setProperties({appTitle:appTitle,debugMode:debugMode,cacheLimit:cacheLimit,filePickerApiKey:filePickerApiKey,facebookAppId:facebookAppId,mixpanelToken:mixpanelToken,washioApiUrl:washioApiUrl,url:url,nanigansTrackingId:nan_pid,buildNumber:buildNumber,stripeApiKey:stripeApiKey}),utm={},utmData={},hasUTMData=!1,utm_source.length>0&&(utmData.utm_source=utm_source,hasUTMData=!0),utm_medium.length>0&&(utmData.utm_medium=utm_medium,hasUTMData=!0),utm_campaign.length>0&&(utmData.utm_campaign=utm_campaign,hasUTMData=!0),utm={hasData:hasUTMData,data:utmData},this.set("utmInfo",utm),null!=window.filepicker&&window.filepicker.setKey(filePickerApiKey),null!=window.Stripe&&window.Stripe.setPublishableKey(stripeApiKey),null!=window.mixpanel&&window.mixpanel.init(mixpanelToken),null!=window.Parse&&window.Parse.initialize(parseApplicationId,parseJavascriptKey),function(d){var id,js,ref;return js=void 0,id="facebook-jssdk",ref=d.getElementsByTagName("script")[0],d.getElementById(id)?void 0:(js=d.createElement("script"),js.id=id,js.async=!0,js.src="//connect.facebook.net/en_US/all.js",ref.parentNode.insertBefore(js,ref))}(document),window.fbAsyncInit=function(){return window.Parse.FacebookUtils.init({appId:facebookAppId,cookie:!0,xfbml:!1})}},log:function(message,location,data){return this.debugMode?null!=data?("object"==typeof data&&(data=Ember.inspect(data)),console.log("DEBUG: "+App.appTitle+" : "+location+" : "+message),console.log("DEBUG: "+App.appTitle+" : (continued) data: "+data)):console.log("DEBUG: "+App.appTitle+" : "+location+" : "+message):void 0}})}.call(this),function(){history.pushState&&App.Router.reopen({location:"history"}),App.Router.map(function(){return this.route("settings"),this.route("accountEdit",{path:"/settings/account"}),this.route("accountFacebookEdit",{path:"/settings/account/facebook"}),this.route("addressAdd",{path:"/settings/addresses/add"}),this.route("addressEdit",{path:"/settings/addresses/edit/:id"}),this.route("addresses",{path:"/settings/addresses"}),this.route("creditCardAdd",{path:"/settings/payments/add"}),this.route("creditCardEdit",{path:"/settings/payments/:id"}),this.route("creditCards",{path:"/settings/payments"}),this.route("deals",{path:"/deals"}),this.route("giftCard",{path:"/gift"}),this.route("giftCardComplete",{path:"/gift/complete"}),this.route("help"),this.route("helpCall",{path:"/help/call"}),this.route("helpFaq",{path:"/help/frequently-asked-questions"}),this.route("helpFeedback",{path:"/help/feedback"}),this.route("helpHow",{path:"/help/how-washio-works"}),this.route("helpTerms",{path:"/help/terms-of-service"}),this.route("helpPrivacy",{path:"/help/privacy"}),this.route("helpEula",{path:"/help/eula"}),this.route("order"),this.route("orderStatus",{path:"/order/status/:id"}),this.route("orderComplete",{path:"/order/complete/:id"}),this.route("upcomingOrders",{path:"/orders/recurring"}),this.route("orderHistory",{path:"/order/history"}),this.route("orderDetail",{path:"/order/history/:id"}),this.route("prices"),this.route("forgotPassword"),this.route("register"),this.route("registerFacebook",{path:"/register/facebook"}),this.route("registerAddress",{path:"/register/address"}),this.route("registerCreditCard",{path:"/register/card"}),this.route("registerCoupon",{path:"/register/coupon"}),this.route("registerComplete",{path:"/register/complete"}),this.route("coupon"),this.route("reference",{path:"/dev/reference"}),this.route("share"),this.route("signin")})}.call(this),function(){var MAX_RUNLOOP_TRIES;MAX_RUNLOOP_TRIES=3e3,App.Mixins||(App.Mixins={}),App.Mixins.InputMixin=Ember.Mixin.create({setInputPhoneMask:function(){this.$(".input-telephone").inputmask({mask:"999-999-9999"})}})}.call(this),function(){App.BaseArrayController=Ember.ArrayController.extend({needs:["application"],hasErrors:!1,errorMessages:[],isLoading:!1,navigation:Ember.computed.alias("controllers.application.navigation"),saveToCache:function(key,data){return this.supportsHtml5Storage()?(localStorage.setItem("washio_"+key+"_updatedAt",new Date),localStorage.setItem("washio_"+key,JSON.stringify(data)),!0):(this.get("controllers.application").log("no local storage","App.HelperController.saveToCache"),!1)},getFromCache:function(key){var data;return this.supportsHtml5Storage()?null!=localStorage["washio_"+key+"_updatedAt"]?this.isCacheStale(new Date(localStorage["washio_"+key+"_updatedAt"]))?(localStorage.removeItem("washio_"+key+"_updatedAt"),localStorage.removeItem("washio_"+key),null):(data=localStorage["washio_"+key],null!=data?JSON.parse(localStorage["washio_"+key]):(localStorage.removeItem("washio_"+key+"_updatedAt"),null)):null:null},deleteFromCache:function(key){return localStorage.removeItem("washio_"+key+"_updatedAt"),localStorage.removeItem("washio_"+key)},isCacheStale:function(cacheDate){var currentDate,difference,resultInMinute;return currentDate=new Date,difference=currentDate.getTime()-cacheDate.getTime(),resultInMinute=Math.round(difference/6e4),resultInMinute>App.cacheLimit?!0:!1},clearCache:function(){var i,_i,_ref,_results;if(this.supportsHtml5Storage()){for(_results=[],i=_i=_ref=localStorage.length-1;_i>=0;i=_i+=-1)localStorage.key(i).indexOf("washio_")>-1?-1===localStorage.key(i).indexOf("washio_role")?_results.push(localStorage.removeItem(localStorage.key(i))):_results.push(void 0):_results.push(void 0);return _results}},supportsHtml5Storage:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}})}.call(this),function(){App.BaseController=Ember.Controller.extend({needs:["application"],hasErrors:!1,errorMessages:[],isLoading:!1,navigation:Ember.computed.alias("controllers.application.navigation"),saveToCache:function(key,data){return this.supportsHtml5Storage()?(localStorage.setItem("washio_"+key+"_updatedAt",new Date),localStorage.setItem("washio_"+key,JSON.stringify(data)),!0):(this.get("controllers.application").log("no local storage","App.HelperController.saveToCache"),!1)},getFromCache:function(key){var data;return this.supportsHtml5Storage()?null!=localStorage["washio_"+key+"_updatedAt"]?this.isCacheStale(new Date(localStorage["washio_"+key+"_updatedAt"]))?(localStorage.removeItem("washio_"+key+"_updatedAt"),localStorage.removeItem("washio_"+key),null):(data=localStorage["washio_"+key],null!=data?JSON.parse(localStorage["washio_"+key]):(localStorage.removeItem("washio_"+key+"_updatedAt"),null)):null:null},deleteFromCache:function(key){return localStorage.removeItem("washio_"+key+"_updatedAt"),localStorage.removeItem("washio_"+key)},isCacheStale:function(cacheDate){var currentDate,difference,resultInMinute;return currentDate=new Date,difference=currentDate.getTime()-cacheDate.getTime(),resultInMinute=Math.round(difference/6e4),resultInMinute>App.cacheLimit?!0:!1},clearCache:function(){var i,_i,_ref,_results;if(this.supportsHtml5Storage()){for(_results=[],i=_i=_ref=localStorage.length-1;_i>=0;i=_i+=-1)localStorage.key(i).indexOf("washio_")>-1?-1===localStorage.key(i).indexOf("washio_role")?_results.push(localStorage.removeItem(localStorage.key(i))):_results.push(void 0):_results.push(void 0);return _results}},supportsHtml5Storage:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}})}.call(this),function(){App.BaseLoggedInRoute=Ember.Route.extend({beforeModel:function(){return this._super(),this.controllerFor("application").log("redirect called","App.BaseLoggedInRoute.redirect"),this.controllerFor("application").get("isLoggedIn")?void 0:this.transitionTo("index")},setupController:function(controller,model){return this._super(controller,model)}})}.call(this),function(){App.BaseNoSidebarView=Ember.View.extend(App.Mixins.InputMixin,{init:function(){return this._super()},userSettingsBinding:"App.userSettings",debugModeBinding:"App.debugMode",didInsertElement:function(){this._super(),window.scrollTo(0,0),$(".wrapper").addClass("single-column"),$("#page-content-wrapper .row:first-of-type").css("margin","0px"),this.get("controller.controllers.application")&&this.get("controller.controllers.application").set("fullScreen",!0)}})}.call(this),function(){App.BaseObjectController=Ember.ObjectController.extend({needs:["application"],content:null,hasErrors:!1,errorMessages:[],isLoading:!1,navigation:Ember.computed.alias("controllers.application.navigation"),validateFieldLength:function(length,field){return this.get("controllers.application").log("validating field length","App.RegisterController.validateFieldLength"),this.validationInProgress(field),field.val().length>=length?this.fieldValid(field):this.fieldInvalid(field)},validationInProgress:function(field){return this.get("controllers.application").log("validation in progress","App.RegisterController.validationInProgress"),field||(field=$("#registerEmail")),field.removeClass("invalid").removeClass("valid").addClass("validating")},toggleSubmit:function(){var f;if(this.get("controllers.application").log("toggle submit","App.RegisterController.toggleSubmit"),f=$("#registerSubmit"),this.allValid()){if(f.hasClass("disabled")&&f.removeClass("disabled"),f.attr("disabled"))return f.removeAttr("disabled")}else if(f.hasClass("disabled")||f.addClass("disabled"),!f.attr("disabled"))return f.attr("disabled","disabled")},fieldValid:function(field){return this.get("controllers.application").log("field valid","App.RegisterController.fieldValid"),field.removeClass("invalid").removeClass("validating").addClass("valid"),this.toggleSubmit()},fieldInvalid:function(field){return this.get("controllers.application").log("field invalid","App.RegisterController.fieldInvalid"),field.removeClass("valid").removeClass("validating").addClass("invalid")},validateIcon:function(field){var icon,iconSrc,iconSrcFull;return this.get("controllers.application").log("validate icon","App.RegisterController.validateIcon"),icon=field.siblings("label").children("img"),iconSrcFull=icon.attr("src"),iconSrc=iconSrcFull.substr(0,iconSrcFull.lastIndexOf(".")||iconSrcFull)},saveToCache:function(key,data){return this.supportsHtml5Storage()?(localStorage.setItem("washio_"+key+"_updatedAt",new Date),localStorage.setItem("washio_"+key,JSON.stringify(data)),!0):(this.get("controllers.application").log("no local storage","App.HelperController.saveToCache"),!1)},getFromCache:function(key){var data;return this.supportsHtml5Storage()?null!=localStorage["washio_"+key+"_updatedAt"]?this.isCacheStale(new Date(localStorage["washio_"+key+"_updatedAt"]))?(localStorage.removeItem("washio_"+key+"_updatedAt"),localStorage.removeItem("washio_"+key),null):(data=localStorage["washio_"+key],null!=data?JSON.parse(localStorage["washio_"+key]):(localStorage.removeItem("washio_"+key+"_updatedAt"),null)):null:null},deleteFromCache:function(key){return localStorage.removeItem("washio_"+key+"_updatedAt"),localStorage.removeItem("washio_"+key)},isCacheStale:function(cacheDate){var currentDate,difference,resultInMinute;return currentDate=new Date,difference=currentDate.getTime()-cacheDate.getTime(),resultInMinute=Math.round(difference/6e4),resultInMinute>App.cacheLimit?!0:!1},clearCache:function(){var i,_i,_ref,_results;if(this.supportsHtml5Storage()){for(_results=[],i=_i=_ref=localStorage.length-1;_i>=0;i=_i+=-1)localStorage.key(i).indexOf("washio_")>-1?-1===localStorage.key(i).indexOf("washio_role")?_results.push(localStorage.removeItem(localStorage.key(i))):_results.push(void 0):_results.push(void 0);return _results}},supportsHtml5Storage:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}})}.call(this),function(){App.BaseView=Ember.View.extend(App.Mixins.InputMixin,{init:function(){return this._super()},userSettingsBinding:"App.userSettings",debugModeBinding:"App.debugMode",navigation:null,didInsertElement:function(){return this._super(),window.scrollTo(0,0),this.get("controller.controllers.application")&&this.get("controller.controllers.application").set("fullScreen",!1),$(".sidebar-nav li").click(function(){return $(".wrapper").removeClass("active"),$("#bs-example-navbar-collapse-1").removeClass("in")}),$("#bs-example-navbar-collapse-1 a").click(function(){return $("#bs-example-navbar-collapse-1").removeClass("in")}),$("html.touch").swipe({swipeLeft:function(){$(".wrapper").removeClass("active")},threshold:75})}})}.call(this),function(){App.Address=Ember.Object.extend({id:null,name:null,address:null,apartmentNumber:null,city:null,state:null,zip:null,latitude:null,longitude:null,note:null,isActive:!1,timezone:null,nameFormatted:function(){return this.get("name")+" - "+this.get("zip")}.property("name","zip")})}.call(this),function(){App.Area=Ember.Object.extend({id:null,area:null,zips:null,city:null,isSelected:null,selectedClass:function(){return this.get("isSelected")?"active":""}.property("isSelected")})}.call(this),function(){App.Balance=Ember.Object.extend({balance:null})}.call(this),function(){App.City=Ember.Object.extend({id:null,city:null,timezone:null,isSelected:null,selectedClass:function(){return this.get("isSelected")?"active":""}.property("isSelected")})}.call(this),function(){App.Coupon=Ember.Object.extend({id:null,code:null,couponTypeId:null,emailShareHref:function(){var share;return share="mailto:?subject=WASHIO&body=WASHIO ONDEMAND 24 HOUR DRYCLEANING AND LAUNDRY DELIVERED http://getwashio.com ",share+="Use my Washio coupon code to receive $10 off on your first order.  Use coupon Code: "+this.get("code")}.property("code"),smsShareHref:function(){return"sms://?body=WASHIO%20ONDEMAND%2024%20HOUR%20DRYCLEANING%20AND%20LAUNDRY%20DELIVERED%20http://getwashio.com%20Coupon%20Code:%20"+this.get("code")}.property("code")})}.call(this),function(){App.CreditCard=Ember.Object.extend({id:null,number:null,cvc:null,last4:null,type:null,month:null,year:null,customerId:null,name:null,zip:null,cardFormatted:function(){return this.get("type")+" *"+this.get("last4")}.property("type","last4")})}.call(this),function(){App.Deal=Ember.Object.extend({name:null,description:null,name2:null,description2:null,amount:null,amountFormatted:null,couponAmount:null,countBought:null,isBestValue:null})}.call(this),function(){App.ForgotPassword=Em.Object.extend({email:null})}.call(this),function(){App.GiftCard=Ember.Object.extend({id:null,recipientName:null,recipientEmail:null,amount:null,message:null,userId:null,creditCard:null})}.call(this),function(){App.Invoice=Ember.Object.extend({id:null,order:null,isRefund:null,couponDiscount:null,invoiceLines:null,invoiceDiscount:null,invoiceDate:null,subtotal:null,discount:null,couponDiscount:null,total:null,subtotalFormatted:function(){return parseFloat(this.get("subtotal")).toFixed(2)}.property("subtotal"),discountFormatted:function(){return parseFloat(this.get("discount")).toFixed(2)}.property("discount"),couponDiscountFormatted:function(){return parseFloat(this.get("couponDiscount")).toFixed(2)}.property("couponDiscount"),totalFormatted:function(){return parseFloat(this.get("total")).toFixed(2)}.property("total"),invoiceDateFormatted:function(){return moment(this.get("invoiceDate")).format("M/D/YY")}.property("invoiceDate")})}.call(this),function(){App.InvoiceDiscount=Ember.Object.extend({id:null,amount:null,percent:null,isPercent:null,description:null,amountFormatted:function(){return 0===parseFloat(this.get("amount"))?"-":"("+(""+parseFloat(this.get("amount")).toFixed(2))+")"}.property("amount, isPercent"),percentFormatted:function(){return this.get("isPercent")?""+parseFloat(this.get("percent")).toFixed(2)+"%":""}.property("percent, isPercent"),hasDiscount:function(){return null!=this.get("amount")?parseFloat(this.get("amount"))>0?!0:!1:!1}.property("amount")})}.call(this),function(){App.InvoiceLine=Ember.Object.extend({id:null,item:null,price:null,quantity:null,total:function(){return parseFloat(this.get("price")*this.get("quantity")).toFixed(2)}.property("price, quantity")})}.call(this),function(){App.Item=Ember.Object.extend({id:null,title:null,price:null,category:null,city:null,isPerPound:null,imageUrl:null,ordinalValue:null,isActive:null,isVisibleToCustomer:null,notes:null,cssClass:null,priceWithPoundFormatted:function(){return this.get("isPerPound")?"$"+(""+parseFloat(this.get("price")).toFixed(2))+" per lb.":"$"+(""+parseFloat(this.get("price")).toFixed(2))}.property("price","isPerPound"),priceFormatted:function(){return this.get("isPerPound")?""+parseFloat(this.get("price")).toFixed(2)+" per lb.":"Laundered shirts (Pressed)"===this.get("title")?""+parseFloat(this.get("price")).toFixed(2):""+parseFloat(this.get("price")).toFixed(2)}.property("title","price","isPerPound"),isPerPoundFormatted:function(){return this.get("isPerPound")?"X":""}.property("isPerPound"),hasNotes:function(){return null!=this.get("notes")?this.get("notes").length>0:!1}.property("notes")})}.call(this),function(){App.ItemCategory=Ember.Object.extend({id:null,title:null,imageUrl:null,ordinalValue:null,isActive:null})}.call(this),function(){App.ItemDefaults=Ember.Object.extend({deliveryFee:null,deliverFeeMaximum:null,orderMinimum:null,deliveryFeeFormatted:function(){return""+parseFloat(this.get("deliveryFee")).toFixed(2)}.property("deliveryFee"),deliverFeeMaximumFormatted:function(){return""+parseFloat(this.get("deliverFeeMaximum")).toFixed(2)}.property("deliverFeeMaximum"),orderMinimumFormatted:function(){return""+parseFloat(this.get("orderMinimum")).toFixed(2)}.property("orderMinimum")})}.call(this),function(){App.KeyValue=Ember.Object.extend({key:null,value:null})}.call(this),function(){App.KeyValueDescription=Ember.Object.extend({key:null,value:null,description:null})}.call(this),function(){App.Navigation=Ember.Object.extend({title:null,showMenu:null,backRoute:null})}.call(this),function(){App.Order=Ember.Object.extend({address:null,isServiced:null,pickupDay:null,pickupTime:null,dropOffDay:null,dropOffTime:null,customerSpecialInstructions:null,adminSpecialInstructions:null,driverSpecialInstructions:null,isFreeAndClear:null})}.call(this),function(){App.OrderDate=Ember.Object.extend({timezone:null,day:null,times:null,dropOffMorningDays:null,dropOffAfternoonDays:null,dayFormatted:function(){return moment.tz(this.get("day"),this.get("timezone")).format("dddd M/D")}.property("day","timezone")})}.call(this),function(){App.OrderDiscount=Ember.Object.extend({id:null,amount:null,percent:null,isPercent:null,description:null,amountFormatted:function(){return 0===parseFloat(this.get("amount"))?"-":"("+(""+parseFloat(this.get("amount")).toFixed(2))+")"}.property("amount, isPercent"),percentFormatted:function(){return this.get("isPercent")?""+parseFloat(this.get("percent")).toFixed(2)+"%":""}.property("percent, isPercent"),hasDiscount:function(){return null!=this.get("amount")?parseFloat(this.get("amount"))>0?!0:!1:!1}.property("amount")})}.call(this),function(){App.OrderLine=Ember.Object.extend({id:null,item:null,price:null,quantity:null,total:function(){return parseFloat(this.get("item.price")*this.get("quantity")).toFixed(2)}.property("item, quantity")})}.call(this),function(){App.OrderRating=Ember.Object.extend({wash:null,score:null,note:null,isNoteNeeded:function(){return this.get("score")>0?this.get("score")>3?!1:!0:!1}.property("score")})}.call(this),function(){App.OrderRecurring=Ember.Object.extend({id:null,address:null,pickup:null,pickupTime:null,dropoff:null,dropoffTime:null,recurrence:null,isActive:null,timezone:null,nextPickup:null,nextDropoff:null,nextPickupFormatted:function(){var timezoneAbbr;return timezoneAbbr=moment.tz(this.get("nextPickup"),this.get("timezone")).zoneAbbr(),moment.tz(this.get("nextPickup"),this.get("timezone")).format("dddd M/D/YY h:mm a")+" "+timezoneAbbr}.property("nextPickup","timezone"),nextDropoffFormatted:function(){var timezoneAbbr;return timezoneAbbr=moment.tz(this.get("nextDropoff"),this.get("timezone")).zoneAbbr(),moment.tz(this.get("nextDropoff"),this.get("timezone")).format("dddd M/D/YY h:mm a")+" "+timezoneAbbr}.property("nextDropoff","timezone")})}.call(this),function(){App.OrderRecurringLookup=Ember.Object.extend({days:null,friendlyName:null,checked:null})}.call(this),function(){App.OrderStatus=Ember.Object.extend({id:null,status:null,statusClient:null,statusLookup:null,ordinalValue:null,ordinalValueClient:null,isInternalOnly:null,isComplete:null,isManuallyChangeable:null,isClientPickup:null,isFirstStep:function(){return 1===parseInt(this.get("ordinalValue"))?!0:!1}.property("ordinalValue"),step1Css:function(){return 1===this.get("ordinalValueClient")?"inline":""}.property("ordinalValueClient"),step2Css:function(){return 2===this.get("ordinalValueClient")?"inline":""}.property("ordinalValueClient"),step3Css:function(){return 3===this.get("ordinalValueClient")?"inline":""}.property("ordinalValueClient"),step4Css:function(){return 4===this.get("ordinalValueClient")?"inline":""}.property("ordinalValueClient"),step5Css:function(){return 5===this.get("ordinalValueClient")?"inline":""}.property("ordinalValueClient"),pickupStyle:function(){return 1===this.get("ordinalValue")?"width: 25%":2===this.get("ordinalValue")?"width: 50%":3===this.get("ordinalValue")?"width: 75%":"width: 100%"}.property("ordinalValue"),pickupActive:function(){return 1===this.get("ordinalValue")||2===this.get("ordinalValue")||3===this.get("ordinalValue")||4===this.get("ordinalValue")?"":"inactive"}.property("ordinalValue"),dropoffStyle:function(){return 5===this.get("ordinalValue")||6===this.get("ordinalValue")||7===this.get("ordinalValue")?"width: 25%":8===this.get("ordinalValue")?"width: 50%":9===this.get("ordinalValue")?"width: 75%":this.get("ordinalValue")>9?"width: 100%":"width: 0%"}.property("ordinalValue"),statusTitle:function(){return this.get("isComplete")?"Completed":"In Progress"}.property("isComplete"),isCancelled:function(){return"ORDER_CANCELLED"===this.get("statusLookup")?!0:!1}.property("status")})}.call(this),function(){App.OrderSummary=Ember.Object.extend({id:null,orderDate:null,status:null,invoiceLinesTotal:null,invoiceDiscount:null,couponDiscount:null,total:null,rating:null,ratingComment:null,adminSpecialInstructions:null,customerSpecialInstructions:null,isCancelled:function(){return"Order cancelled"===this.get("status")?!0:!1}.property("status"),isRefunded:function(){return"Customer refunded"===this.get("status")?!0:!1}.property("status"),isBilled:function(){return"Customer billed"===this.get("status")?!0:!1}.property("status"),orderDateFormatted:function(){return moment(this.get("orderDate")).format("M/D/YY")}.property("orderDate"),totalFormatted:function(){return null!=this.get("total")?"$"+(""+parseFloat(this.get("total")).toFixed(0)):"$"+(""+parseFloat(0).toFixed(0))}.property("total")})}.call(this),function(){App.OrderTime=Ember.Object.extend({time:null,isMorning:null,timeFormatted:function(){var dateTime;return dateTime=new Date(moment().format("M/D/YYYY")+" "+this.get("time")),moment(dateTime).format("h:mm")+" - "+moment(dateTime).add("minutes",30).format("h:mm A")}.property("time")})}.call(this),function(){App.Register=Ember.Object.extend({id:null,email:null,password:null,firstName:null,lastName:null,phone:null})}.call(this),function(){App.Shift=Ember.Object.extend({id:null,area:null,changeDriver:null,day:null,driver:null,timesAvailable:null,timesBooked:null})}.call(this),function(){App.Sidebar=Ember.Object.extend({title:null,showMenu:null,backRoute:null})}.call(this),function(){App.Signin=Ember.Object.extend({username:null,password:null})}.call(this),function(){App.User=Ember.Object.extend({id:null,username:null,email:null,firstName:null,lastName:null,phone:null,isFacebook:null,profileUrl:null,addresses:[],washes:[],stripeId:null,stripeCustomer:null,coupon:null,isNewUser:null,lastInitial:function(){return null!=this.get("lastName")&&this.get("lastName").length>0?this.get("lastName").charAt(0)+".":""}.property("lastName")})}.call(this),function(){App.UserSummary=Ember.Object.extend({id:null,invoiceLinesTotals:null,invoiceDiscounts:null,couponDiscounts:null,total:null})}.call(this),function(){App.Wash=Ember.Object.extend({id:null,address:null,pickup:null,pickupShift:null,dropoff:null,dropoffShift:null,status:null,accountBalance:null,notes:null,orderLines:null,orderStatus:null,customerSpecialInstructions:null,adminSpecialInstructions:null,driverSpecialInstructions:null,currentUser:null,showChangeStatus:null,stripeCardId:null,creditCard:null,pickupFormatted:function(){var timezoneAbbr;return timezoneAbbr=moment.tz(this.get("pickup"),this.get("pickupShift.area.city.timezone")).zoneAbbr(),moment.tz(this.get("pickup"),this.get("pickupShift.area.city.timezone")).format("ddd M/D/YY h:mm a")+" "+timezone}.property("pickup","pickupShift"),pickupTimeFormatted:function(){return moment.tz(this.get("pickup"),this.get("pickupShift.area.city.timezone")).format("h:mm a")}.property("pickup","pickupShift"),pickupTimeRangeFormatted:function(){var timezoneAbbr;return timezoneAbbr=moment.tz(this.get("pickup"),this.get("pickupShift.area.city.timezone")).zoneAbbr(),moment.tz(this.get("pickup"),this.get("pickupShift.area.city.timezone")).format("h:mm")+" - "+moment.tz(this.get("pickup"),this.get("pickupShift.area.city.timezone")).add("minutes",30).format("h:mm A")+" "+timezoneAbbr}.property("pickup","pickupShift"),pickupDayFormatted:function(){return moment.tz(this.get("pickup"),this.get("pickupShift.area.city.timezone")).format("ddd, M/D")}.property("pickup","pickupShift.area.city"),dropoffFormatted:function(){var timezoneAbbr;return timezoneAbbr=moment.tz(this.get("dropoff"),this.get("dropoffShift.area.city.timezone")).zoneAbbr(),moment(this.get("dropoff"),this.get("dropoffShift.area.city.timezone")).format("ddd M/D/YY h:mm a")+" "+timezone}.property("dropoff","dropoffShift"),dropoffTimeFormatted:function(){return moment.tz(this.get("dropoff"),this.get("dropoffShift.area.city.timezone")).format("h:mm a")}.property("dropoff","dropoffShift"),dropoffTimeRangeFormatted:function(){var timezoneAbbr;return timezoneAbbr=moment.tz(this.get("dropoff"),this.get("dropoffShift.area.city.timezone")).zoneAbbr(),moment.tz(this.get("dropoff"),this.get("dropoffShift.area.city.timezone")).format("h:mm")+" - "+moment.tz(this.get("dropoff"),this.get("dropoffShift.area.city.timezone")).add("minutes",30).format("h:mm A")+" "+timezoneAbbr}.property("dropoff","dropoffShift"),dropoffDayFormatted:function(){return moment.tz(this.get("dropoff"),this.get("dropoffShift.area.city.timezone")).format("ddd, M/D")}.property("dropoff","dropoffShift"),pickupIcon:function(){return this.get("orderStatus.isClientPickup")?"icons-retina-clock2x":"icons-retina-checkcircle2x"}.property("orderStatus"),dropoffIcon:function(){return this.get("orderStatus.isComplete")?"icons-retina-checkcircle2x":"icons-retina-clock2x"}.property("orderStatus")})}.call(this),function(){App.AccountBalanceController=App.BaseObjectController.extend({needs:["accountBalance"],init:function(){return this._super()},setBalance:function(balance){return this.set("content.balance",balance)},getAccountBalance:function(){var deferred,_this=this;return this.get("controllers.application").log("getting account balance","App.AccountBalanceController.getAccountBalance"),deferred=Q.defer(),$.ajax({type:"GET",url:"/api/account/balance/"+this.get("controllers.application.currentUser.id"),success:function(data){return data.error||_this.setBalance(data.balance),deferred.resolve(data)},error:function(xhr,textStatus,error){return deferred.reject(error)}}),deferred.promise}})}.call(this),function(){App.AccountCouponController=App.BaseObjectController.extend({needs:["accountCoupon","accountBalance"],init:function(){return this._super(),this.set("content",{})},setCoupon:function(couponId){return this.set("content.code",couponId)},getCouponForCurrentUser:function(){var deferred,_this=this;return this.get("controllers.application").log("getting current users coupon","App.ApplicationController.getCouponForCurrentUser"),deferred=Q.defer(),$.ajax({url:"/api/coupon/user/"+this.get("controllers.application.currentUser.id"),success:function(data){return data.error?deferred.reject(data.error):deferred.resolve(_this.loadCoupon(data.coupon))},error:function(xhr,textStatus,error){return deferred.reject(error)}}),deferred.promise},createCoupon:function(coupon,userId){var deferred,_this=this;return this.get("controllers.application").log("attempting to create a coupon","App.AccountCouponController.createCoupon",coupon),deferred=Q.defer(),$.ajax({type:"POST",url:"/api/coupon/user",data:{userId:userId,couponCode:coupon.get("code")},success:function(data){return data.error?deferred.reject(data.error):deferred.resolve(_this.loadCoupon(data.coupon))},error:function(xhr,textStatus,error){return deferred.reject(error)}}),deferred.promise},applyCoupon:function(){var deferred,_this=this;return this.get("controllers.application").log("applying coupon","App.AccountCouponController.applyCoupon",this.get("content")),deferred=Q.defer(),null!=this.get("content.code")?this.get("content.code").length>0?($("#applyCouponButton").text("Saving"),$.ajax({type:"POST",url:"/api/coupon/apply",data:{userId:this.get("controllers.application.currentUser.id"),couponCode:this.get("content.code")},success:function(data){return data.error?_this.get("controllers.application").toast(data.error,"warning"):(_this.get("controllers.accountBalance").getAccountBalance(),_this.get("controllers.application").toast("Coupon applied successfully."),$("#shareWashio").modal("toggle"),"undefined"!=typeof mixpanel&&null!==mixpanel&&mixpanel.people.set({"Coupon Redeemed":!0},function(){})),$("input[type=submit]").prop("disabled",!1),deferred.resolve(data)
},error:function(xhr,textStatus,error){return $("input[type=submit]").prop("disabled",!1),_this.get("controllers.application").log("error verifying coupon","App.AccountCouponController.applyCoupon",error),_this.get("controllers.application").toast("An unknown error occurred. Please try again.","error"),deferred.reject(error)}})):(this.get("controllers.application").toast("Please provide a coupon code.","warning"),deferred.reject("Please provide a coupon code.")):(this.get("controllers.application").toast("Please provide a coupon code.","warning"),deferred.reject("Please provide a coupon code.")),deferred.promise},loadCoupon:function(parseCoupon){return this.get("controllers.application").log("loading parseCoupon into ember coupon","App.AccountCouponController.loadCoupon",parseCoupon),null!=parseCoupon?App.Coupon.create({id:parseCoupon.id,code:parseCoupon.code}):parseCoupon}})}.call(this),function(){App.AccountEditController=App.BaseObjectController.extend({needs:["accountCoupon"],init:function(){return this._super()},coupon:null,hasCoupon:!1,saveAccount:function(){var parseUser,_this=this;return this.get("controllers.application").log("saving user info","App.AccountEditController.saveAccount",this.get("content")),this.validateAccount(this.get("content"))?(parseUser=Parse.User.current(),parseUser?(parseUser.set("first_name",this.get("content.firstName")),parseUser.set("last_name",this.get("content.lastName")),parseUser.set("email",this.get("content.email")),parseUser.set("phone",this.get("content.phone")),parseUser.save(null,{success:function(){return _this.get("controllers.application.currentUser").setProperties({firstName:_this.get("content.firstName"),lastName:_this.get("content.lastName"),email:_this.get("content.email"),phone:_this.get("content.phone")}),_this.transitionToRoute("index"),_this.get("controllers.application").toast("Account saved successfully")},error:function(parseUser,error){return _this.get("controllers.application").toast(error.message,"error")}})):this.transitionToRoute("settings")):this.get("controllers.application").toast(this.get("errorMessages")[0].message,"error")},validateAccount:function(account){return this.get("controllers.application").log("validating account","App.AccountEditController.validateAccount"),this.set("errorMessages",[]),null==account.get("firstName")?(this.get("errorMessages").pushObject({message:"Please enter your first name."}),!1):1>=account.get("firstName").length?(this.get("errorMessages").pushObject({message:"Please enter your first name."}),!1):account.get("firstName").length>60?(this.get("errorMessages").pushObject({message:"First name should be less than 60 characters."}),!1):null==account.get("lastName")?(this.get("errorMessages").pushObject({message:"Please enter your last name."}),!1):1>=account.get("lastName").length?(this.get("errorMessages").pushObject({message:"Please enter your last name."}),!1):account.get("lastName").length>60?(this.get("errorMessages").pushObject({message:"Last name should be less than 60 characters."}),!1):null==account.get("email")?(this.get("errorMessages").pushObject({message:"Please enter your email."}),!1):this.validateEmail(account.get("email"))?null==this.get("content.phone")?(this.get("errorMessages").pushObject({message:"Please enter your phone number."}),!1):this.validatePhone(account.get("phone"))?!0:(this.get("errorMessages").pushObject({message:"Please enter a valid phone number."}),!1):(this.get("errorMessages").pushObject({message:"Please enter a valid email."}),!1)},validateEmail:function(email){var regex;return regex=/\S+@\S+\.\S+/,regex.test(email)},validatePhone:function(phone){var digits,regex;return regex=/^[2-9]\d{2}[2-9]\d{2}\d{4}$/,digits=phone.replace(/\D/g,""),digits.match(regex)},createPersonalCoupon:function(){return this.transitionToRoute("registerCoupon")}})}.call(this),function(){App.AccountFacebookEditController=App.BaseObjectController.extend({needs:["accountEdit"],init:function(){return this._super()},saveAccount:function(){var parseUser,_this=this;return this.get("controllers.application").log("saving user info","App.AccountFacebookEditController.saveAccount",this.get("content")),this.get("controllers.accountEdit").validateAccount(this.get("content"))?(parseUser=Parse.User.current(),parseUser?(parseUser.set("first_name",this.get("content.firstName")),parseUser.set("last_name",this.get("content.lastName")),parseUser.set("email",this.get("content.email")),parseUser.set("phone",this.get("content.phone")),parseUser.save(null,{success:function(){return _this.get("controllers.application.currentUser").setProperties({firstName:_this.get("content.firstName"),lastName:_this.get("content.lastName"),email:_this.get("content.email"),phone:_this.get("content.phone")}),_this.transitionToRoute("settings"),_this.get("controllers.application").toast("Account saved successfully")},error:function(){return _this.get("controllers.application").toast("An unknown error occurred. Please try again.","error")}})):this.transitionToRoute("settings")):this.get("controllers.application").toast(this.get("errorMessages")[0].message,"error")}})}.call(this),function(){App.AddressAddController=App.BaseObjectController.extend({needs:["addresses","share"],saving:!1,init:function(){this._super()},actions:{saveAddress:function(){var _this=this;this.get("saving")||(this.get("controllers.application").log("saving user address","App.AddressesController.saveAddress",this.get("content")),this.get("controllers.addresses").validateAddress(this.get("content"))?this.addAddress(this.get("content"),function(error){error?_this.get("controllers.application").toast(error,"error"):(_this.transitionToRoute("addresses"),_this.get("controllers.application").toast("Address saved successfully"))}):this.get("errorMessages")[0]&&this.get("controllers.application").toast(this.get("errorMessages")[0].message,"error"))}},addAddress:function(address,callback){var _this=this;this.set("saving",!0),$.ajax({type:"POST",url:"/api/account/address/"+this.get("controllers.application.currentUser.id"),data:{zip:address.get("zip"),name:address.get("name"),note:address.get("note"),address:address.get("address"),apartmentNumber:address.get("apartmentNumber")},success:function(data){_this.set("saving",!1),data.error?callback(data.error):(_this.get("controllers.application.currentUser.addresses").pushObject(_this.get("controllers.addresses").loadAddressFromCache(data)),callback(null))},error:function(error){_this.set("saving",!1),callback(error)}})}})}.call(this),function(){App.AddressEditController=App.BaseObjectController.extend({needs:["addresses","share"],saving:!1,deleting:!1,init:function(){this._super()},actions:{saveAddress:function(){var address,_this=this;this.get("controllers.application").log("saving user address","App.AddressEditController.saveAddress",this.get("content")),address=this.get("content"),this.get("controllers.addresses").validateAddress(this.get("content"))?(this.set("saving",!0),$.ajax({type:"PUT",url:"/api/account/address/"+address.get("id"),data:{zip:address.get("zip"),name:address.get("name"),note:address.get("note"),address:address.get("address"),apartmentNumber:address.get("apartmentNumber")},success:function(data){_this.set("saving",!1),data.error?_this.get("controllers.application").toast(data.error,"error"):(_this.get("controllers.application").toast("Address saved successfully"),_this.transitionToRoute("addresses"))},error:function(){_this.get("controllers.application").toast("An unknown error occurred. Please try again.","error"),_this.set("saving",!1)}})):this.get("controllers.application").toast(this.get("controllers.addresses.errorMessages")[0].message,"error")},deleteAddress:function(){var address,ok,_this=this;this.get("controllers.application").log("saving user address","App.AddressEditController.deleteAddress",this.get("content")),address=this.get("content"),address&&(ok=confirm("Are you sure want to delete this address?"),ok&&(this.set("deleting",!0),$.ajax({type:"DELETE",url:"/api/account/address/"+address.get("id"),success:function(data){_this.set("deleting",!1),data.error?_this.get("controllers.application").toast(data.error,"error"):(_this.transitionToRoute("addresses"),_this.get("controllers.application").toast("Address removed successfully"),_this.get("controllers.application.currentUser.addresses").removeObject(address))},error:function(){_this.set("deleting",!1),_this.get("controllers.application").toast("An unknown error occurred. Please try again.","error")}})))}}})}.call(this),function(){App.AddressesController=App.BaseArrayController.extend({init:function(){return this._super(),this.get("controllers.application").log("addresses controller initializing","App.AddressesController.init"),this.set("addressNames",[]),this.get("addressNames").pushObject(App.KeyValueDescription.create({key:"Home",value:"Home"})),this.get("addressNames").pushObject(App.KeyValueDescription.create({key:"Office",value:"Office"})),this.get("addressNames").pushObject(App.KeyValueDescription.create({key:"Other",value:"Other"}))},addressNames:null,getAddresses:function(){var deferred,_this=this;return this.get("controllers.application").log("getting user addresses","App.AddressesController.getAddresses"),this.set("isLoading",!0),deferred=Q.defer(),$.ajax({type:"get",url:"/api/account/address/"+this.get("controllers.application.currentUser.id"),success:function(data){var address,_i,_len;for(_this.set("content",[]),_i=0,_len=data.length;_len>_i;_i++)address=data[_i],_this.get("content").pushObject(_this.loadAddressFromCache(address));return _this.set("isLoading",!1),deferred.resolve(_this.get("content"))},error:function(xhr,textStatus,error){return _this.get("controllers.application").toast("Error saving recurring orders.","error"),deferred.reject(error)}}),deferred.promise},getAddress:function(id){var address,deferred,_this=this;return this.get("controllers.application").log("getting user address","App.AddressesController.getAddress",id),deferred=Q.defer(),null!=this.get("content")&&(address=this.get("content").find(function(item){return item.id===id})),null!=address?deferred.resolve(address):this.getAddresses().then(function(){return address=_this.get("content").find(function(item){return item.id===id}),deferred.resolve(address)}).fail(function(error){return alert("here"),deferred.reject(error)}),deferred.promise},loadAddressFromCache:function(addressIn){var address;return this.get("controllers.application").log("loading parseAddress into ember address","App.AddressesController.loadAddressFromCache"),address=App.Address.create({id:addressIn.objectId,name:addressIn.name,address:addressIn.address,apartmentNumber:addressIn.apartmentNumber,city:addressIn.city,state:addressIn.state,zip:addressIn.zip,latitude:addressIn.latitude,longitude:addressIn.longitude,note:addressIn.note,isActive:addressIn.is_active,timezone:addressIn.timezone})},loadAddress:function(parseAddress){return this.get("controllers.application").log("loading parseAddress into ember address","App.AddressesController.loadAddress",parseAddress),App.Address.create({id:parseAddress.id,name:parseAddress.attributes.name,address:parseAddress.attributes.address,apartmentNumber:parseAddress.attributes.apartmentNumber,city:parseAddress.attributes.city,state:parseAddress.attributes.state,zip:parseAddress.attributes.zip,latitude:parseAddress.attributes.latitude,longitude:parseAddress.attributes.longitude,note:parseAddress.attributes.note,isActive:parseAddress.attributes.is_active})},validateAddress:function(address){return this.get("controllers.application").log("validating address","App.AddressEditController.validateAddress"),this.set("errorMessages",[]),null==address.get("name")&&address.set("name",this.get("addressNames")[0].value),null==address.get("address")?(this.get("errorMessages").pushObject({message:"Please enter an address."}),!1):0===address.get("address").length?(this.get("errorMessages").pushObject({message:"Please enter an address."}),!1):address.get("address").length>100?(this.get("errorMessages").pushObject({message:"Address must be less than 100 characters long."}),!1):null==address.get("zip")?(this.get("errorMessages").pushObject({message:"Zip code must be at least five characters long."}),!1):5>address.get("zip").length?(this.get("errorMessages").pushObject({message:"Zip code must be at least five characters long."}),!1):address.get("zip").length>10?(this.get("errorMessages").pushObject({message:"Zip must be less than ten characters long."}),!1):!0}})}.call(this),function(){App.ApplicationController=App.BaseController.extend({init:function(){return this._super,this.log("application controller initializing","App.ApplicationController"),this.setCurrentUser(Parse.User.current()),this.mixpanel("Washio Loaded"),this.trackUTM()},appTitleBinding:"App.appTitle",debugModeBinding:"App.debugMode",navigation:null,currentUser:null,fullScreen:!1,forceShowHeader:!1,currentUserDidChange:function(){return this.set("isLoggedIn",null!=this.currentUser)}.observes("this.currentUser"),showControls:function(){var fullScreen,isLoggedIn;return isLoggedIn=this.get("isLoggedIn"),fullScreen=this.get("fullScreen"),isLoggedIn&&!fullScreen}.property("isLoggedIn","fullScreen","is"),showHeader:function(){return this.get("forceShowHeader")||this.get("showControls")}.property("showControls","forceShowHeader"),showSide:function(){return this.get("showControls")}.property("showControls"),isLoggedIn:!1,facebookAppIdBinding:"App.facebookAppId",nanigansTrackingIdBinding:"App.nanigansTrackingId",trackUTM:function(){return App.utmInfo.hasData===!0&&"undefined"!=typeof mixpanel&&null!==mixpanel?(mixpanel.people.set_once(App.utmInfo.data),mixpanel.identify()):void 0},signinFacebook:function(){var _this=this;return this.log("attempting to signin the user via facebook","App.ApplicationController.signinFacebook"),Parse.FacebookUtils.logIn({id:App.facebookUserId,access_token:App.facebookAccessToken,expiration_date:App.facebookExpirationDate},{success:function(parseUser){return null!=parseUser?(_this.setCurrentUser(parseUser),parseUser.existed()?(_this.toast("Welcome back to Washio"),_this.mixpanel("User - Signed In",{isFacebook:!0}),_this.mixpanelIncrementProperty("Signin Count"),_this.setCurrentUser(parseUser),_this.transitionToRoute("index")):(_this.saveToCache("isNewUser",!0),FB.api("/me",function(response){return null!=response&&_this.get("currentUser").setProperties({email:response.email,firstName:response.first_name,lastName:response.last_name}),_this.transitionToRoute("registerFacebook")}))):_this.toast("An unknown error occurred. Please try again.","error")}}),{error:function(){return _this.toast("Error connecting to Facebook. Please try again.","error")}}},log:function(message,location,data){return this.debugMode?null!=data?("object"==typeof data&&(data=Ember.inspect(data)),console.log("DEBUG: "+this.get("appTitle")+" : "+location+" : "+message),console.log("DEBUG: "+this.get("appTitle")+" : (continued) data: "+data)):console.log("DEBUG: "+this.get("appTitle")+" : "+location+" : "+message):void 0},toast:function(message,type,duration){return null==duration&&(duration=3e3),this.log("toast called","App.ApplicationController.toast",message),null!=this.get("toastTimer")&&clearTimeout(this.get("toastTimer")),null!=type?"warning"!==type&&"error"!==type&&"success"!==type&&(type="success"):type="success",$(".notification-bar").removeClass("success error warning"),$(".notification-bar").addClass(type),$(".notification-bar").text(message),$(".notification-bar").fadeIn(),setTimeout(function(){return $(".notification-bar").fadeOut(400,function(){return $(this).text("")})},duration)},setCurrentUser:function(user){var isFacebook;return null!=user&&null!=user.id?(this.log("Setting currentUser object","App.ApplicationController.setCurrentUser",user),this.set("isLoggedIn",!0),isFacebook=null!=user.attributes.authData?!0:!1,this.set("currentUser",App.User.create({id:user.id,username:user.attributes.username,firstName:user.attributes.first_name,lastName:user.attributes.last_name,email:user.attributes.email,phone:user.attributes.phone,isFacebook:isFacebook,addresses:[],stripeId:user.attributes.stripeId,isNewUser:!user.existed()})),this.mixpanelLogUser(this.get("currentUser")),this.get("currentUser")):(this.log("Unsetting currentUser object - no user logged in","App.ApplicationController.setCurrentUser"),this.log("(continued) - setting isLoggedIn false","App.ApplicationController.setCurrentUser"),this.set("isLoggedIn",!1),this.log("(continued) - removing currentUser object","App.ApplicationController.setCurrentUser"),this.set("currentUser",null))},mixpanel:function(message,data){return null!=this.get("currentUser")&&(data||(data={}),data.UserEmail=this.get("currentUser.username"),data.UserId=this.get("currentUser.id")),"undefined"!=typeof mixpanel&&null!==mixpanel?null!=data?mixpanel.track(message,data):mixpanel.track(message):void 0},mixpanelIncrementProperty:function(property){return"undefined"!=typeof mixpanel&&null!==mixpanel?mixpanel.people.increment(property):void 0},mixpanelRevenue:function(userId,amount){return"undefined"!=typeof mixpanel&&null!==mixpanel&&null!=userId&&null!=amount?mixpanel.people.track_charge(amount):void 0},mixpanelLogUser:function(user){var abTest,isNewUser;return"undefined"!=typeof mixpanel&&null!==mixpanel?(isNewUser=this.getFromCache("isNewUser"),isNewUser||(isNewUser=!1),isNewUser?(this.saveToCache("isNewUser",!1),mixpanel.alias(user.get("id")),mixpanel.identify(user.get("id")),abTest=0===Math.round(Math.random())?"A":"B",mixpanel.people.set({$email:user.get("email"),$name:user.get("firstName")+" "+user.get("lastName"),$first_name:user.get("firstName"),$last_name:user.get("lastName"),$phone:user.get("phone"),$last_login:new Date,$created:new Date,"Signin Count":1,"AB Test Group":abTest,"Coupon Redeemed":!1},function(){}),mixpanel.track("User - Registered")):(mixpanel.identify(user.get("id")),mixpanel.people.set({$email:user.get("email"),$name:user.get("firstName")+" "+user.get("lastName"),$first_name:user.get("firstName"),$last_name:user.get("lastName"),$phone:user.get("phone"),$last_login:new Date},function(){}),mixpanel.track("User - Opened App")),mixpanel.name_tag(user.get("email")),mixpanel.people.increment("Loaded App Count")):void 0},randomCodeGenerator:function(len,charSet){var i,randomPos,randomString;charSet=charSet||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",randomString="",i=0;try{for(;len>i;)randomPos=Math.floor(Math.random()*charSet.length),randomString+=charSet.substring(randomPos,randomPos+1),i++}catch(e){this.log("attempting to create a random code","App.ApplicationController.randomCodeGenerator")}return randomString}})}.call(this),function(){App.AreasController=App.BaseArrayController.extend({needs:["cities"],allAreas:null,init:function(){return this._super,this.get("controllers.application").log("areas controller initializing","App.AreasController")},loadAreaFromParse:function(parseArea){var city;return this.get("controllers.application").log("loading parseArea into ember area","App.AreasController.loadAreaFromParse"),null!=parseArea?(null!=parseArea.attributes.city&&(city=this.get("controllers.cities").loadCity(parseArea.attributes.city)),App.Area.create({id:parseArea.id,area:parseArea.attributes.area,city:city,isSelected:!1})):void 0},loadAreaFromCache:function(cacheArea){var city;return this.get("controllers.application").log("loading parseArea into ember area","App.AreasController.loadAreaFromParse"),null!=cacheArea?(null!=cacheArea.city&&(city=this.get("controllers.cities").loadCityFromCache(cacheArea.city)),App.Area.create({id:cacheArea.id,area:cacheArea.area,city:city,isSelected:!1})):void 0}})}.call(this),function(){App.CitiesController=App.BaseArrayController.extend({init:function(){return this._super,this.get("controllers.application").log("cities controller initializing","App.CitiesController")},getCities:function(){var deferred,_this=this;return this.get("controllers.application").log("getting prices for desired city","App.PricesController.getPrices"),deferred=Q.defer(),$.ajax({type:"GET",url:"/api/locations/cities",success:function(data){var city,_i,_len,_ref;if(null!=data)for(_this.set("content",[]),_ref=data.cities,_i=0,_len=_ref.length;_len>_i;_i++)city=_ref[_i],city.is_active&&_this.get("content").pushObject(_this.loadCityOld(city));return deferred.resolve(_this.get("content"))},error:function(xhr,textStatus,error){return deferred.reject(error)}}),deferred.promise},loadCity:function(parseCity){try{return App.City.create({id:parseCity.id,city:parseCity.attributes.city,state:parseCity.attributes.state.id,timezone:parseCity.attributes.timezone,isSelected:!1})}catch(e){return null}},loadCityFromCache:function(cacheCity){try{return App.City.create({id:cacheCity.id,city:cacheCity.city,timezone:cacheCity.timezone,isSelected:!1})}catch(e){return null}},loadCityOld:function(parseCity){var city;try{return city=App.City.create({id:parseCity.objectId,city:parseCity.city,state:parseCity.state.objectId,timezone:parseCity.timezone,isActive:parseCity.is_active})}catch(e){return null}}})}.call(this),function(){App.CouponController=App.BaseArrayController.extend({needs:["accountBalance","accountCoupon"],init:function(){return this._super(),this.get("controllers.application").log("credit cards controller initializing","App.CreditCardsController.init")},creditCardYears:null,loading:!0})}.call(this),function(){App.CreditCardAddController=App.BaseObjectController.extend({needs:["creditCards","share"],init:function(){this._super()},content:null,actions:{saveCreditCard:function(){var _this=this;this.get("controllers.creditCards").validateCreditCard(this.get("content"))?($("input[type=submit]").prop("disabled",!0),this.addCreditCard(this.get("content")).then(function(){return $("input[type=submit]").prop("disabled",!1),_this.transitionToRoute("creditCards"),_this.get("controllers.application").toast("Credit card saved successfully")}).fail(function(error){return $("input[type=submit]").prop("disabled",!1),_this.get("controllers.application").toast(error.error.message,"error")})):this.get("controllers.application").toast(this.get("controllers.creditCards.errorMessages")[0].message,"error")}},addCreditCard:function(creditCard){var deferred,_this=this;return deferred=Q.defer(),this.get("controllers.creditCards").validateCreditCard(creditCard)&&Stripe.createToken({number:creditCard.get("number"),cvc:creditCard.get("cvc"),exp_month:creditCard.get("month"),exp_year:creditCard.get("year"),zip:creditCard.get("zip")},function(status,response){return response.error?deferred.reject(response.error):_this.get("controllers.application.currentUser.stripeId")?$.ajax({url:"/api/payment/creditCard",type:"POST",data:{stripeId:_this.get("controllers.application.currentUser.stripeId"),tokenId:response.id},success:function(data){return data.error?deferred.reject(data.error):(_this.get("controllers.creditCards").getCreditCards(),deferred.resolve(data))},error:function(xhr,textStatus,error){return deferred.reject(error)}}):$.ajax({type:"POST",url:"/api/payment/customer",data:{tokenId:response.id},success:function(data){var parseUser;return data.error?deferred.reject(data.error):(parseUser=Parse.User.current(),null!=parseUser?(parseUser.set("stripeId",data.customer.id),parseUser.save(null,{success:function(){return _this.get("controllers.application.currentUser").setProperties({stripeId:data.customer.id,stripeCustomer:data.customer}),_this.get("controllers.creditCards").loadCreditCards(data.customer.cards.data[0]),deferred.resolve(data)},error:function(parseUser,error){return _this.get("controllers.application").toast(error.message,"error"),deferred.reject(error)}})):void 0)},error:function(xhr,textStatus,error){return deferred.reject(error)}})}),deferred.promise}})}.call(this),function(){App.CreditCardEditController=App.BaseObjectController.extend({needs:["creditCards","share"],init:function(){return this._super()},deleteCreditCard:function(){var _this=this;return $("input[type=submit]").prop("disabled",!0),$.ajax({type:"DELETE",url:"/api/payment/creditCard?stripeId="+this.get("controllers.application.currentUser.stripeId")+"&cardId="+this.get("content.id"),success:function(data){var cards,creditCard,i;if(data.error)_this.get("controllers.application").toast("An error occurred while trying to delete credit card.","error");else{for(_this.get("controllers.application").toast("Credit card deleted successfully.","info"),creditCard=_this.get("controllers.creditCards.content").find(function(item){return item.id===data.card.id}),_this.get("controllers.creditCards.content").removeObject(creditCard),cards=_this.get("controllers.application.currentUser.stripeCustomer.cards.data"),i=cards.length-1;i--;)cards[i].id===data.card.id&&cards.splice(i,1);_this.transitionToRoute("creditCards")}return $("input[type=submit]").prop("disabled",!1)},error:function(xhr,textStatus,error){return _this.get("controllers.application").toast(error,"error"),$("input[type=submit]").prop("disabled",!1)}})}})}.call(this),function(){App.CreditCardsController=App.BaseArrayController.extend({needs:["accountBalance","accountCoupon"],init:function(){return this._super(),this.get("controllers.application").log("credit cards controller initializing","App.CreditCardsController.init")},creditCardYears:null,loading:!0,getStripeCustomer:function(){var deferred;return deferred=Q.defer(),null!=this.get("controllers.application.currentUser.stripeId")?this.get("controllers.application.currentUser.stripeId").length>0?$.ajax({type:"GET",url:"/api/payment/customer/"+this.get("controllers.application.currentUser.stripeId"),success:function(data){return data.error?deferred.reject(data.error):deferred.resolve(data.customer)},error:function(xhr,textStatus,error){return deferred.reject(error)}}):deferred.reject("no stripe customer id"):deferred.reject("no stripe customer id"),deferred.promise},getCreditCards:function(){var deferred,_this=this;return deferred=Q.defer(),this.get("controllers.application").log("getting user credit cards","App.CreditCardsController.getCreditCards",this.get("content")),this.set("isLoading",!0),this.getStripeCustomer().then(function(customer){var creditCard,_i,_len,_ref;for(_this.set("controllers.application.currentUser.stripeCustomer",customer),_this.set("content",[]),_ref=customer.cards.data,_i=0,_len=_ref.length;_len>_i;_i++)creditCard=_ref[_i],_this.get("content").pushObject(_this.loadCreditCards(creditCard));return _this.set("isLoading",!1),deferred.resolve(_this.get("content"))}).fail(function(){return _this.set("isLoading",!1),deferred.resolve(null)}),deferred.promise},getCreditCard:function(id){var creditCard,deferred,_this=this;return deferred=Q.defer(),this.get("controllers.application").log("getting user credit card","App.CreditCardsController.getCreditCard",id),creditCard=this.get("content").find(function(item){return item.id===id}),null!=creditCard?deferred.resolve(creditCard):this.getCreditCards().then(function(){return creditCard=_this.get("content").find(function(item){return item.id===id}),null!=creditCard?deferred.resolve(creditCard):deferred.reject("card not found")}).fail(function(error){return deferred.reject(error)}),deferred.promise},loadCreditCards:function(creditCard){return this.get("controllers.application").log("loading creditCard into ember CreditCard","App.CreditCardsController.loadCreditCards",creditCard),App.CreditCard.create({id:creditCard.id,last4:creditCard.last4,type:creditCard.type,month:creditCard.exp_month,year:creditCard.exp_year,customerId:creditCard.customer,name:creditCard.name,zip:creditCard.address_zip,number:"",cvc:""})},getCreditCardYears:function(){var maxYear,year,_results;for(year=moment().year(),maxYear=year+10,this.set("creditCardYears",[]),_results=[];maxYear>year;)this.get("creditCardYears").pushObject(App.KeyValue.create({key:year,value:year})),_results.push(year++);return _results},validateCreditCard:function(ccInfo){return this.set("errorMessages",[]),Stripe.card.validateCardNumber(ccInfo.number)?Stripe.card.validateExpiry(ccInfo.month,ccInfo.year)?Stripe.card.validateCVC(ccInfo.cvc)?!0:(this.get("errorMessages").pushObject({message:"Invalid CVC number."}),!1):(this.get("errorMessages").pushObject({message:"Invalid date."}),!1):(this.get("errorMessages").pushObject({message:"Invalid card number."}),!1)}})}.call(this),function(){App.DealsController=App.BaseArrayController.extend({init:function(){return this._super,this.set("content",[]),this.get("content").pushObject(App.Deal.create({name:"$40 Washio Credit",description:"<b>$40</b> List price - <b>50%</b> off - Save <b>$20</b>",name2:"$40 Washio Credit: 50% Off",description2:"$20 gets you $40 of Washio Credit",amount:20,amountFormatted:"$20",couponAmount:4e3,countBought:137,isBestValue:!1})),this.get("content").pushObject(App.Deal.create({name:"$60 Washio Credit",description:"<b>$60</b> List price - <b>50%</b> off - Save <b>$30</b>",name2:"$60 Washio Credit: 50% Off",description2:"$30 gets you $60 of Washio Credit",amount:30,amountFormatted:"$30",couponAmount:6e3,countBought:204,isBestValue:!0})),this.set("selectedDeal",this.get("content")[0])},content:null,selectedDeal:null,saveDeal:function(token){var _this=this;return this.get("controllers.application").log("saving deal","App.ApplicationController.getCouponForCurrentUser"),this.validateDeal()?($("input[type=submit]").prop("disabled",!0),$(".loader").fadeIn(),$.ajax({type:"POST",url:"/api/deal",data:{email:token.email,amount:this.get("selectedDeal.amount"),couponAmount:this.get("selectedDeal.couponAmount"),stripeCardId:token.id},success:function(data){return data.error?($(".loader").fadeOut(),$("#dealsFail").modal("show")):($(".loader").fadeOut(),_this.get("controllers.application").mixpanelRevenue(_this.get("controllers.application.currentUser.id"),_this.get("selectedDeal.amount")),_this.get("controllers.application").mixpanel("Deal Purchased",{Coupon:data.coupon,UserId:_this.get("controllers.application.currentUser.id")}),$(".deals-hero, .cta-container, .deals-secondary, .desktop-countdown, .deals-reviews").fadeOut(),$(".deals-confirmation").fadeIn()),$("input[type=submit]").prop("disabled",!1)},error:function(xhr,textStatus,error){return _this.get("controllers.application").toast(error.message,"error"),$("input[type=submit]").prop("disabled",!1),$("loader").fadeOut()}})):this.get("controllers.application").toast(this.get("errorMessages")[0].message,"error")},validateDeal:function(){return this.get("controllers.application").log("validating deal","App.ApplicationController.validateDeal"),!0},shareFacebook:function(){var localUrl,opts,shareHeight,shareLeft,shareTop,shareWidth,url;return shareWidth=575,shareHeight=400,shareLeft=($(window).width()-shareWidth)/2,shareTop=($(window).height()-shareHeight)/2,localUrl=window.location.href.replace("/host",""),url="http://www.facebook.com/sharer.php?u="+encodeURIComponent(localUrl),opts="status=1,width="+shareWidth+",height="+shareHeight+",top="+shareTop+",left="+shareLeft,window.open(url,"facebook",opts)},shareTwitter:function(){var localUrl,message,opts,shareHeight,shareLeft,shareTop,shareWidth,url;return shareWidth=575,shareHeight=400,shareLeft=($(window).width()-shareWidth)/2,shareTop=($(window).height()-shareHeight)/2,message="Washio is having a limited time sale, check it out!",localUrl=window.location.href.replace("/host",""),url="https://twitter.com/share?text="+message+"&url="+encodeURIComponent(localUrl),opts="status=1,width="+shareWidth+",height="+shareHeight+",top="+shareTop+",left="+shareLeft,window.open(url,"twitter",opts)}})}.call(this),function(){App.ForgotPasswordController=App.BaseObjectController.extend({init:function(){return this._super,this.get("controllers.application").log("forgot password controller initializing","App.ForgotPasswordController.init")},requestPasswordReset:function(){var _this=this;return this.validateEmail()?Parse.User.requestPasswordReset(this.get("content.email"),{success:function(){return _this.get("controllers.application").toast("Password reset information successfully sent to "+_this.get("content.email")),_this.transitionToRoute("index")
},error:function(error){var errorMessage;return errorMessage="An unknown error occurred. Please try again.",null!=error.message&&error.message.length>0&&(errorMessage=error.message),_this.get("controllers.application").toast(errorMessage,"error")}}):this.get("controllers.application").toast("Invalid email. Please try again.","error")},validateEmail:function(){return!0}})}.call(this),function(){App.GiftCardCompleteController=App.BaseObjectController.extend({init:function(){return this._super,this.get("controllers.application").log("gift card complete controller initializing","App.GiftCardCompleteController.init")}})}.call(this),function(){App.GiftCardController=App.BaseObjectController.extend({needs:["creditCards"],hasMultipleCreditCards:null,hasCreditCard:null,init:function(){return this._super,this.get("controllers.application").log("gift card controller initializing","App.GiftCardController.init")},showIndex:function(){return this.transitionToRoute("index")},saveGiftCard:function(){var _this=this;return this.get("controllers.application").log("saving gift card","App.GiftCardController.saveGiftCard"),"Other"!==$("input[name=amount]:checked").val()&&this.set("content.amount",$("input[name=amount]:checked").val()),this.validateGiftCard()?($("input[type=submit]").prop("disabled",!0),$.ajax({type:"POST",url:"/api/giftcard",data:{recipientName:this.get("content.recipientName"),recipientEmail:this.get("content.recipientEmail"),amount:this.get("content.amount"),message:this.get("content.message"),userId:this.get("controllers.application.currentUser.id"),stripeId:this.get("controllers.application.currentUser.stripeId"),stripeCardId:this.get("content.creditCard.id")},success:function(data){return data.error?_this.get("controllers.application").toast(data.error,"error"):(_this.get("controllers.application").mixpanelRevenue(_this.get("controllers.application.currentUser.id"),_this.get("content.amount")),_this.get("controllers.application").mixpanel("Gift Card Purchased",{Coupon:data.coupon,UserId:_this.get("controllers.application.currentUser.id")}),_this.transitionToRoute("giftCardComplete")),$("input[type=submit]").prop("disabled",!1)},error:function(xhr,textStatus,error){return _this.get("controllers.application").toast(error.message,"error"),$("input[type=submit]").prop("disabled",!1)}})):this.get("controllers.application").toast(this.get("errorMessages")[0].message,"error")},validateGiftCard:function(){return this.get("controllers.application").log("validating gift card info","App.GiftCardController.validateGiftCard"),this.set("errorMessages",[]),null==this.get("content.recipientName")?(this.get("errorMessages").pushObject({message:"Please enter the recipient's name."}),!1):1>=this.get("content.recipientName").length?(this.get("errorMessages").pushObject({message:"Please enter the recipient's name."}),!1):this.get("content.recipientName").length>60?(this.get("errorMessages").pushObject({message:"Recipient's name should be less than 60 characters."}),!1):null==this.get("content.recipientEmail")?(this.get("errorMessages").pushObject({message:"Please enter your email."}),!1):this.validateEmail(this.get("content.recipientEmail"))?null==this.get("content.amount")?(this.get("errorMessages").pushObject({message:"Please enter a valid amount."}),!1):this.isNumber(this.get("content.amount"))?!0:(this.get("errorMessages").pushObject({message:"Please enter a valid amount."}),!1):(this.get("errorMessages").pushObject({message:"Please enter a valid email."}),!1)},validateEmail:function(email){var regex;return regex=/\S+@\S+\.\S+/,regex.test(email)},isNumber:function(){return!0}})}.call(this),function(){App.HelpController=App.BaseController.extend({init:function(){return this._super,this.get("controllers.application").log("help controller initializing","App.HelpController.init")},showHowItWorks:function(){return this.transitionToRoute("helpHow")}})}.call(this),function(){App.HelpHowController=App.HelpController.extend({needs:["nanigans","application"],init:function(){return this._super,this.get("controllers.application").log("help controller initializing","App.HelpController.init")},hideOnboarding:function(){return $(".how-it-works").fadeOut(),this.get("controllers.application.isLoggedIn")?this.transitionToRoute("help"):this.transitionToRoute("signin")},getStarted:function(){return $(".how-it-works").fadeOut(),this.transitionToRoute("order")},trackUserLanding:function(){var _this=this;return this.get("controllers.nanigans").trackLanding().then(function(data){return console.log("-----------------------------------------"),console.log("Landing successfully tracked for nanigans"),console.log("Data Recieved: "+JSON.stringify(data)),console.log("-----------------------------------------"),_this.get("controllers.application").log("landing successfully tracked for nanigans","App.HelpHowController.trackUserLanding")},function(error){return console.log("--------------------------------------------------------------"),console.log("An error occurred while trying to track landing for nanigans."),console.log("Data Recieved: "+JSON.stringify(error)),console.log("--------------------------------------------------------------"),_this.get("controllers.application").log("an error occurred while trying to track landing for nanigans.","App.HelpHowController.trackUserLanding",error)})}})}.call(this),function(){App.IndexController=App.BaseController.extend({init:function(){return this._super,this.get("controllers.application").log("index controller initializing","App.IndexController.init")}})}.call(this),function(){App.NanigansController=App.BaseController.extend({init:function(){return this._super,this.get("controllers.application").log("nanigans controller initializing","App.NanigansController.init")},getUserId:function(){var userId;return userId=null!=this.get("controllers.application.currentUser")?null!=this.get("controllers.application.currentUser.id")?this.get("controllers.application.currentUser.id"):"":""},trackLanding:function(){var deferred;return this.get("controllers.application").log("nanigans : track landing","App.NanigansController.trackLanding"),deferred=Q.defer(),$.ajax({type:"POST",url:"/api/nanigans/trackLanding",data:{user_id:this.getUserId(),nan_pid:this.get("controllers.application.nanigansTrackingId")},success:function(data){return deferred.resolve(data)},error:function(xhr,textStatus,error){return deferred.reject(error)}}),deferred.promise},trackRegistration:function(){var deferred;return this.get("controllers.application").log("nanigans : track registration","App.NanigansController.trackRegistration"),deferred=Q.defer(),$.ajax({type:"POST",url:"/api/nanigans/trackRegistration",data:{user_id:this.getUserId(),nan_pid:this.get("controllers.application.nanigansTrackingId")},success:function(data){return deferred.resolve(data)},error:function(xhr,textStatus,error){return deferred.reject(error)}}),deferred.promise},trackPlacedOrder:function(){var deferred;return this.get("controllers.application").log("nanigans : track placing order","App.NanigansController.trackPlacedOrder"),deferred=Q.defer(),$.ajax({type:"POST",url:"/api/nanigans/trackPlacedOrder",data:{user_id:this.getUserId(),nan_pid:this.get("controllers.application.nanigansTrackingId")},success:function(data){return deferred.resolve(data)},error:function(xhr,textStatus,error){return deferred.reject(error)}}),deferred.promise}})}.call(this),function(){App.NavigationController=App.BaseObjectController.extend({needs:["signin","accountCoupon"],contentBinding:"controllers.application.currentUser.coupon",init:function(){return this._super,this.get("controllers.application").log("navigation controller initializing","App.NavigationController.init")},back:function(){return this.transitionToRoute(this.get("content.backRoute"))},hideOnboarding:function(){return $(".how-it-works").fadeOut()}})}.call(this),function(){App.OrderCompleteController=App.BaseObjectController.extend({needs:["orders"],init:function(){return this._super(),this.get("controllers.application").log("order complete controller initializing","App.OrderCompleteController.init")},orderLines:null,orderRating:null,total:null,actions:{submitRating:function(){this.get("controllers.application").log("submitting rating","App.OrderCompleteController.submitRating"),this.get("orderRating.score")>3?this.saveOrderRating():null!=this.get("orderRating.note")?this.get("orderRating.note").length>0?this.saveOrderRating():this.get("controllers.application").toast("Please let us know how we can help.","warning"):this.get("controllers.application").toast("Please let us know how we can help.","warning")}},saveOrderRating:function(){var _this=this;return this.get("controllers.application").log("saving order rating","App.OrderCompleteController.saveOrderRating"),$(".loader").fadeIn(),$.ajax({type:"POST",url:"/api/orders/rating/"+this.get("content.id"),data:{score:parseInt(this.get("orderRating.score")),note:this.get("orderRating.note")},success:function(){return _this.get("controllers.application").mixpanel("Order - Rating",{OrderId:_this.get("content.id"),UserId:_this.get("controllers.application.currentUser.id"),UserEmail:_this.get("controllers.application.currentUser.email"),Rating:parseInt(_this.get("orderRating.score"))}),_this.get("controllers.application").toast("Thanks for the order!"),_this.transitionToRoute("index"),$(".loader").fadeOut()},error:function(){return _this.get("controllers.application").toast("An unknown error has occurred. Please try again.","error"),$(".loader").fadeOut()}})},getWash:function(washId){var OrderLineItem,promise,query,_this=this;return this.get("controllers.application").log("getting wash","App.OrderCompleteController.getWash",washId),promise=new Parse.Promise,OrderLineItem=Parse.Object.extend("OrderLineItem"),query=new Parse.Query(OrderLineItem),query.equalTo("wash",{__type:"Pointer",className:"Wash",objectId:washId}),query.include(["item"]),query.find({success:function(data){var orderLine,parseOrder,_i,_len;for(_this.setProperties({orderLines:[],content:App.Wash.create({id:washId})}),_this.set("total",0),_i=0,_len=data.length;_len>_i;_i++)parseOrder=data[_i],orderLine=_this.loadOrderLine(parseOrder),_this.set("total",parseFloat(_this.get("total"))+parseFloat(orderLine.get("total"))),_this.get("orderLines").pushObject(orderLine);return _this.set("total",parseFloat(_this.get("total")).toFixed(2)),promise.resolve(_this.get("orderLines"))},error:function(error){return _this.get("controllers.application").log("error retrieving drivers","App.OrderCompleteController.getWash",error),_this.set("isLoading",!1),promise.reject(error)}})},loadOrderLine:function(parseOrderLine){return this.get("controllers.application").log("loading parseOrderLine into ember order","App.OrderCompleteController.loadOrderLine",parseOrderLine),App.OrderLine.create({id:parseOrderLine.id,item:App.Item.create({id:parseOrderLine.attributes.item.id,title:parseOrderLine.attributes.item.attributes.title,price:parseOrderLine.attributes.item.attributes.price,category:parseOrderLine.attributes.item.attributes.category,city:parseOrderLine.attributes.item.attributes.city.attributes.city,imageUrl:parseOrderLine.attributes.item.attributes.image_url,isPerPound:parseOrderLine.attributes.item.attributes.is_per_pound,ordinalValue:parseOrderLine.attributes.item.attributes.ordinal_value,isActive:parseOrderLine.attributes.item.attributes.is_active,isVisibleToCustomer:parseOrderLine.attributes.item.attributes.is_visible_to_customer}),price:parseOrderLine.attributes.price,quantity:parseOrderLine.attributes.quantity})}})}.call(this),function(){App.OrderController=App.BaseObjectController.extend({needs:["addresses","orderStatus","orderRecurring","creditCards","nanigans","shift"],content:null,availableTimesLookup:null,dateDisplaysLookup:null,timeDisplaysLookup:null,pickupDates:null,pickupTimes:null,dropOffDates:null,dropOffTimes:null,orderDates:null,pickupDate:null,pickupTime:null,dropOffDate:null,dropOffTime:null,isInitialLoading:null,hasMultipleCreditCards:null,hasCreditCard:null,recurring:null,selectedRecurring:null,hasRecurring:null,hasAddress:function(){return null!=this.get("content.address")?!0:!1}.property("content.address"),hasCompleteProfile:function(){var field,user,_i,_len,_ref;if(user=this.get("controllers.application.currentUser"),!user)return!1;for(_ref=["firstName","lastName","phone","email"],_i=0,_len=_ref.length;_len>_i;_i++)if(field=_ref[_i],!user.get(field)||!user.get(field).length)return!1;return!0}.property("controllers.application.currentUser"),isServiced:null,addressChanged:function(){var _this=this;return this.get("controllers.application").log("address changed","App.OrderController.addressChanged"),this.get("isLoading")?void 0:(this.getDates(),this.get("controllers.orderRecurring").getOrderRecurring(this.get("content.address.id")).then(function(orderRecurring){return null!=orderRecurring?_this.set("hasRecurring",!0):_this.set("hasRecurring",!1)}))}.observes("content.address"),pickupDateChanged:function(){var _this=this;return this.get("controllers.application").log("pickup day changed","App.OrderController.pickupDayChanged"),this.get("isLoading")?void 0:(this.set("pickupTimes",Ember.makeArray()),Object.keys(this.get("availableTimesLookup")[this.get("pickupDate.key")]).forEach(function(timeKey){return _this.get("pickupTimes").pushObject(App.KeyValue.create({key:timeKey,value:_this.get("timeDisplaysLookup")[timeKey].longTime}))}),this.set("pickupTime",this.get("pickupTimes")[0]))}.observes("pickupDate"),pickupTimeChanged:function(){var _this=this;return this.get("controllers.application").log("pickup time changed","App.OrderController.pickupTimeChanged"),this.get("isLoading")?void 0:(this.set("dropOffDates",Ember.makeArray()),Object.keys(this.get("availableTimesLookup")[this.get("pickupDate.key")][this.get("pickupTime.key")]).forEach(function(dateKey){return _this.get("dropOffDates").pushObject(App.KeyValue.create({key:dateKey,value:_this.get("dateDisplaysLookup")[dateKey].shortDay}))}),this.set("dropOffDate",this.get("dropOffDates")[0]))}.observes("pickupTime"),dropOffDayChanged:function(){var time,_i,_len,_ref;if(this.get("controllers.application").log("drop off day changed","App.OrderController.dropOffDayChanged"),!this.get("isLoading")){for(this.set("dropOffTimes",Ember.makeArray()),_ref=this.get("availableTimesLookup")[this.get("pickupDate.key")][this.get("pickupTime.key")][this.get("dropOffDate.key")],_i=0,_len=_ref.length;_len>_i;_i++)time=_ref[_i],this.get("dropOffTimes").pushObject(App.KeyValue.create({key:time,value:this.get("timeDisplaysLookup")[time].longTime}));return this.set("dropOffTime",this.get("dropOffTimes")[0])}}.observes("dropOffDate"),getDates:function(){var _this=this;return this.get("controllers.application").log("populating times for the selected zip code","App.OrderController.getDates"),null!=this.get("content.address")&&null!=this.get("content.address.zip")?(this.set("isLoading",!0),$.ajax({type:"GET",url:"/api/v2/orders/times/byzip/"+this.get("content.address.zip"),success:function(data){return _this.setProperties({availableTimesLookup:data.availableTimes,dateDisplaysLookup:data.dateDisplays,timeDisplaysLookup:data.timeDisplays}),null!=data.availableTimes?(_this.set("pickupDates",Ember.makeArray()),Object.keys(data.availableTimes).forEach(function(dayDateKey){return _this.get("pickupDates").pushObject(App.KeyValue.create({key:dayDateKey,value:_this.get("dateDisplaysLookup")[dayDateKey].shortDay}))}),_this.setProperties({isLoading:!1,pickupDate:_this.get("pickupDates")[0],isServiced:!0})):_this.setProperties({isLoading:!1,isServiced:!1})},error:function(){return _this.get("controllers.application").toast("Error retrieving valid dates.","error")}})):void 0},hasDates:function(data){return null!=data&&null!=data.days&&data.days.length>0?!0:!1},order:function(){var dropOffDateTime,dropoffTimezoneAbbr,dropoffTimezoneOffset,emailDisplayValues,pickupDateTime,pickupTimezoneAbbr,pickupTimezoneOffset,recurrence,timeZone,_this=this;return this.get("controllers.application").log("saving order","App.OrderController.order"),$(".loader").fadeIn(),$("#order-button").attr("disabled",!0).addClass("primary"),timeZone=this.get("content.address.timezone"),pickupTimezoneOffset=moment.tz(this.get("pickupDate.keyT"+this.get("pickupTime.key")+":00"),timeZone).format("Z"),dropoffTimezoneOffset=moment.tz(this.get("dropOffDate.keyT"+this.get("dropOffTime.key")+":00"),timeZone).format("Z"),pickupDateTime=this.get("pickupDate.key")+"T"+this.get("pickupTime.key")+":00"+pickupTimezoneOffset,dropOffDateTime=this.get("dropOffDate.key")+"T"+this.get("dropOffTime.key")+":00"+dropoffTimezoneOffset,pickupTimezoneAbbr=moment.tz(pickupDateTime,timeZone).zoneAbbr(),dropoffTimezoneAbbr=moment.tz(dropOffDateTime,timeZone).zoneAbbr(),console.log("Pickup Info: "+pickupDateTime+" "+pickupTimezoneAbbr),console.log("Dropoff Info: "+dropOffDateTime+" "+dropoffTimezoneAbbr),emailDisplayValues={pickup:moment.tz(pickupDateTime,this.get("content.address.timezone")).format("M/D/YY h:mm a")+" "+pickupTimezoneAbbr,dropoff:moment.tz(dropOffDateTime,this.get("content.address.timezone")).format("M/D/YY h:mm a")+" "+dropoffTimezoneAbbr},recurrence=this.get("hasRecurring")?0:this.get("selectedRecurring.days"),$.ajax({type:"POST",url:"/api/orders",data:{addressId:this.get("content.address.id"),zip:this.get("content.address.zip"),stripeCardId:this.get("content.creditCard.id"),pickupDateTime:pickupDateTime,pickupTime:this.get("pickupTime.key"),dropOffDateTime:dropOffDateTime,dropOffTime:this.get("dropOffTime.key"),notes:this.get("content.customerSpecialInstructions"),nanigansTrackingId:this.get("controllers.application.nanigansTrackingId"),isFreeAndClear:this.get("content.isFreeAndClear"),display:emailDisplayValues,recurrence:recurrence},success:function(data){return data.error?(_this.get("controllers.application").toast(data.error,"error"),$(".loader").fadeOut()):(_this.get("controllers.application").mixpanel("Order - Placed",{OrderId:data.order.id,UserId:_this.get("controllers.application.currentUser.id"),UserEmail:_this.get("controllers.application.currentUser.email")}),_this.trackUserPlacedOrder(),_this.get("controllers.application").mixpanelIncrementProperty("OrdersPlaced"),_this.transitionToRoute("orderStatus",data.order.id),$(".loader").fadeOut()),$("#order-button").removeAttr("disabled").addClass("primary")},error:function(xhr,textStatus,error){return _this.get("controllers.application").toast(error.message,"error"),$("#order-button").removeAttr("disabled").addClass("primary"),$(".loader").fadeOut()}})},trackUserPlacedOrder:function(){var _this=this;return this.get("controllers.nanigans").trackPlacedOrder().then(function(data){return console.log("---------------------------------------------"),console.log("Place order successfully tracked for nanigans"),console.log("Data Recieved: "+JSON.stringify(data)),console.log("---------------------------------------------"),_this.get("controllers.application").log("Place order successfully tracked for nanigans","App.OrderController.trackUserPlacedOrder")},function(error){return console.log("-----------------------------------------------------------------"),console.log("An error occurred while trying to track place order for nanigans."),console.log("Data Recieved: "+JSON.stringify(error)),console.log("-----------------------------------------------------------------"),_this.get("controllers.application").log("an error occurred while trying to track place order for nanigans.","App.OrderController.trackUserPlacedOrder",error)})},loadOrderDate:function(day){var dropOffDate,dropOffDay,orderDate,time,timezone,_i,_j,_k,_l,_len,_len1,_len2,_len3,_len4,_m,_ref,_ref1,_ref2,_ref3,_ref4;if(this.get("controllers.application").log("loading date into ember OrderDate","App.OrderController.loadOrderDate"),timezone=day.timezone,orderDate=App.OrderDate.create({timezone:day.timezone,day:day.day,times:Ember.makeArray(),dropOffMorningDays:Ember.makeArray(),dropOffAfternoonDays:Ember.makeArray()}),day.times){for(_ref=day.times,_i=0,_len=_ref.length;_len>_i;_i++)time=_ref[_i],orderDate.get("times").pushObject(App.OrderTime.create({time:time.time,isMorning:time.isMorning}));if(null!=day.dropOffMorningDays)for(_ref1=day.dropOffMorningDays,_j=0,_len1=_ref1.length;_len1>_j;_j++){for(dropOffDay=_ref1[_j],dropOffDate=App.OrderDate.create({timezone:timezone,day:dropOffDay.day,times:Ember.makeArray()}),_ref2=dropOffDay.times,_k=0,_len2=_ref2.length;_len2>_k;_k++)time=_ref2[_k],dropOffDate.get("times").pushObject(App.OrderTime.create({time:time.time,isMorning:time.isMorning}));orderDate.get("dropOffMorningDays").pushObject(dropOffDate)}if(null!=day.dropOffAfternoonDays)for(_ref3=day.dropOffAfternoonDays,_l=0,_len3=_ref3.length;_len3>_l;_l++){for(dropOffDay=_ref3[_l],dropOffDate=App.OrderDate.create({timezone:timezone,day:dropOffDay.day,times:Ember.makeArray()}),_ref4=dropOffDay.times,_m=0,_len4=_ref4.length;_len4>_m;_m++)time=_ref4[_m],dropOffDate.get("times").pushObject(App.OrderTime.create({time:time.time,isMorning:time.isMorning}));orderDate.get("dropOffAfternoonDays").pushObject(dropOffDate)}return orderDate}return null},loadOrder:function(orderIn){return this.get("controllers.application").log("loading order","App.OrderController.loadOrder"),App.Wash.create({id:orderIn.id,address:this.get("controllers.addresses").loadAddressFromCache(orderIn.address),pickup:orderIn.pickup,pickupShift:this.get("controllers.shift").loadShiftFromCache(orderIn.pickupShiftActual),dropoff:orderIn.dropoff,dropoffShift:this.get("controllers.shift").loadShiftFromCache(orderIn.dropoffShiftActual),orderStatus:this.get("controllers.orderStatus").loadOrderStatusFromCache(orderIn.status),customerSpecialInstructions:orderIn.customerSpecialInstructions,adminSpecialInstructions:orderIn.adminSpecialInstructions,driverSpecialInstructions:orderIn.driverSpecialInstructions})}}),Date.prototype.addTime=function(h){var arr,hours,minutes;return arr=h.split(":"),hours=parseInt(arr[0]),minutes=parseInt(arr[1]),this.setHours(hours),this.setMinutes(minutes),this}}.call(this),function(){App.OrderDetailController=App.BaseObjectController.extend({needs:["orders"],getOrderDetail:function(orderId){var deferred,_this=this;return this.get("controllers.application").log("retrieving order: "+orderId,"App.OrderDetailController.getOrderDetail"),deferred=Q.defer(),this.setProperties({content:null,isLoading:!0}),$.ajax({type:"GET",url:"/api/orders/invoice/"+orderId,success:function(data){var invoice,line,lineItem,_i,_len,_ref;if(null!=data){for(data=data.order,invoice=App.Invoice.create({id:data.id,order:App.Wash.create({id:data.order.id}),invoiceDate:data.order.dropoff,isRefund:data.isRefund,couponDiscount:data.couponDiscount,invoiceDiscount:App.InvoiceDiscount.create({id:data.invoiceDiscount.id,amount:data.invoiceDiscount.amount,percent:data.invoiceDiscount.percent,isPercent:data.invoiceDiscount.isPercent,description:data.invoiceDiscount.description}),invoiceLines:Ember.makeArray(),subtotal:data.invoiceTotals.subtotal,discount:data.invoiceTotals.discount,couponDiscount:data.invoiceTotals.couponDiscount,total:data.invoiceTotals.total}),_ref=data.invoiceLines,_i=0,_len=_ref.length;_len>_i;_i++)line=_ref[_i],lineItem=App.InvoiceLine.create({id:line.id,item:App.Item.create({id:line.item.id,title:line.item.title,category:App.ItemCategory.create({id:line.item.category.objectI,title:line.item.category.id})}),price:line.price,quantity:line.quantity}),invoice.invoiceLines.pushObject(lineItem);_this.setProperties({content:invoice,isLoading:!1})}else _this.setProperties({content:null,isLoading:!1});return deferred.resolve(_this.get("content"))},error:function(error){return _this.get("controllers.application").log("error retrieving user information","App.OperationsWidgetUserController.getUser",error),_this.setProperties({content:null,isLoading:!1}),deferred.reject(error)}}),deferred.promise}})}.call(this),function(){App.OrderHistoryController=App.BaseObjectController.extend({needs:["orders"],getOrderHistory:function(id){var deferred,_this=this;return this.get("controllers.application").log("retrieving user: "+id,"App.OrderHistoryController.getUser"),deferred=Q.defer(),this.setProperties({content:null,isLoading:!0}),$.ajax({type:"GET",url:"/api/user/orders/"+id,success:function(data){var order,orderSummary,user,_i,_len,_ref;if(null!=data&&null!=data.objectId){for(user=App.User.create({id:data.objectId,username:data.username,firstName:data.first_name,lastName:data.last_name,email:data.email,phone:data.phone,summary:App.UserSummary.create({invoiceLinesTotals:data.summary.invoiceLinesTotals,invoiceDiscounts:data.summary.invoiceDiscounts,couponDiscounts:data.summary.couponDiscounts,total:data.summary.total}),orderSummaries:[]}),_ref=data.orders,_i=0,_len=_ref.length;_len>_i;_i++)order=_ref[_i],("Customer billed"===order.order_status||"Customer refunded"===order.order_status)&&(orderSummary=App.OrderSummary.create({id:order.objectId,orderDate:order.createdAt,status:order.order_status,invoiceLinesTotal:order.invoiceLinesTotal,invoiceDiscount:order.invoiceDiscount,couponDiscount:order.couponDiscount,total:order.total,rating:order.rating,ratingComment:order.ratingNotes,adminSpecialInstructions:order.adminSpecialInstructions,customerSpecialInstructions:order.customerSpecialInstructions}),user.orderSummaries.pushObject(orderSummary));user.orderSummaries.length>0?_this.setProperties({content:user,isLoading:!1}):_this.setProperties({content:null,isLoading:!1})}else _this.setProperties({content:null,isLoading:!1});return deferred.resolve(_this.get("content"))},error:function(error){return _this.get("controllers.application").log("error retrieving user information","App.OperationsWidgetUserController.getUser",error),_this.setProperties({content:null,isLoading:!1}),deferred.reject(error)}}),deferred.promise}})}.call(this),function(){App.OrderRecurringController=App.BaseObjectController.extend({getOrderRecurringValues:function(){var recurring;return recurring=Ember.makeArray(),recurring.pushObject(App.OrderRecurringLookup.create({days:0,friendlyName:"One Time Only",checked:!1})),recurring.pushObject(App.OrderRecurringLookup.create({days:7,friendlyName:"Every week",checked:!1})),recurring.pushObject(App.OrderRecurringLookup.create({days:14,friendlyName:"Every other week",checked:!0})),recurring.pushObject(App.OrderRecurringLookup.create({days:21,friendlyName:"Every 3 Weeks",checked:!1})),recurring.pushObject(App.OrderRecurringLookup.create({days:28,friendlyName:"Every 4 Weeks",checked:!1})),recurring},cancelRecurring:function(id){var deferred,_this=this;return this.get("controllers.application").log("cancel recurring order information for an address","App.OrderRecurringController.cancelRecurring"),deferred=Q.defer(),$.ajax({type:"DELETE",url:"/api/orders/recurring/"+id,success:function(data){return deferred.resolve(data)},error:function(xhr,textStatus,error){return _this.get("controllers.application").toast("Error saving recurring orders.","error"),deferred.reject(error)}}),deferred.promise},saveOrderRecurring:function(data){var deferred,_this=this;return this.get("controllers.application").log("saving recurring order information for an address","App.OrderRecurringController.saveOrderRecurring"),deferred=Q.defer(),$.ajax({type:"POST",url:"/api/orders/recurring",data:{addressId:data.addressId,pickupDateTime:data.pickupDateTime,pickupTime:data.pickupTime,dropOffDateTime:data.dropOffDateTime,dropOffTime:data.dropOffTime,recurrence:data.recurrence},success:function(data){return deferred.resolve(data)},error:function(xhr,textStatus,error){return _this.get("controllers.application").toast("Error saving recurring orders.","error"),deferred.reject(error)}}),deferred.promise},getOrderRecurring:function(addressId){var deferred,_this=this;return this.get("controllers.application").log("getting recurring order information for a user","App.OrderRecurringController.getOrderRecurring"),deferred=Q.defer(),null!=addressId?(this.setProperties({isLoading:!0,content:null}),$.ajax({type:"GET",url:"/api/orders/recurring/byaddressid/"+addressId,success:function(data){return null!=data?null!=data.orderRecurring?_this.set("content",data.orderRecurring):_this.set("content",null):_this.set("content",null),_this.set("isLoading",!1),deferred.resolve(_this.get("content"))},error:function(xhr,textStatus,error){return _this.get("controllers.application").toast("Error retrieving recurring orders.","error"),deferred.reject(error)}})):deferred.resolve(null),deferred.promise}})}.call(this),function(){App.OrderStatusController=App.BaseObjectController.extend({needs:["addresses","shift","order"],isInitialLoading:null,content:null,init:function(){return this._super,this.get("controllers.application").log("order status controller initializing","App.OrderStatusController.init")},orderComplete:function(){return this.transitionToRoute("orderComplete",this.get("content.id"))},getOrder:function(orderId){var deferred,_this=this;return this.get("controllers.application").log("getting order","App.OrderStatusController.getWash",orderId),deferred=Q.defer(),this.set("isLoading",!0),$.ajax({type:"GET",url:"/api/order/"+orderId,success:function(data){return null!=data.order&&_this.set("content",_this.get("controllers.order").loadOrder(data.order)),_this.set("isLoading",!1),deferred.resolve(data.order)},error:function(xhr,textStatus,error){return _this.set("isLoading",!1),deferred.reject(error)}}),deferred.promise},cancelOrder:function(){var _this=this;return this.get("controllers.application").log("cancel order","App.OrderStatusController.cancelOrder"),$(".loader").fadeIn(),$("#editOrderCancel").modal("hide"),$.ajax({type:"POST",url:"/api/orders/cancel/"+this.get("content.id"),data:{userId:this.get("controllers.application.currentUser.id")},success:function(){return _this.get("controllers.application").toast("Order successfully cancelled"),$(".loader").fadeOut(),_this.transitionTo("order"),_this.get("controllers.application").mixpanel("Order - Cancelled",{OrderId:_this.get("content.id"),UserId:_this.get("controllers.application.currentUser.id")})},error:function(error){return _this.get("controllers.application").toast(error.message,"error"),$(".loader").fadeOut()}})},loadOrderStatusFromParse:function(parseOrderStatus){return this.get("controllers.application").log("loading order status","App.OrderStatusController.loadOrderStatusFromParse",parseOrderStatus),App.OrderStatus.create({id:parseOrderStatus.id,status:parseOrderStatus.attributes.status,statusClient:parseOrderStatus.attributes.status_client,statusLookup:parseOrderStatus.attributes.status_lookup,ordinalValue:parseOrderStatus.attributes.ordinal_value,ordinalValueClient:parseOrderStatus.attributes.ordinal_value_client,isInternalOnly:parseOrderStatus.attributes.is_internal_only,isComplete:parseOrderStatus.attributes.is_complete,isManuallyChangeable:parseOrderStatus.attributes.is_manually_changeable,isClientPickup:parseOrderStatus.attributes.is_client_pickup})},loadOrderStatusFromCache:function(cacheOrderStatus){return this.get("controllers.application").log("loading order status","App.OrderStatusController.loadOrderStatusFromParse",cacheOrderStatus),App.OrderStatus.create({id:cacheOrderStatus.id,status:cacheOrderStatus.status,statusClient:cacheOrderStatus.statusClient,statusLookup:cacheOrderStatus.statusLookup,ordinalValue:cacheOrderStatus.ordinalValue,ordinalValueClient:cacheOrderStatus.ordinalValueClient,isInternalOnly:cacheOrderStatus.isInternalOnly,isComplete:cacheOrderStatus.isComplete,isManuallyChangeable:cacheOrderStatus.isManuallyChangeable,isClientPickup:cacheOrderStatus.isClientPickup})}})}.call(this),function(){App.OrdersController=App.BaseObjectController.extend({needs:["addresses","orderStatus","shift"],getOrderForCurrentUser:function(){var UserAddress,Wash,innerQuery,promise,query,_this=this;return this.get("controllers.application").log("getting order that is live for the current user","App.OrdersController.getOrderForCurrentUser"),promise=new Parse.Promise,UserAddress=Parse.Object.extend("UserAddress"),innerQuery=new Parse.Query(UserAddress),innerQuery.equalTo("user",{__type:"Pointer",className:"_User",objectId:this.get("controllers.application.currentUser.id")}),Wash=Parse.Object.extend("Wash"),query=new Parse.Query(Wash),query.matchesQuery("address",innerQuery),query.descending("createdAt"),query.include(["order_status","pickupShift.location_area.city","dropoffShift.location_area.city"]),query.first({success:function(parseOrder){return null!=parseOrder?promise.resolve(_this.loadWashFromParse(parseOrder)):promise.resolve(null)
},error:function(error){return promise.reject(error)}}),promise},getOrderRating:function(orderId){var OrderRating,promise,query;return this.get("controllers.application").log("getting order rating for an order","App.OrdersController.getOrderRating"),promise=new Parse.Promise,OrderRating=Parse.Object.extend("OrderRating"),query=new Parse.Query(OrderRating),query.equalTo("wash",{__type:"Pointer",className:"Wash",objectId:orderId}),query.first({success:function(parseOrderRating){return null!=parseOrderRating?promise.resolve(parseOrderRating):promise.resolve(null)},error:function(error){return promise.reject(error)}}),promise},loadWash:function(parseWash){return this.get("controllers.application").log("loading wash","App.AddressesController.loadWash",parseWash),App.Wash.create({id:parseWash.id,pickup:parseWash.attributes.pickup,dropoff:parseWash.attributes.dropoff,address:parseWash.attributes.address})},loadWashFromParse:function(parseWash){return this.get("controllers.application").log("getting wash","App.OrderStatusController.getWashFromParse",parseWash),App.Wash.create({id:parseWash.id,address:this.get("controllers.addresses").loadAddress(parseWash.attributes.address),pickup:parseWash.attributes.pickup,pickupShift:this.get("controllers.shift").loadShift(parseWash.attributes.pickupShift),dropoff:parseWash.attributes.dropoff,dropoffShift:this.get("controllers.shift").loadShift(parseWash.attributes.dropoffShift),status:parseWash.attributes.status,orderStatus:this.loadOrderStatusFromParse(parseWash.attributes.order_status),customerSpecialInstructions:parseWash.attributes.customerSpecialInstructions,adminSpecialInstructions:parseWash.attributes.adminSpecialInstructions,driverSpecialInstructions:parseWash.attributes.driverSpecialInstructions})},loadOrderStatusFromParse:function(parseOrderStatus){return this.get("controllers.application").log("loading order status","App.OrderStatusController.loadOrderStatusFromParse",parseOrderStatus),App.OrderStatus.create({id:parseOrderStatus.id,status:parseOrderStatus.attributes.status,statusClient:parseOrderStatus.attributes.status_client,statusLookup:parseOrderStatus.attributes.status_lookup,ordinalValue:parseOrderStatus.attributes.ordinal_value,ordinalValueClient:parseOrderStatus.attributes.ordinal_value_client,isInternalOnly:parseOrderStatus.attributes.is_internal_only,isComplete:parseOrderStatus.attributes.is_complete,isManuallyChangeable:parseOrderStatus.attributes.is_manually_changeable})}})}.call(this),function(){App.PricesController=App.BaseArrayController.extend({needs:["cities","signin"],content:null,cities:null,selectedCity:null,itemDefaults:null,isPricesLoading:!1,init:function(){return this._super,this.get("controllers.application").log("prices controller initializing","App.PricesController.init")},selectedCityObserver:function(){var _this=this;return this.set("isPricesLoading",!0),this.getPrices(this.get("selectedCity.id")).then(function(){return _this.set("isPricesLoading",!1)})}.observes("selectedCity"),location:null,locationChanged:function(){var _this=this;return this.get("controllers.application").log("location changed","App.PricesController.locationChanged"),this.set("selectedCity",this.get("cities").find(function(item){return item.city===_this.get("location")}))}.observes("location"),getPrices:function(cityId){var deferred,_this=this;return this.get("controllers.application").log("getting prices for desired city","App.PricesController.getPrices"),deferred=Q.defer(),console.log(cityId),$.ajax({type:"GET",url:"/api/prices/bycity/"+cityId,success:function(data){var item,_i,_len,_ref;if(null!=data)for(_this.set("itemDefaults",App.ItemDefaults.create({deliveryFee:data.deliveryFee,deliverFeeMaximum:data.deliverFeeMaximum,orderMinimum:data.orderMinimum})),_this.set("content",[]),_ref=data.items,_i=0,_len=_ref.length;_len>_i;_i++)item=_ref[_i],item.isVisibleToCustomer&&_this.get("content").pushObject(_this.loadItem(item));return _this.set("isLoading",!1),Ember.run.later(_this,function(){return this.updateMixItUp()},500),deferred.resolve(data)},error:function(xhr,textStatus,error){return deferred.reject(error),_this.set("isLoading",!1)}})},getCities:function(){var deferred,_this=this;return this.get("controllers.application").log("getting prices for desired city","App.PricesController.getPrices"),deferred=Q.defer(),$.ajax({type:"GET",url:"/api/locations/cities",success:function(data){var city,_i,_len,_ref;if(null!=data)for(_this.set("cities",[]),_ref=data.cities,_i=0,_len=_ref.length;_len>_i;_i++)city=_ref[_i],city.is_active&&_this.get("cities").pushObject(_this.loadCity(city));return deferred.resolve(_this.get("cities"))},error:function(xhr,textStatus,error){return deferred.reject(error)}}),deferred.promise},loadItem:function(itemIn){var item;return this.get("controllers.application").log("loading parseItem into ember item","App.ItemsController.loadItem"),item=App.Item.create({id:itemIn.objectId,title:itemIn.title,price:itemIn.price,category:this.loadItemCategory(itemIn.category),city:this.get("controllers.cities").loadCityFromCache(itemIn.city),imageUrl:itemIn.imageUrl,isPerPound:itemIn.isPerPound,ordinalValue:itemIn.ordinalValue,isActive:itemIn.isActive,isVisibleToCustomer:itemIn.isVisibleToCustomer,notes:itemIn.notes,cssClass:itemIn.priceCssClass}),console.log(item),item},loadItemCategory:function(itemCategoryIn){var itemCategory;return this.get("controllers.application").log("loading parseItemCategory into ember item category","App.ItemCategoryController.loadItemCategory"),itemCategory=App.ItemCategory.create({id:itemCategoryIn.id,title:itemCategoryIn.title,imageUrl:itemCategoryIn.imageUrl,ordinalValue:itemCategoryIn.ordinalValue,isActive:itemCategoryIn.isActive})},updateMixItUp:function(){var $container,$matching,$search,inputText;return $container=$("#mixitup-container"),$search=$("#search-items"),inputText=void 0,$matching=$(),this.initMixitup($container),this.searchFilter($container,$search,$matching),this.changeGridLayout($container)},destroyMixitup:function(container){try{container.mixItUp("destroy")}catch(error){}},initMixitup:function(container){return this.destroyMixitup(container),container.mixItUp({load:{filter:".popular,.information"}})},searchFilter:function(container,input,array){return input.keydown(function(){setTimeout(function(){var inputText;inputText=input.val().toLowerCase(),inputText.length>0?($(".mix").each(function(){var $this;$this=$("this"),array=$(this).find(".item-text").text().toLowerCase().match(inputText)?array.add(this):array.not(this)}),container.mixItUp("filter",array)):container.mixItUp("filter","all")},0)})},changeGridLayout:function(container){var $changeLayoutGrid,$changeLayoutList,layout;return layout="grid",$changeLayoutGrid=$("#ChangeLayoutGrid"),$changeLayoutList=$("#ChangeLayoutList"),container.mixItUp({animation:{animateChangeLayout:!0,animateResizeTargets:!0,effects:"fade rotateX(-40deg) translateZ(-100px)"},layout:{containerClass:"grid"}}),$changeLayoutGrid.on("click",function(){layout=void 0,$changeLayoutGrid.hasClass("actionable")&&(console.log("grid clicked"),layout="grid",$changeLayoutGrid.removeClass("actionable"),$changeLayoutList.addClass("actionable"),container.mixItUp("changeLayout",{containerClass:layout}))}),$changeLayoutList.on("click",function(){$changeLayoutList.hasClass("actionable")&&(console.log("list clicked"),layout="list",$changeLayoutGrid.addClass("actionable"),$changeLayoutList.removeClass("actionable"),container.mixItUp("changeLayout",{containerClass:layout}))})}})}.call(this),function(){App.ReferenceController=Ember.ObjectController.extend({needs:["application"]})}.call(this),function(){App.RegisterAddressController=App.BaseObjectController.extend({needs:["addressAdd","addresses"],saveAddress:function(){var _this=this;return this.get("controllers.application").log("saving user address","App.RegisterAddressController.saveAddress",this.get("content")),this.get("controllers.addresses").validateAddress(this.get("content"))?($(".btn-next").text("Saving").prop("disabled",!0),$("button.register-button").removeClass("primary").addClass("inactive").prop("disabled",!0),this.get("controllers.addressAdd").addAddress(this.get("content"),function(address,error){return error?(_this.get("controllers.application").toast(_this.get("controllers.addressAdd.errorMessages")[0].message),$(".btn-next").text("Next"),$("button.register-button").removeClass("inactive").addClass("primary")):_this.transitionToRoute("registerCreditCard")})):(this.get("controllers.application").toast(this.get("controllers.addresses.errorMessages")[0].message,"error"),$(".btn-next").text("Next").prop("disabled",!1),$("button.register-button").removeClass("inactive").addClass("primary").prop("disabled",!1))}})}.call(this),function(){App.RegisterCompleteController=App.BaseController.extend({needs:["accountCoupon"],init:function(){return this._super()},shareFacebook:function(){var localUrl,opts,shareHeight,shareLeft,shareTop,shareWidth,url;return shareWidth=575,shareHeight=400,shareLeft=($(window).width()-shareWidth)/2,shareTop=($(window).height()-shareHeight)/2,localUrl=window.location.href.replace("/host",""),url="http://www.facebook.com/sharer.php?u="+encodeURIComponent(localUrl),opts="status=1,width="+shareWidth+",height="+shareHeight+",top="+shareTop+",left="+shareLeft,window.open(url,"facebook",opts)},shareTwitter:function(){var localUrl,message,opts,shareHeight,shareLeft,shareTop,shareWidth,url;return shareWidth=575,shareHeight=400,shareLeft=($(window).width()-shareWidth)/2,shareTop=($(window).height()-shareHeight)/2,message="getwashio.com coupon code: "+this.get("content.code"),localUrl=window.location.href.replace("/host",""),url="https://twitter.com/share?text="+message+"&url="+encodeURIComponent(localUrl),opts="status=1,width="+shareWidth+",height="+shareHeight+",top="+shareTop+",left="+shareLeft,window.open(url,"twitter",opts)}})}.call(this),function(){App.RegisterController=App.BaseObjectController.extend({needs:["signin","nanigans","accountCoupon"],init:function(){return this._super,this.get("controllers.application").log("register controller initializing","App.RegisterController.init")},register:function(){var parseUser,_this=this;return this.validateAccount(this.get("content"))?(this.get("controllers.application").log("attempting to register the user","App.RegisterController.register",this.content),$(".btn-next").text("Saving").prop("disabled",!0),$("button.register-button").removeClass("primary").addClass("inactive").prop("disabled",!0),parseUser=new Parse.User,parseUser.set("username",this.content.get("email").toLowerCase()),parseUser.set("email",this.content.get("email")),parseUser.set("password",this.content.get("password")),parseUser.set("first_name",this.content.get("firstName")),parseUser.set("last_name",this.content.get("lastName")),parseUser.set("phone",this.content.get("phone")),parseUser.signUp(null,{success:function(parseUser){var coupon;return _this.saveToCache("isNewUser",!0),coupon=App.Coupon.create({code:_this.content.get("firstName").toLowerCase()+_this.content.get("lastName").toLowerCase()}),_this.get("controllers.accountCoupon").createCoupon(coupon,parseUser.id),_this.get("controllers.application").setCurrentUser(parseUser),_this.trackUserRegistration(),_this.sendWelcomeEmail(parseUser.id),$("input[type=submit]").prop("disabled",!1),_this.transitionToRoute("registerAddress")},error:function(data,error){return $("input[type=submit]").prop("disabled",!1),_this.get("controllers.application").toast(error.message,"error"),_this.get("controllers.application").log("error registering","App.RegisterController.register",error)}})):(this.get("controllers.application").toast(this.get("errorMessages")[0].message,"error"),$(".btn-next").text("Next").prop("disabled",!1),$("button.register-button").removeClass("inactive").addClass("primary").prop("disabled",!1))},trackRegisterLanding:function(){var _this=this;return this.get("controllers.nanigans").trackLanding().then(function(data){return console.log("-----------------------------------------"),console.log("Register Landing successfully tracked for nanigans"),console.log("Data Recieved: "+JSON.stringify(data)),console.log("-----------------------------------------"),_this.get("controllers.application").log("landing successfully tracked for nanigans","App.RegisterController.trackUserLanding")},function(error){return console.log("--------------------------------------------------------------"),console.log("An error occurred while trying to track register landing for nanigans."),console.log("Data Recieved: "+JSON.stringify(error)),console.log("--------------------------------------------------------------"),_this.get("controllers.application").log("an error occurred while trying to track register landing for nanigans.","App.RegisterController.trackUserLanding",error)})},trackUserRegistration:function(){var _this=this;return this.get("controllers.nanigans").trackRegistration().then(function(data){return console.log("----------------------------------------------"),console.log("Registration successfully tracked for nanigans"),console.log("Data Recieved: "+JSON.stringify(data)),console.log("----------------------------------------------"),_this.get("controllers.application").log("registration successfully tracked for nanigans","App.RegisterController.trackUserRegistration")},function(error){return console.log("------------------------------------------------------------------"),console.log("An error occurred while trying to track registration for nanigans."),console.log("Data Recieved: "+JSON.stringify(error)),console.log("------------------------------------------------------------------"),_this.get("controllers.application").log("an error occurred while trying to track registration for nanigans.","App.RegisterController.trackUserRegistration",error)})},sendWelcomeEmail:function(userId){var deferred;return this.get("controllers.application").log("sending welcome email","App.RegisterController.sendWelecomeEmail"),deferred=Q.defer(),$.ajax({type:"POST",url:"/api/email/customer/welcome",data:{userId:userId},success:function(data){return deferred.resolve(data)},error:function(xhr,textStatus,error){return deferred.reject(error)}}),deferred.promise},validateAccount:function(account){return this.get("controllers.application").log("validating account","App.RegisterController.validateAccount"),this.set("errorMessages",[]),null==account.get("email")?(this.get("errorMessages").pushObject({message:"Please enter your email."}),!1):this.validateEmail(account.get("email"))?null==account.get("password")?(this.get("errorMessages").pushObject({message:"Please enter a password."}),!1):5>=account.get("password").length?(this.get("errorMessages").pushObject({message:"Password should be more than five characters."}),!1):null==account.get("firstName")?(this.get("errorMessages").pushObject({message:"Please enter your first name."}),!1):1>=account.get("firstName").length?(this.get("errorMessages").pushObject({message:"Please enter your first name."}),!1):account.get("firstName").length>60?(this.get("errorMessages").pushObject({message:"First name should be less than 60 characters."}),!1):null==account.get("lastName")?(this.get("errorMessages").pushObject({message:"Please enter your last name."}),!1):1>=account.get("lastName").length?(this.get("errorMessages").pushObject({message:"Please enter your last name."}),!1):account.get("lastName").length>60?(this.get("errorMessages").pushObject({message:"Last name should be less than 60 characters."}),!1):null==this.get("content.phone")?(this.get("errorMessages").pushObject({message:"Please enter your phone number."}),!1):this.validatePhone(account.get("phone"))?!0:(this.get("errorMessages").pushObject({message:"Please enter a valid phone number."}),!1):(this.get("errorMessages").pushObject({message:"Please enter a valid email."}),!1)},validateEmail:function(email){var regex;return regex=/\S+@\S+\.\S+/,regex.test(email)},validatePhone:function(phone){var digits,regex;return regex=/^[2-9]\d{2}[2-9]\d{2}\d{4}$/,digits=phone.replace(/\D/g,""),digits.match(regex)}})}.call(this),function(){App.RegisterCouponController=App.BaseObjectController.extend({needs:["accountCoupon"],init:function(){return this._super()},createCoupon:function(){var _this=this;return this.validateCoupon(this.get("content"))?($("input[type=submit]").prop("disabled",!0),this.get("controllers.accountCoupon").createCoupon(this.get("content")).then(function(coupon){return null!=coupon?(_this.set("controllers.application.currentUser.coupon",coupon),_this.transitionToRoute("registerComplete")):_this.get("controllers.application").toast("Unknown error.  Please try again.","error"),$("input[type=submit]").prop("disabled",!1)},function(error){return $("input[type=submit]").prop("disabled",!1),_this.get("controllers.application").toast(error,"error")})):void 0},validateCoupon:function(coupon){return this.get("controllers.application").log("validating coupon","App.RegisterCouponController.validateCoupon"),this.set("errorMessages",[]),null==coupon.get("code")?(this.get("errorMessages").pushObject({message:"Please name your coupon."}),!1):0===coupon.get("code").length?(this.get("errorMessages").pushObject({message:"Please name your coupon."}),!1):!0}})}.call(this),function(){App.RegisterCreditCardController=App.BaseObjectController.extend({needs:["creditCards","share","creditCardAdd"],init:function(){this._super()},actions:{saveCreditCard:function(){var _this=this;this.get("controllers.creditCards").validateCreditCard(this.get("content"))?($(".btn-next").text("Saving").prop("disabled",!0),$("button.register-button").removeClass("primary").addClass("inactive").prop("disabled",!0),this.get("controllers.creditCardAdd").addCreditCard(this.get("content")).then(function(){return $("input[type=submit]").prop("disabled",!1),_this.transitionToRoute("index")}).fail(function(){return $(".btn-next").text("Finish"),$("button.register-button").removeClass("inactive").addClass("primary").prop("disabled",!1),_this.get("controllers.application").toast(_this.get("controllers.creditCards.errorMessages")[0].message,"error")})):(this.get("controllers.application").toast(this.get("controllers.creditCards.errorMessages")[0].message,"error"),$(".btn-next").text("Finish").prop("disabled",!1),$("button.register-button").removeClass("inactive").addClass("primary").prop("disabled",!1))}}})}.call(this),function(){App.RegisterFacebookController=App.BaseObjectController.extend({needs:["accountEdit","register","nanigans","accountFacebookEdit","accountCoupon"],init:function(){return this._super()},register:function(){var parseUser,_this=this;return this.validateAccount(this.get("content"))?(this.get("controllers.application").log("attempting to register the user","App.RegisterFacebookController.registerFacebook",this.content),$(".btn-next").text("Saving").prop("disabled",!0),$("button.register-button").removeClass("primary").addClass("inactive").prop("disabled",!0),$("input[type=submit]").prop("disabled",!0),parseUser=Parse.User.current(),parseUser.set("email",this.content.get("email")),parseUser.set("first_name",this.content.get("firstName")),parseUser.set("last_name",this.content.get("lastName")),parseUser.set("phone",this.content.get("phone")),parseUser.save(null,{success:function(parseUser){var coupon;return coupon=App.Coupon.create({code:_this.content.get("firstName").toLowerCase()+_this.content.get("firstName").toLowerCase()}),_this.get("controllers.accountCoupon").createCoupon(coupon,parseUser.id),_this.get("controllers.application").setCurrentUser(parseUser),_this.trackUserRegistration(),_this.get("controllers.register").sendWelcomeEmail(parseUser.id),_this.transitionToRoute("registerAddress")},error:function(data,error){return _this.get("controllers.application").log("error registering","App.RegisterFacebookController.register",error),_this.get("controllers.application").toast(error.message,"error")}})):(this.get("controllers.application").toast(this.get("errorMessages")[0].message,"error"),$(".btn-next").text("Next").prop("disabled",!1),$("button.register-button").removeClass("inactive").addClass("primary").prop("disabled",!1))},trackFacebookRegisterLanding:function(){var _this=this;return this.get("controllers.nanigans").trackLanding().then(function(data){return console.log("-----------------------------------------"),console.log("Facebook Register Landing successfully tracked for nanigans"),console.log("Data Recieved: "+JSON.stringify(data)),console.log("-----------------------------------------"),_this.get("controllers.application").log("facebook register landing successfully tracked for nanigans","App.RegisterFacebookController.trackUserLanding")},function(error){return console.log("--------------------------------------------------------------"),console.log("An error occurred while trying to track facebook register landing for nanigans."),console.log("Data Recieved: "+JSON.stringify(error)),console.log("--------------------------------------------------------------"),_this.get("controllers.application").log("an error occurred while trying to track facebook register landing for nanigans.","App.RegisterFacebookController.trackUserLanding",error)})},trackUserRegistration:function(){var _this=this;return this.get("controllers.nanigans").trackRegistration().then(function(data){return console.log("-------------------------------------------------------"),console.log("Facebook Registration successfully tracked for nanigans"),console.log("Data Recieved: "+JSON.stringify(data)),console.log("-------------------------------------------------------"),_this.get("controllers.application").log("Facebook registration successfully tracked for nanigans","App.RegisterFacebookController.trackUserRegistration")},function(error){return console.log("---------------------------------------------------------------------------"),console.log("An error occurred while trying to track Facebook registration for nanigans."),console.log("Data Recieved: "+JSON.stringify(error)),console.log("---------------------------------------------------------------------------"),_this.get("controllers.application").log("an error occurred while trying to track Facebook registration for nanigans.","App.RegisterFacebookController.trackUserRegistration",error)})},validateAccount:function(account){return this.get("controllers.application").log("validating account","App.RegisterController.validateAccount"),this.set("errorMessages",[]),null==account.get("email")?(this.get("errorMessages").pushObject({message:"Please enter your email."}),!1):this.validateEmail(account.get("email"))?null==account.get("firstName")?(this.get("errorMessages").pushObject({message:"Please enter your first name."}),!1):1>=account.get("firstName").length?(this.get("errorMessages").pushObject({message:"Please enter your first name."}),!1):account.get("firstName").length>60?(this.get("errorMessages").pushObject({message:"First name should be less than 60 characters."}),!1):null==account.get("lastName")?(this.get("errorMessages").pushObject({message:"Please enter your last name."}),!1):1>=account.get("lastName").length?(this.get("errorMessages").pushObject({message:"Please enter your last name."}),!1):account.get("lastName").length>60?(this.get("errorMessages").pushObject({message:"Last name should be less than 60 characters."}),!1):null==account.get("phone")?(this.get("errorMessages").pushObject({message:"Please enter your phone number."}),!1):this.validatePhone(account.get("phone"))?!0:(this.get("errorMessages").pushObject({message:"Please enter a valid phone number."}),!1):(this.get("errorMessages").pushObject({message:"Please enter a valid email."}),!1)},validateEmail:function(email){var regex;return regex=/\S+@\S+\.\S+/,regex.test(email)},validatePhone:function(phone){var digits,regex;return regex=/^[2-9]\d{2}[2-9]\d{2}\d{4}$/,digits=phone.replace(/\D/g,""),digits.match(regex)}})}.call(this),function(){App.SettingsController=App.BaseController.extend({needs:["signin","application"],init:function(){return this._super()}})}.call(this),function(){App.ShareController=App.BaseObjectController.extend({needs:["accountCoupon"],init:function(){return this._super()},contentBinding:"controllers.application.currentUser.coupon",months:null,getMonths:function(){var month,_results;for(month=0,this.set("months",[]),_results=[];12>month;)this.get("months").pushObject(App.KeyValueDescription.create({key:month+1,value:moment().month(month).format("MM"),description:moment().month(month).format("MMMM")})),_results.push(month++);return _results},shareFacebook:function(){var localUrl,opts,shareHeight,shareLeft,shareTop,shareWidth,url;return shareWidth=575,shareHeight=400,shareLeft=($(window).width()-shareWidth)/2,shareTop=($(window).height()-shareHeight)/2,localUrl=window.location.href.replace("/host",""),url="http://www.facebook.com/sharer.php?u="+encodeURIComponent(localUrl),opts="status=1,width="+shareWidth+",height="+shareHeight+",top="+shareTop+",left="+shareLeft,window.open(url,"facebook",opts)},shareTwitter:function(){var localUrl,message,opts,shareHeight,shareLeft,shareTop,shareWidth,url;return shareWidth=575,shareHeight=400,shareLeft=($(window).width()-shareWidth)/2,shareTop=($(window).height()-shareHeight)/2,message="Clean Clothes Ahoy! Use my promocode "+this.get("content").code+" for $10 off your first Washio order.",localUrl=window.location.href.replace("/host",""),url="https://twitter.com/share?text="+message+"&url="+encodeURIComponent(localUrl),opts="status=1,width="+shareWidth+",height="+shareHeight+",top="+shareTop+",left="+shareLeft,window.open(url,"twitter",opts)},getGeoLocation:function(address){var deferred,geocoder;return geocoder=new google.maps.Geocoder,deferred=Q.defer(),geocoder.geocode({address:address},function(results,status){var location;return"OK"===status?(location=results[0].geometry.location,deferred.resolve(location)):"ERROR"===status?deferred.reject("There was a problem contacting the Google servers."):"INVALID_REQUEST"===status?deferred.reject("This Request was invalid."):"OVER_QUERY_LIMIT"===status?deferred.reject("The webpage has gone over the requests limit in too short a period of time."):"REQUEST_DENIED"===status?deferred.reject("The webpage is not allowed to use the geocoder."):"UNKNOWN_ERROR"===status?deferred.reject("A geocoding request could not be processed due to a server error. The request may succeed if you try again."):"ZERO_RESULTS"===status?deferred.reject("No result was found for this GeocoderRequest."):void 0}),deferred.promise}})}.call(this),function(){App.ShiftController=App.BaseController.extend({needs:["user","areas"],init:function(){return this._super(),this.get("controllers.application").log("shift controller initializing","App.ShiftController.init")},loadShift:function(parseShift){return this.get("controllers.application").log("loading parseShift into ember shift","App.ShiftController.loadShift",parseShift),null!=parseShift?App.Shift.create({id:parseShift.id,area:this.get("controllers.areas").loadAreaFromParse(parseShift.attributes.location_area),changeDriver:parseShift.attributes.changeDriver,day:parseShift.attributes.day,driver:this.get("controllers.user").loadUser(parseShift.attributes.driver),timesAvailable:parseShift.attributes.timesAvailable,timesBooked:parseShift.attributes.timesBooked}):App.Shift.create()},loadShiftFromCache:function(cacheShift){var shift;return this.get("controllers.application").log("loading cacheShift into ember shift","App.ShiftController.loadShiftFromCache",cacheShift),null!=cacheShift?shift=App.Shift.create({id:cacheShift.id,area:this.get("controllers.areas").loadAreaFromCache(cacheShift.area),changeDriver:cacheShift.changeDriver,day:cacheShift.day,driver:this.get("controllers.user").loadUserFromCache(cacheShift.user),timesAvailable:cacheShift.timesAvailable,timesBooked:cacheShift.timesBooked}):App.Shift.create()}})}.call(this),function(){App.SidebarController=App.BaseObjectController.extend({init:function(){return this._super,this.get("controllers.application").log("sidebar controller initializing","App.SidebarController.init")},displayMenu:function(){return $(".navbar, .content").addClass("filter-blur"),$(".menu").show()},hideMenu:function(){return $(".navbar, .content").removeClass("filter-blur"),$(".menu").hide()},back:function(){return this.transitionToRoute(this.get("content.backRoute"))},hideOnboarding:function(){return $(".how-it-works").fadeOut()},actions:{getStarted:function(){return this.transitionToRoute("register")},showIndex:function(){return this.transitionToRoute("index"),this.hideMenu()},showRecurring:function(){return this.transitionToRoute("upcomingOrders"),this.hideMenu()},showOrderHistory:function(){return this.transitionToRoute("orderHistory"),this.hideMenu()},showSettings:function(){return this.transitionToRoute("settings"),this.hideMenu()},showPrices:function(){return this.transitionToRoute("prices"),this.hideMenu()},showHelp:function(){return this.transitionToRoute("help"),this.hideMenu()},showShare:function(){return this.transitionToRoute("share"),this.hideMenu()},showGiftCard:function(){return this.transitionToRoute("giftCard"),this.hideMenu()}}})}.call(this),function(){App.SigninController=App.BaseObjectController.extend({needs:["register","application"],init:function(){return this._super,this.get("controllers.application").log("signin controller initializing","App.SigninController.init")},forgotPassword:null,forgotPasswordErrors:null,signinErrors:null,register:function(){return this.transitionToRoute("register")},signin:function(){var _this=this;return this.get("controllers.application").log("attempting to signin the user","App.SigninController.signin",this.content),this.validateSignin()?Parse.User.logIn(this.content.get("username").toLowerCase(),this.content.get("password"),{success:function(parseUser){return null!=parseUser?(_this.get("controllers.application").toast("Welcome back to Washio"),_this.get("controllers.application").setCurrentUser(parseUser),_this.get("controllers.application").mixpanel("User - Signed In",{isFacebook:!1}),_this.get("controllers.application").mixpanelIncrementProperty("Signin Count"),_this.transitionToRoute("index")):_this.get("controllers.application").toast("An unknown error occurred. Please try again.","error")},error:function(parseUser,error){var errorMessage;return errorMessage="An unknown error occurred. Please try again.",null!=error.message&&error.message.length>0&&(errorMessage=error.message),_this.get("controllers.application").toast(errorMessage,"error"),$("form").removeClass("shake-animate"),$("form").addClass("shake-animate")}}):void 0},signinFacebook:function(){var _this=this;this.get("controllers.application").log("attempting to signin the user via facebook","App.SigninController.signinFacebook"),Parse.FacebookUtils.logIn("email",{success:function(parseUser){null!=parseUser?(_this.get("controllers.application").setCurrentUser(parseUser),parseUser.existed()?(_this.get("controllers.application").toast("Welcome back to Washio"),_this.get("controllers.application").mixpanel("User - Signed In",{isFacebook:!0}),_this.get("controllers.application").mixpanelIncrementProperty("Signin Count"),_this.get("controllers.application").setCurrentUser(parseUser),_this.transitionToRoute("index")):(_this.saveToCache("isNewUser",!0),FB.api("/me",function(response){null!=response&&(_this.checkIfUserAlreadyHasAccount(response.email,parseUser),_this.get("controllers.application.currentUser").setProperties({email:response.email,firstName:response.first_name,lastName:response.last_name})),_this.transitionToRoute("registerFacebook")}))):_this.get("controllers.application").toast("An unknown error occurred. Please try again.","error")},error:function(){_this.get("controllers.application").toast("Error connecting to Facebook. Please try again.","error")}})},signout:function(){return this.get("controllers.application").log("user signing out","App.SigninController.signout",this.get("controllers.application.currentUser")),null!=Parse.User.current()&&Parse.User.logOut(),this.get("controllers.application").mixpanel("User - Logged Out"),this.get("controllers.application").setCurrentUser(),this.transitionToRoute("signin")
},validateSignin:function(){return this.get("controllers.application").log("validating the signin user","App.SigninController.validateSignin",this.content),$("form").removeClass("shake-animate"),null==this.content.get("username")?(this.get("controllers.application").toast("Enter your username or email","error"),$("form").removeClass("shake-animate"),$("form").addClass("shake-animate"),!1):0===this.content.get("username").length?(this.get("controllers.application").toast("Enter your username or email","error"),$("form").removeClass("shake-animate"),$("form").addClass("shake-animate"),!1):null==this.content.get("password")?(this.get("controllers.application").toast("Enter your password","error"),$("form").removeClass("shake-animate"),$("form").addClass("shake-animate"),!1):0===this.content.get("password").length?(this.get("controllers.application").toast("Enter your password","error"),$("form").removeClass("shake-animate"),$("form").addClass("shake-animate"),!1):!0},validateEmail:function(showZeroLengthError){return null!=this.get("forgotPassword.email")?0===this.get("forgotPassword.email").length?($("#forgotEmailSuccess").addClass("register-hide"),showZeroLengthError?$("#forgotEmailError").removeClass("register-hide"):$("#forgotEmailError").addClass("register-hide"),this.set("forgotPasswordErrors.email","")):this.get("controllers.helper").validateEmail(this.get("forgotPassword.email"))?($("#forgotEmailSuccess").addClass("register-hide"),$("#forgotEmailError").addClass("register-hide"),this.set("forgotPasswordErrors.email",""),!0):($("#forgotEmailSuccess").addClass("register-hide"),$("#forgotEmailError").removeClass("register-hide"),this.set("forgotPasswordErrors.email","Invalid email"),!1):($("#forgotEmailSuccess").addClass("register-hide"),$("#forgotEmailError").removeClass("register-hide"),this.set("forgotPasswordErrors.email",""),!1)},checkIfUserAlreadyHasAccount:function(email,parseUser){var _this=this;$.ajax({type:"POST",url:"/api/email/facebook/exists",data:{email:email,id:parseUser.id,token:parseUser._sessionToken,auth:parseUser.attributes.authData},success:function(result){result&&result.data&&(alert("Hey! Looks like you created an account with the email address "+result.data.email+" on "+result.data.createdAt.split(" ")[0]+". We've merged this Facebook account with your other account. Please log back in either via your Email address or Facebook."),_this.signout())},error:function(error){console.error(error)}})}})}.call(this),function(){App.SmartBannerController=App.BaseObjectController.extend({init:function(){return this._super,this.get("controllers.application").log("navigation controller initializing","App.NavigationController.init")}})}.call(this),function(){App.UpcomingOrdersController=App.BaseArrayController.extend({needs:["orders","orderRecurring","addresses"],init:function(){return this._super(),this.set("editRecurrences",[]),this.get("editRecurrences").pushObject(App.KeyValue.create({key:7,value:"every 7 days"})),this.get("editRecurrences").pushObject(App.KeyValue.create({key:14,value:"every 14 days"})),this.get("editRecurrences").pushObject(App.KeyValue.create({key:21,value:"every 21 days"})),this.get("editRecurrences").pushObject(App.KeyValue.create({key:28,value:"every 28 days"}))},content:null,hasRecurring:null,addressCount:null,editRecurrences:null,currentRecurring:null,getRecurringOrders:function(){var deferred,_this=this;return this.get("controllers.application").log("getting recurring order information for a user","App.UpcomingOrdersController.getRecurringOrders"),deferred=Q.defer(),this.setProperties({content:[],hasRecurring:!1,isLoading:!0}),this.get("controllers.addresses").getAddresses().then(function(addresses){var address,i,_i,_len,_results;for(_this.set("addressCount",addresses.length),i=0,_results=[],_i=0,_len=addresses.length;_len>_i;_i++)address=addresses[_i],_results.push(_this.get("controllers.orderRecurring").getOrderRecurring(address.id).then(function(orderRecurring){return i++,null!=orderRecurring&&(_this.get("content").pushObject(App.OrderRecurring.create({id:orderRecurring.id,address:App.Address.create({id:orderRecurring.address.id,name:orderRecurring.address.name,address:orderRecurring.address.address}),pickup:orderRecurring.pickup,pickupTime:orderRecurring.pickupTime,dropoff:orderRecurring.dropoff,dropoffTime:orderRecurring.dropoffTime,recurrence:orderRecurring.recurrence,isActive:orderRecurring.isActive,timezone:orderRecurring.timezone,nextPickup:orderRecurring.nextPickup,nextDropoff:orderRecurring.nextDropoff})),_this.set("hasRecurring",!0)),i===_this.get("addressCount")&&_this.set("isLoading",!1),deferred.resolve(_this.get("content"))}).fail(function(error){return deferred.reject(error)}));return _results}),deferred.promise},cancelRecurringModal:function(item){return this.get("controllers.application").log("cancel recurring modal","App.UpcomingOrdersController.cancelRecurringModal"),this.set("currentRecurring",item),$("#editRecurringCancel").modal("show")},cancelRecurring:function(){var _this=this;return this.get("controllers.application").log("cancel recurring order","App.UpcomingOrdersController.cancelRecurring"),$(".loader").fadeIn(),$("#editRecurringCancel").modal("hide"),this.get("controllers.orderRecurring").cancelRecurring(this.get("currentRecurring.id")).then(function(){return _this.getRecurringOrders()}).then(function(){return _this.get("controllers.application").toast("Recurring order cancelled successfully"),$(".loader").fadeOut()})}})}.call(this),function(){App.UserController=App.BaseController.extend({init:function(){return this._super(),this.get("controllers.application").log("user controller initializing","App.UserController.init")},loadUser:function(parseUser){return this.get("controllers.application").log("loading parseUser into ember user","App.UserController.loadUser"),null!=parseUser?App.User.create({id:parseUser.id,username:parseUser.attributes.username,firstName:parseUser.attributes.first_name,lastName:parseUser.attributes.last_name,phone:parseUser.attributes.phone,profileUrl:parseUser.attributes.profile_url}):App.User.create()},loadUserFromCache:function(cacheUser){return this.get("controllers.application").log("loading parseUser into ember user","App.UserController.loadUserFromCache"),null!=cacheUser?App.User.create({id:cacheUser.id,username:cacheUser.username,firstName:cacheUser.firstName,lastName:cacheUser.lastName,phone:cacheUser.phone,profileUrl:cacheUser.profileUrl}):App.User.create()}})}.call(this),function(){App.AccountEditRoute=App.BaseLoggedInRoute.extend({beforeModel:function(){return this._super(),this.controllerFor("application").log("redirect called","App.AccountEditRoute.redirect"),this.controllerFor("application").get("currentUser.isFacebook")?this.transitionTo("accountFacebookEdit"):void 0},setupController:function(controller,model){return this._super(controller,model),controller.set("isLoading",!0),controller.set("content",App.User.create({id:this.get("controller.controllers.application.currentUser.id"),firstName:this.get("controller.controllers.application.currentUser.firstName"),lastName:this.get("controller.controllers.application.currentUser.lastName"),email:this.get("controller.controllers.application.currentUser.email"),phone:this.get("controller.controllers.application.currentUser.phone")})),controller.set("navigation",App.Navigation.create({title:"My Info"}))}})}.call(this),function(){App.AccountFacebookEditRoute=App.BaseLoggedInRoute.extend({setupController:function(controller,model){return this._super(controller,model),controller.set("navigation",App.Navigation.create({title:"Edit Account",showMenu:!1,backRoute:"settings"})),controller.set("content",App.User.create({id:this.get("controller.controllers.application.currentUser.id"),firstName:this.get("controller.controllers.application.currentUser.firstName"),lastName:this.get("controller.controllers.application.currentUser.lastName"),email:this.get("controller.controllers.application.currentUser.email"),phone:this.get("controller.controllers.application.currentUser.phone")})),$("body").attr("class","ember-application"),$("body").addClass("account-facebook-edit")}})}.call(this),function(){App.AddressAddRoute=App.BaseLoggedInRoute.extend({model:function(){return App.Address.create()},setupController:function(controller,model){return this._super(controller,model),controller.set("navigation",App.Navigation.create({title:"Add Address",showMenu:!1,backRoute:"addresses"})),$("body").attr("class","ember-application"),$("body").addClass("address-add")}})}.call(this),function(){App.AddressEditRoute=App.BaseLoggedInRoute.extend({serialize:function(model){return this.controllerFor("application").log("serialize called","App.AddressEditRoute.serialize"),null!=model.get?{id:model.get("id")}:{id:model.id}},model:function(params){var _this=this;return this.controllerFor("application").log("model called","App.AddressEditRoute.model"),new Ember.RSVP.Promise(function(resolve,reject){return _this.controllerFor("addresses").getAddress(params.id).then(function(address){return resolve(address)}).fail(function(error){return alert("rejected"),reject(error)})})},setupController:function(controller,model){return this._super(controller,model),controller.set("navigation",App.Navigation.create({title:"Edit Address"}))}})}.call(this),function(){App.AddressesRoute=App.BaseLoggedInRoute.extend({beforeModel:function(){return this.controllerFor("application").get("isLoggedIn")===!1?(this.controllerFor("application").log("user needs to login, redirecting to signin","App.AddressesRoute.redirect"),this.transitionTo("signin")):void 0},model:function(){var _this=this;return this.controllerFor("application").log("model called","App.AddressesRoute.model"),new Ember.RSVP.Promise(function(resolve,reject){return _this.controllerFor("addresses").getAddresses().then(function(addresses){return resolve(addresses)}).fail(function(error){return reject(error)})})},setupController:function(controller,model){return this._super(controller,model),controller.set("navigation",App.Navigation.create({title:"Addresses",showMenu:!0}))}})}.call(this),function(){App.ApplicationRoute=Ember.Route.extend({setupController:function(controller,model){return this._super(controller,model),controller.log("setupController called","App.ApplicationRoute.setupController",controller)}})}.call(this),function(){App.CouponRoute=App.BaseLoggedInRoute.extend({beforeModel:function(){return this.controllerFor("application").get("isLoggedIn")===!1?(this.controllerFor("application").log("user needs to login, redirecting to signin","App.ShareRoute.redirect"),this.transitionTo("signin")):void 0},setupController:function(controller,model){return this._super(controller,model),controller.set("navigation",App.Navigation.create({title:"Redeem"}))}})}.call(this),function(){App.CreditCardAddRoute=App.BaseLoggedInRoute.extend({setupController:function(controller,model){return this._super(controller,model),controller.get("controllers.creditCards").getCreditCardYears(),controller.get("controllers.share").getMonths(),controller.set("navigation",App.Navigation.create({title:"Add Card",showMenu:!1,backRoute:"creditCards"})),controller.set("content",App.CreditCard.create({month:moment().month()+1,year:moment().year(),number:null,cvc:null,zip:null})),$("body").attr("class","ember-application"),$("body").addClass("credit-card-add")}})}.call(this),function(){App.CreditCardEditRoute=App.BaseLoggedInRoute.extend({serialize:function(model){return this.controllerFor("application").log("serialize called","App.CreditCardEditRoute.serialize"),null!=model.get?{id:model.get("id")}:{id:model.id}},setupController:function(controller,model){var _this=this;return this._super(controller,model),controller.set("navigation",App.Navigation.create({title:"Credit Card",showMenu:!1,backRoute:"creditCards"})),controller.get("controllers.creditCards").getCreditCard(model.id).then(function(creditCard){return controller.set("content",creditCard)}).fail(function(){return _this.transitionTo("creditCards")}),$("body").attr("class","ember-application"),$("body").addClass("credit-card-edit")}})}.call(this),function(){App.CreditCardsRoute=App.BaseLoggedInRoute.extend({setupController:function(controller,model){return this._super(controller,model),controller.set("navigation",App.Navigation.create({title:"Billing",showMenu:!1,backRoute:"settings"})),controller.getCreditCards(),controller.get("controllers.accountBalance").set("content",App.Balance.create()),controller.get("controllers.accountCoupon").set("content",App.Coupon.create()),controller.get("controllers.accountBalance").getAccountBalance(),$("body").attr("class","ember-application"),$("body").addClass("credit-cards")}})}.call(this),function(){App.DealsRoute=Ember.Route.extend({setupController:function(controller,model){return this._super(controller,model),controller.set("navigation",App.Navigation.create({title:"Deals",showMenu:!1,backRoute:"help"})),$("body").attr("class","ember-application"),$("body").addClass("deals-body")}})}.call(this),function(){App.ForgotPasswordRoute=Ember.Route.extend({beforeModel:function(){return this.controllerFor("application").get("isLoggedIn")?(this.controllerFor("application").log("user already logged in, redirecting to index","App.SigninRoute.redirect"),this.transitionTo("index")):void 0},model:function(params){return this.controllerFor("application").log("creating a new forgot password model","App.ForgotPasswordRoute.model",params),App.ForgotPassword.create()},setupController:function(controller,model){return this._super(controller,model),this.get("controller.controllers.application").log("setupController called","App.ForgotPasswordRoute.setupController",controller),controller.setProperties({content:App.ForgotPassword.create(),navigation:App.Navigation.create({title:"Forgot Password",showMenu:!1,baskRoute:"signin"})}),$("body").attr("class","ember-application"),$("body").addClass("forgot-password")}})}.call(this),function(){App.GiftCardCompleteRoute=Ember.Route.extend({setupController:function(controller,model){return this._super(controller,model),controller.set("navigation",App.Navigation.create({title:"Washio Gift",showMenu:!0})),$("body").attr("class","ember-application"),$("body").addClass("gift-card-complete")}})}.call(this),function(){App.GiftCardRoute=Ember.Route.extend({model:function(params){return this.controllerFor("application").log("creating a new gift card model","App.GiftCardRoute.model",params),App.GiftCard.create()},setupController:function(controller,model){this._super(controller,model),controller.setProperties({content:model,navigation:App.Navigation.create({title:"Give Washio",showMenu:!0})}),controller.get("controllers.creditCards").getCreditCards().then(function(creditCards){return null!=creditCards?creditCards.length>0?controller.setProperties({hasMultipleCreditCards:creditCards.length>1,hasCreditCard:!0,"content.creditCard":creditCards[0]}):controller.set("hasCreditCard",!1):controller.set("hasCreditCard",!1)}),this.controllerFor("application").get("isLoggedIn")===!1&&(this.get("controller.controllers.application").set("fullScreen",!0),this.get("controller.controllers.application").set("forceShowHeader",!0))}})}.call(this),function(){App.HelpCallRoute=Ember.Route.extend({setupController:function(controller,model){return this._super(controller,model),controller.set("navigation",App.Navigation.create({title:"Call Washio support",showMenu:!1,backRoute:"help"})),$("body").attr("class","ember-application"),$("body").addClass("help-call")}})}.call(this),function(){App.HelpEulaRoute=Ember.Route.extend({setupController:function(controller,model){return this._super(controller,model),controller.set("navigation",App.Navigation.create({title:"EULA",showMenu:!1,backRoute:"help"})),$("body").attr("class","ember-application"),$("body").addClass("help-eula")}})}.call(this),function(){App.HelpFaqRoute=Ember.Route.extend({setupController:function(controller,model){return this._super(controller,model),controller.set("navigation",App.Navigation.create({title:"FAQ",showMenu:!1,backRoute:"help"})),$("body").attr("class","ember-application"),$("body").addClass("help-faq")}})}.call(this),function(){App.HelpFeedbackRoute=Ember.Route.extend({setupController:function(controller,model){return this._super(controller,model),controller.set("navigation",App.Navigation.create({title:"Send feedback",showMenu:!1,backRoute:"help"})),$("body").attr("class","ember-application"),$("body").addClass("help-feedback")}})}.call(this),function(){App.HelpHowRoute=Ember.Route.extend({setupController:function(controller,model){return this._super(controller,model),controller.set("navigation",App.Navigation.create({title:"How Washio Works",showMenu:!1,backRoute:"help"})),$("body").attr("class","ember-application"),$("body").addClass("help-how"),controller.trackUserLanding()}})}.call(this),function(){App.HelpPrivacyRoute=Ember.Route.extend({setupController:function(controller,model){return this._super(controller,model),controller.set("navigation",App.Navigation.create({title:"Privacy policy",showMenu:!1,backRoute:"help"})),$("body").attr("class","ember-application"),$("body").addClass("help-privacy")}})}.call(this),function(){App.HelpRoute=Ember.Route.extend({setupController:function(controller,model){this._super(controller,model),controller.set("navigation",App.Navigation.create({title:"Help",showMenu:!0})),this.controllerFor("application").get("isLoggedIn")===!1&&(this.get("controller.controllers.application").set("fullScreen",!0),this.get("controller.controllers.application").set("forceShowHeader",!0))}})}.call(this),function(){App.HelpTermsRoute=Ember.Route.extend({setupController:function(controller,model){return this._super(controller,model),controller.set("navigation",App.Navigation.create({title:"Terms of service",showMenu:!1,backRoute:"help"})),$("body").attr("class","ember-application"),$("body").addClass("help-terms")}})}.call(this),function(){App.IndexRoute=Ember.Route.extend({beforeModel:function(){return this.controllerFor("application").log("beforeModel called","App.IndexRoute.beforeModel"),this.controllerFor("application").get("isLoggedIn")?this.transitionTo("order"):this.transitionTo("signin")},setupController:function(controller,model){return this._super(controller,model),this.get("controller.controllers.application").log("setupController called","App.IndexRoute.setupController",controller)}})}.call(this),function(){App.OrderCompleteRoute=App.BaseLoggedInRoute.extend({beforeModel:function(){var _this=this;return this.controllerFor("application").log("redirect called","App.OrderCompleteRoute.redirect"),this.controllerFor("orders").getOrderForCurrentUser().then(function(order){return null!=order?order.get("orderStatus.isCancelled")?_this.transitionTo("order"):order.get("orderStatus.isComplete")?_this.controllerFor("orders").getOrderRating(order.get("id")).then(function(orderRating){return null!=orderRating?_this.transitionTo("order"):void 0},function(){return _this.transitionTo("orderComplete",order.id)}):_this.transitionTo("orderStatus",order.id):void 0},function(){})},model:function(params){return this.controllerFor("application").log("model called","App.OrderCompleteRoute.model",params),params.id},setupController:function(controller,model){return this._super(controller,model),controller.setProperties({navigation:App.Navigation.create({title:"How'd we do?",showMenu:!0})}),controller.getWash(model).then(function(){return controller.setProperties({orderRating:App.OrderRating.create({wash:model,score:0})})},function(){}),$("body").attr("class","ember-application"),$("body").addClass("order-complete")}})}.call(this),function(){App.OrderDetailRoute=App.BaseLoggedInRoute.extend({serialize:function(model){return this.controllerFor("application").log("serialize called","App.OrderDetailRoute.serialize"),null!=model?null!=model.get?{id:model.get("id")}:{id:model.id}:void 0},model:function(params){return this.controllerFor("application").log("model called","App.OrderDetailRoute.model",params),{id:params.id}},setupController:function(controller,model){return this._super(controller,model),controller.set("navigation",App.Navigation.create({title:"Order Detail",showMenu:!1,backRoute:"orderHistory"})),controller.setProperties({content:null,isLoading:!0}),controller.getOrderDetail(model.id).then(function(){return controller.setProperties({isLoading:!1})}),$("body").attr("class","ember-application"),$("body").addClass("order-detail")}})}.call(this),function(){App.OrderHistoryRoute=App.BaseLoggedInRoute.extend({setupController:function(controller,model){return this._super(controller,model),controller.set("navigation",App.Navigation.create({title:"Your History",showMenu:!0})),controller.setProperties({content:null,isLoading:!0}),controller.getOrderHistory(controller.get("controllers.application.currentUser.id")).then(function(){return controller.setProperties({isLoading:!1})}),$("body").attr("class","ember-application"),$("body").addClass("order-history")}})}.call(this),function(){App.OrderRoute=App.BaseLoggedInRoute.extend({beforeModel:function(){var _this=this;return this._super(),this.controllerFor("application").log("redirect called","App.OrderRoute.redirect"),this.controllerFor("order").set("isLoading",!0),this.controllerFor("orders").getOrderForCurrentUser().then(function(order){return null==order||order.get("orderStatus.isCancelled")?void 0:order.get("orderStatus.isComplete")?_this.controllerFor("orders").getOrderRating(order.get("id")).then(function(orderRating){return orderRating?void 0:_this.transitionTo("orderComplete",order.id)},function(){}):_this.transitionTo("orderStatus",order.id)},function(){})},model:function(){},setupController:function(controller,model){return this._super(controller,model),controller.setProperties({isLoading:!0,isInitialLoading:!0,content:App.Order.create()}),controller.set("recurring",controller.get("controllers.orderRecurring").getOrderRecurringValues()),controller.set("selectedRecurring",controller.get("recurring")[0]),controller.get("controllers.addresses").getAddresses().then(function(addresses){return null!=addresses&&addresses.length>0&&controller.set("content.address",addresses[0]),controller.getDates(),controller.get("controllers.creditCards").getCreditCards()}).then(function(creditCards){return null!=creditCards?creditCards.length>0?controller.setProperties({hasMultipleCreditCards:creditCards.length>1,hasCreditCard:!0,"content.creditCard":creditCards[0]}):controller.set("hasCreditCard",!1):controller.set("hasCreditCard",!1),controller.get("controllers.orderRecurring").getOrderRecurring(controller.get("content.address.id"))}).then(function(orderRecurring){return null!=orderRecurring?controller.set("hasRecurring",!0):controller.set("hasRecurring",!1),controller.setProperties({isLoading:!1,isInitialLoading:!1})}),controller.set("navigation",App.Navigation.create({title:"Place Order",showMenu:!0})),$("body").attr("class","ember-application"),$("body").addClass("order")}})}.call(this),function(){App.OrderStatusRoute=App.BaseLoggedInRoute.extend({beforeModel:function(){var _this=this;return this.controllerFor("application").log("redirect called","App.OrderCompleteRoute.redirect"),this.controllerFor("orders").getOrderForCurrentUser().then(function(order){if(null!=order){if(order.get("orderStatus.isCancelled"))return _this.transitionTo("order");if(order.get("orderStatus.isComplete"))return _this.transitionTo("orderComplete",order.id)}},function(){})},model:function(params){return this.controllerFor("application").log("model called","App.OrderStatusRoute.model",params),params.id},setupController:function(controller,model){return this._super(controller,model),controller.set("navigation",App.Navigation.create({title:"Order Status",showMenu:!0})),controller.set("isInitialLoading",!0),controller.getOrder(model).then(function(){return controller.set("isInitialLoading",!1)}),$("body").attr("class","ember-application"),$("body").addClass("order-status")}})}.call(this),function(){App.PricesRoute=Ember.Route.extend({setupLayout:function(){this.controllerFor("application").get("isLoggedIn")===!1&&(this.get("controller.controllers.application").set("fullScreen",!0),alert("HIIIII"))},setupController:function(controller,model){this._super(controller,model),controller.set("navigation",App.Navigation.create({title:"Prices",showMenu:!0})),$("body").attr("class","ember-application"),$("html").addClass("prices-body"),$("body").addClass("prices"),controller.set("isLoading",!0),controller.get("controllers.cities").getCities().then(function(cities){return controller.set("selectedCity",cities[0])}),this.controllerFor("application").get("isLoggedIn")===!1&&(this.get("controller.controllers.application").set("fullScreen",!0),this.get("controller.controllers.application").set("forceShowHeader",!0))}})}.call(this),function(){App.ReferenceRoute=App.BaseLoggedInRoute.extend({beforeModel:function(){return this.controllerFor("application").get("isLoggedIn")===!1?(this.controllerFor("application").log("user needs to login, redirecting to signin","App.ShareRoute.redirect"),this.transitionTo("signin")):void 0},setupController:function(controller,model){return this._super(controller,model),controller.set("navigation",App.Navigation.create({title:"Reference UI"}))}})}.call(this),function(){App.RegisterAddressRoute=Ember.Route.extend({model:function(params){return this.controllerFor("application").log("creating a new address model","App.RegisterAddressRoute.model",params),App.Address.create()},setupController:function(controller,model){return this._super(controller,model),controller.set("content",App.Address.create({name:"Home"})),$("body").attr("class","ember-application"),$("body").addClass("register-address")}})}.call(this),function(){App.RegisterCompleteRoute=Ember.Route.extend({setupController:function(controller,model){return this._super(controller,model),controller.set("navigation",App.Navigation.create({title:"Tell Your Friends",showMenu:!0})),controller.set("content",controller.get("controllers.application.currentUser.coupon")),controller.get("controllers.application.currentUser.coupon")||controller.get("controllers.accountCoupon").getCouponForCurrentUser().then(function(coupon){return null!=coupon?(controller.get("controllers.application.currentUser").set("coupon",coupon),controller.set("content",controller.get("controllers.application.currentUser.coupon"))):void 0},function(){}),$("body").attr("class","ember-application"),$("body").addClass("register-complete")}})}.call(this),function(){App.RegisterCouponRoute=Ember.Route.extend({setupController:function(controller,model){return this._super(controller,model),controller.set("navigation",App.Navigation.create({title:"Coupon (4 of 4)",showMenu:!1,backRoute:"registerCreditCard"})),controller.set("content",App.Coupon.create({code:controller.get("controllers.application.currentUser.firstName").toLowerCase()+controller.get("controllers.application.currentUser.lastName").toLowerCase()+"10"})),$("body").attr("class","ember-application"),$("body").addClass("register-coupon")}})}.call(this),function(){App.RegisterCreditCardRoute=Ember.Route.extend({setupController:function(controller,model){return this._super(controller,model),controller.get("controllers.creditCards").getCreditCardYears(),controller.get("controllers.share").getMonths(),controller.set("navigation",App.Navigation.create({title:"Payment (3 of 4)",showMenu:!1,backRoute:"registerAddress"})),controller.set("content",App.CreditCard.create({month:moment().month()+1,year:moment().year(),number:null,cvc:null,zip:null})),$("body").attr("class","ember-application"),$("body").addClass("register-credit-card")}})}.call(this),function(){App.RegisterFacebookRoute=Ember.Route.extend({beforeModel:function(){return this.controllerFor("application").log("redirect called","App.RegisterFacebookRoute.redirect"),this.controllerFor("application").get("isLoggedIn")?void 0:(this.controllerFor("application").log("user not logged in, redirecting to index","App.RegisterRoute.redirect"),this.transitionTo("index"))},model:function(params){return this.controllerFor("application").log("creating a new register model","App.RegisterFacebookRoute.model",params),null!=this.controllerFor("application").get("currentUser")?App.Register.create({id:this.controllerFor("application").get("currentUser.id"),username:this.controllerFor("application").get("currentUser.username"),email:this.controllerFor("application").get("currentUser.email"),firstName:this.controllerFor("application").get("currentUser.firstName"),lastName:this.controllerFor("application").get("currentUser.lastName"),phone:this.controllerFor("application").get("currentUser.phone"),isFacebook:this.controllerFor("application").get("currentUser.isFacebook")}):App.Register.create({id:-1,isFacebook:!1})},setupController:function(controller,model){return this._super(controller,model),controller.set("navigation",App.Navigation.create({title:"Register",showMenu:!1,backRoute:"signin"})),controller.trackFacebookRegisterLanding(),$("body").attr("class","ember-application"),$("body").addClass("register-facebook")}})}.call(this),function(){App.RegisterRoute=Ember.Route.extend({beforeModel:function(){return this.controllerFor("application").log("redirect called","App.RegisterRoute.redirect"),this.controllerFor("application").get("isLoggedIn")?(this.controllerFor("application").log("user already logged in, redirecting to index","App.RegisterRoute.redirect"),this.transitionTo("index")):void 0},model:function(params){return this.controllerFor("application").log("creating a new register model","App.RegisterRoute.model",params),null!=this.controllerFor("application").get("currentUser")?App.Register.create({id:this.controllerFor("application").get("currentUser.id"),username:this.controllerFor("application").get("currentUser.username"),email:this.controllerFor("application").get("currentUser.email"),firstName:this.controllerFor("application").get("currentUser.firstName"),lastName:this.controllerFor("application").get("currentUser.lastName"),phone:this.controllerFor("application").get("currentUser.phone"),isFacebook:this.controllerFor("application").get("currentUser.isFacebook")}):App.Register.create({id:-1,isFacebook:!1})},setupController:function(controller,model){return this._super(controller,model),this.get("controller.controllers.application").log("setupController called","App.RegisterRoute.setupController",controller),controller.set("registerErrors",App.Register.create()),controller.set("navigation",App.Navigation.create({title:"Register",showMenu:!1,backRoute:"signin"})),controller.trackRegisterLanding(),$("body").attr("class","ember-application"),$("body").addClass("register")}})}.call(this),function(){App.SettingsRoute=App.BaseLoggedInRoute.extend({setupController:function(controller,model){return this._super(controller,model),controller.set("navigation",App.Navigation.create({title:"Settings",showMenu:!0})),$("body").attr("class","ember-application"),$("body").addClass("settings")}})}.call(this),function(){App.ShareRoute=Ember.Route.extend({beforeModel:function(){return this.controllerFor("application").get("isLoggedIn")===!1?(this.controllerFor("application").log("user needs to login, redirecting to signin","App.ShareRoute.redirect"),this.transitionTo("signin")):void 0},setupController:function(controller,model){return this._super(controller,model),controller.set("navigation",App.Navigation.create({title:"Share",showMenu:!0})),controller.set("content",controller.get("controllers.application.currentUser.coupon")),controller.get("controllers.application.currentUser.coupon")||controller.get("controllers.accountCoupon").getCouponForCurrentUser().then(function(coupon){return null!=coupon?controller.get("controllers.application.currentUser").set("coupon",coupon):void 0},function(){}),$("body").attr("class","ember-application"),$("body").addClass("share")}})}.call(this),function(){App.SigninRoute=Ember.Route.extend({beforeModel:function(){return this.controllerFor("application").get("isLoggedIn")?(this.controllerFor("application").log("user already logged in, redirecting to index","App.SigninRoute.redirect"),this.transitionTo("index")):void 0
},model:function(params){return this.controllerFor("application").log("creating a new signin model","App.SigninRoute.model",params),App.Signin.create()},setupController:function(controller,model){return this._super(controller,model),this.get("controller.controllers.application").log("setupController called","App.SigninRoute.setupController",controller),controller.setProperties({hasErrors:!1,errorMessages:[],content:App.Signin.create(),signinErrors:App.Signin.create(),navigation:App.Navigation.create({title:"Log In",showMenu:!0})})}})}.call(this),function(){App.UpcomingOrdersRoute=Ember.Route.extend({beforeModel:function(){return this.controllerFor("application").get("isLoggedIn")?void 0:this.transitionTo("index")},model:function(){var _this=this;return this.controllerFor("application").log("model called","App.UpcomingOrdersRoute.model"),new Ember.RSVP.Promise(function(resolve,reject){return _this.controllerFor("upcomingOrders").getRecurringOrders().then(function(orderRecurrings){return resolve(orderRecurrings)}).fail(function(error){return reject(error)})})},setupController:function(controller,model){return this._super(controller,model),controller.set("navigation",App.Navigation.create({title:"Recurring",showMenu:!0}))}})}.call(this),function(){App.AccountBalanceView=App.BaseView.extend({didInsertElement:function(){return this._super(),this.get("controller.controllers.application").mixpanel("View - Account Balance Viewed")},templateName:"account-balance"})}.call(this),function(){App.AccountCouponView=App.BaseView.extend({didInsertElement:function(){return this._super(),this.get("controller.controllers.application").mixpanel("View - Account Coupon Viewed")},templateName:"account-coupon"})}.call(this),function(){App.AccountEditView=App.BaseView.extend({didInsertElement:function(){this._super(),this.get("controller.controllers.application").mixpanel("View - Account Edit Viewed"),$("#editAccountFirstname").focus(),this.setInputPhoneMask()},templateName:"account-edit"})}.call(this),function(){App.AccountFacebookEditView=App.BaseView.extend({didInsertElement:function(){return this._super(),this.get("controller.controllers.application").mixpanel("View - Account Facebook Edit Viewed")},templateName:"account-facebook-edit"})}.call(this),function(){App.AddressAddView=App.BaseView.extend({didInsertElement:function(){var _this=this;this._super(),this.get("controller.controllers.application").mixpanel("View - Address Add Viewed"),$("html.touch").swipe("disable"),setTimeout(function(){return _this.autocomplete=new google.maps.places.Autocomplete(document.getElementById("addAddressAddress"),{types:["geocode"]}),google.maps.event.addListener(_this.autocomplete,"place_changed",function(){var component,street,streetNumber,zip,_i,_len,_ref;for(streetNumber="",street="",zip="",_ref=_this.autocomplete.getPlace().address_components,_i=0,_len=_ref.length;_len>_i;_i++)component=_ref[_i],null!=component.types&&("street_number"===component.types[0]?streetNumber=component.long_name:"route"===component.types[0]?street=component.long_name:"postal_code"===component.types[0]&&(zip=component.long_name));return _this.get("controller.content").setProperties({address:streetNumber+" "+street,zip:zip})})},2e3),$("#addAddressAddress").focus()},willDestroyElement:function(){return $("html.touch").swipe("enable")},templateName:"address-add"})}.call(this),function(){App.AddressEditView=App.BaseView.extend({didInsertElement:function(){var _this=this;this._super(),this.get("controller.controllers.application").mixpanel("View - Address Edit Viewed"),$("html.touch").swipe("disable"),setTimeout(function(){return _this.autocomplete=new google.maps.places.Autocomplete(document.getElementById("editAddressAddress"),{types:["geocode"]}),google.maps.event.addListener(_this.autocomplete,"place_changed",function(){var component,street,streetNumber,zip,_i,_len,_ref;for(streetNumber="",street="",zip="",_ref=_this.autocomplete.getPlace().address_components,_i=0,_len=_ref.length;_len>_i;_i++)component=_ref[_i],null!=component.types&&("street_number"===component.types[0]?streetNumber=component.long_name:"route"===component.types[0]?street=component.long_name:"postal_code"===component.types[0]&&(zip=component.long_name));return _this.get("controller.content").setProperties({address:streetNumber+" "+street,zip:zip})})},2e3)},willDestroyElement:function(){return $("html.touch").swipe("enable")},templateName:"address-edit",autocomplete:null})}.call(this),function(){App.AddressesView=App.BaseView.extend({didInsertElement:function(){return this._super(),this.get("controller.controllers.application").mixpanel("View - Addresses Viewed")},templateName:"addresses"})}.call(this),function(){App.CouponView=App.BaseView.extend({didInsertElement:function(){return this._super(),this.get("controller.controllers.application").mixpanel("View - Coupon Viewed")},templateName:"coupon"})}.call(this),function(){App.CreditCardAddView=App.BaseView.extend({didInsertElement:function(){this._super(),this.get("controller.controllers.application").mixpanel("View - Credit Card Add Viewed"),$("#numberCC").focus()},templateName:"credit-card-add"})}.call(this),function(){App.CreditCardEditView=App.BaseView.extend({didInsertElement:function(){return this._super(),this.get("controller.controllers.application").mixpanel("View - Credit Card Edit Viewed")},templateName:"credit-card-edit"})}.call(this),function(){App.CreditCardsView=App.BaseView.extend({didInsertElement:function(){return this._super(),this.get("controller.controllers.application").mixpanel("View - Credit Cards Viewed")},templateName:"credit-cards"})}.call(this),function(){App.DealsView=App.BaseNoSidebarView.extend({templateName:"deals",didInsertElement:function(){var _ouibounce,_this=this;return this._super(),this.get("controller.controllers.application").mixpanel("View - Deals Viewed"),$(".carousel").carousel("pause"),$("#cycle").cycle({fx:"fade",pause:1}),$(".green-buy").click(function(){$("#ouibounceDealsModal").remove()}),this.set("handler",StripeCheckout.configure({key:App.stripeApiKey,image:"/square-image.png",token:function(token){_this.get("controller").saveDeal(token)}})),_ouibounce=ouibounce(document.getElementById("ouibounceDealsModal"),{aggressive:!0,timer:0,callback:function(){console.log("ouibounce fired!"),$("#ouibounceDealsModal").modal("show")}}),ouibounce($("#ouibounceDealsModal")[0]),$(function(){var currentDate,day,month,newYear,note,ts,year;note=$("#note"),currentDate=new Date((new Date).getTime()+864e5),day=currentDate.getDate(),month=currentDate.getMonth(),year=currentDate.getFullYear(),ts=new Date(year,month,day),newYear=!1,new Date>ts&&(ts=(new Date).getTime()+135e5,newYear=!1,console.log(ts)),$("#countdown").countdown({timestamp:ts}),$("#countdownModal").countdown({timestamp:ts}),$("#countdownMobile").countdown({timestamp:ts})}),function($){var days,hours,init,minutes,switchDigit;init=function(elem){elem.addClass("countdownHolder"),$.each(["Days","Hours","Minutes","Seconds"],function(i){$('<span class="count'+this+'">').html('<span class="position">					<span class="digit static">0</span>				</span>				<span class="position">					<span class="digit static">0</span>				</span>').appendTo(elem),"Seconds"!==this&&elem.append('<span class="countDiv countDiv'+i+'"></span>')})},switchDigit=function(position,number){var digit,replacement;return digit=position.find(".digit"),digit.is(":animated")?!1:position.data("digit")===number?!1:(position.data("digit",number),replacement=$("<span>",{"class":"digit",css:{top:"-2.1em",opacity:0},html:number}),digit.before(replacement).removeClass("static").animate({top:"2.5em",opacity:0},"fast",function(){digit.remove()}),replacement.delay(100).animate({top:0,opacity:1},"fast",function(){replacement.addClass("static")}),void 0)},days=86400,hours=3600,minutes=60,$.fn.countdown=function(prop){var d,h,left,m,options,positions,s,tick,updateDuo;return updateDuo=function(minor,major,value){switchDigit(positions.eq(minor),Math.floor(value/10)%10),switchDigit(positions.eq(major),value%10)},options=$.extend({callback:function(){},timestamp:0},prop),left=void 0,d=void 0,h=void 0,m=void 0,s=void 0,positions=void 0,init(this,options),positions=this.find(".position"),(tick=function(){left=Math.floor((options.timestamp-new Date)/1e3),0>left&&(left=0),d=Math.floor(left/days),updateDuo(0,1,d),left-=d*days,h=Math.floor(left/hours),updateDuo(2,3,h),left-=h*hours,m=Math.floor(left/minutes),updateDuo(4,5,m),left-=m*minutes,s=left,updateDuo(6,7,s),options.callback(d,h,m,s),setTimeout(tick,1e3)})(),this}}(jQuery)},willDestroyElement:function(){return $("body").removeClass("deals-body")},handler:null,showCharge:function(item){this.get("controller").set("selectedDeal",item),this.get("handler").open({name:item.get("name2"),description:item.get("description2"),amount:100*item.get("amount"),image:"http://washio-email-templates.s3.amazonaws.com/stripe-logo.png",allowRememberMe:!1})}})}.call(this),function(){App.ForgotPasswordView=App.BaseNoSidebarView.extend({didInsertElement:function(){return this._super(),this.get("controller.controllers.application").mixpanel("View - Forgot Password Viewed")},templateName:"forgot-password"})}.call(this),function(){App.GiftCardCompleteView=App.BaseView.extend({didInsertElement:function(){return this._super(),this.get("controller.controllers.application").mixpanel("View - Gift Card Complete Viewed")},templateName:"gift-card-complete"})}.call(this),function(){App.GiftCardView=App.BaseView.extend({didInsertElement:function(){return this._super(),this.get("controller.controllers.application").mixpanel("View - Gift Card Viewed"),$("#forgotPasswordEmail").focus()},templateName:"gift-card"})}.call(this),function(){App.HelpCallView=App.BaseView.extend({didInsertElement:function(){return this._super(),this.get("controller.controllers.application").mixpanel("View - Help Call Viewed")},templateName:"help-call"})}.call(this),function(){App.HelpEulaView=App.BaseView.extend({didInsertElement:function(){return this._super(),this.get("controller.controllers.application").mixpanel("View - Help EULA Viewed")},templateName:"help-eula"})}.call(this),function(){App.HelpFaqView=App.BaseView.extend({didInsertElement:function(){return this._super(),this.get("controller.controllers.application").mixpanel("View - Help FAQ Viewed")},templateName:"help-faq"})}.call(this),function(){App.HelpFeedbackView=App.BaseView.extend({didInsertElement:function(){return this._super(),this.get("controller.controllers.application").mixpanel("View - Help Feedback Viewed")},templateName:"help-feedback"})}.call(this),function(){App.HelpHowView=App.BaseNoSidebarView.extend({didInsertElement:function(){var container,containerWidth;return this._super(),container=$(".how-it-works"),$(".wrapper").addClass("how-container"),$(".how-it-works .close").click(function(){$(".wrapper").removeClass("how-container")}),App.sliderHIW=$(".bxslider").bxSlider({infiniteLoop:!1,controls:!0}),containerWidth=$(window).width(),$(".bxslider li",container).width(containerWidth),$(document).ready(function(){return $(window).resize(function(){return $(window).width()>640&&$(".bxslider li p").css("font-size","20px"),640>$(window).width()?$(".bxslider li p").css("font-size","12px"):void 0}),$(window).width()>640?$(".bxslider li p").css("font-size","20px"):void 0}),$(document).keydown(function(e){return 37===e.keyCode?$(".bx-prev",container).click():39===e.keyCode?$(".bx-next",container).click():void 0})},templateName:"help-how"})}.call(this),function(){App.HelpPrivacyView=App.BaseView.extend({didInsertElement:function(){return this._super(),this.get("controller.controllers.application").mixpanel("View - Help Privacy Policy Viewed")},templateName:"help-privacy"})}.call(this),function(){App.HelpTermsView=App.BaseView.extend({didInsertElement:function(){return this._super(),this.get("controller.controllers.application").mixpanel("View - Help Terms of Service Viewed")},templateName:"help-terms"})}.call(this),function(){App.HelpView=App.BaseView.extend({didInsertElement:function(){return this._super(),this.get("controller.controllers.application").mixpanel("View - Help Viewed")},templateName:"help"})}.call(this),function(){App.IndexView=App.BaseView.extend({didInsertElement:function(){return this._super(),this.get("controller.controllers.application").mixpanel("View - Index Viewed")},templateName:"index"})}.call(this),function(){App.InputRadioView=Ember.View.extend({type:"radio",tagName:"input",disabled:!1,selection:null,attributeBindings:["name","type","value","checked:checked"],didInsertElement:function(){this._super(),this.get("disabled")&&this.$().attr("disabled","disabled")},click:function(){this.set("selection",this.$().val())},checked:function(){return this.get("value")===this.get("selection")}.property("selection")})}.call(this),function(){App.NavigationView=App.BaseView.extend({needs:["signin"],templateName:"navigation",didInsertElement:function(){var _this=this;this._super(),$(".navbar-toggle").click(function(){return $(".cog").toggleClass("cog-rotate-down")}),$("#bs-example-navbar-collapse-1 a").click(function(){return $("#bs-example-navbar-collapse-1").removeClass("in")}),this.$(".menu-toggle").click(function(){var fullScreen;$(".wrapper").toggleClass("active"),_this.get("controller.controllers.application")&&(fullScreen=_this.get("controller.controllers.application.fullScreen"),_this.get("controller.controllers.application").setProperties({fullScreen:!fullScreen,forceShowHeader:!0}))})}})}.call(this),function(){App.OrderCompleteView=App.BaseView.extend({templateName:"order-complete",didInsertElement:function(){var _this=this;this._super(),$(".star-rating").raty({path:"/img/",click:function(score){_this.set("controller.orderRating.score",score)}})}})}.call(this),function(){App.OrderDetailView=App.BaseView.extend({didInsertElement:function(){return this._super()},templateName:"order-detail"})}.call(this),function(){App.OrderHistoryView=App.BaseView.extend({didInsertElement:function(){return this._super()},templateName:"order-history"})}.call(this),function(){App.OrderStatusView=App.BaseView.extend({didInsertElement:function(){var _this=this;return this._super(),this.get("controller.controllers.application").log("didInsertElement called","App.OrderStatusView.didInsertElement"),this.get("controller.controllers.application").mixpanel("View - Order Status Viewed"),this.set("statusInterval",setInterval(function(){return _this.get("controller.controllers.application").log("checking order status","App.OrderStatusView.didInsertElement"),_this.get("controller").getOrder(_this.get("controller.content.id")).then(function(){return _this.get("controller.content.orderStatus.isCancelled")?(_this.get("controller.controllers.application").log("order cancelled","App.OrderStatusView.didInsertElement"),_this.get("controller").transitionToRoute("order")):_this.get("controller.content.orderStatus.isComplete")?(_this.get("controller.controllers.application").log("order complete","App.OrderStatusView.didInsertElement"),setTimeout(function(){return _this.get("controller").orderComplete()},5e3)):void 0})},1e4))},willDestroyElement:function(){return this._super(),this.get("controller.controllers.application").log("willDestroyElement called","App.OrderStatusView.willDestoryElement"),clearInterval(this.statusInterval)},templateName:"order-status",statusInterval:null})}.call(this),function(){App.OrderView=App.BaseView.extend({templateName:"order",didInsertElement:function(){return this._super(),this.get("controller.controllers.application").mixpanel("View - Order Viewed")}})}.call(this),function(){App.PricesView=App.BaseView.extend({didInsertElement:function(){var $priceSMS,$priceSMSsubmit,$search;return this.$().find(".filter").length>0?(this._super(),this.get("controller.controllers.application").mixpanel("View - Prices Viewed"),$search=$("#search-items"),$priceSMSsubmit=$("#priceSMSsubmit"),$priceSMS=$("#priceSMS"),$search.focus(),$("#pricesSMS").inputmask({mask:"999-999-9999"}),$(".modalClose").click(function(){return $("#ouibouncePricesModal").modal("hide")}),this.ouibounce(),this.sendSMS($priceSMSsubmit,$priceSMS)):Ember.run.next(this,function(){return this.didInsertElement()})},willDestroyElement:function(){var $container;return $container=$("#mixitup-container"),$("html").removeClass("prices-body"),this.get("controller").destroyMixitup($container)},ouibounce:function(){var _ouibounce;return _ouibounce=ouibounce(document.getElementById("ouibouncePricesModal"),{aggressive:!0,timer:0,callback:function(){$("#ouibouncePricesModal").modal("show"),$(".modal-header h1").fitText(1.2,{minFontSize:"32px",maxFontSize:"60px"}),$(".modal-header h3").fitText(1.2,{minFontSize:"24px",maxFontSize:"36px"})}}),ouibounce($("#ouibouncePricesModal")[0])},sendSMS:function(button){return button.click(function(){$(this).text("Sending...").css({color:"#009bf5",background:"none",border:"2px solid #009bf5"}),$.ajax({type:"POST",url:"/api/sms/app/share",data:{phone:$("#pricesSMS").val()},success:function(data){data={phoneNumber:$("#pricesSMS").val()},console.log("success from the View"),$("#sms-unsent").fadeToggle("fast",function(){$("#sms-sent").slideToggle()})},error:function(){alert("Oops, there was an error.")}})})},templateName:"prices"})}.call(this),function(){App.ReferenceView=App.BaseView.extend({templateName:"reference",didInsertElement:function(){this._super(),edPutsTogetherListOfUIControls()}})}.call(this),function(){App.RegisterAddressView=App.BaseNoSidebarView.extend({didInsertElement:function(){var _this=this;this._super(),this.get("controller.controllers.application").mixpanel("View - Register Address Viewed"),$("html.touch").swipe("disable"),$("#registerAddress").focus(),setTimeout(function(){return _this.autocomplete=new google.maps.places.Autocomplete(document.getElementById("registerAddress"),{types:["geocode"]}),google.maps.event.addListener(_this.autocomplete,"place_changed",function(){var component,street,streetNumber,zip,_i,_len,_ref;for(streetNumber="",street="",zip="",_ref=_this.autocomplete.getPlace().address_components,_i=0,_len=_ref.length;_len>_i;_i++)component=_ref[_i],null!=component.types&&("street_number"===component.types[0]?streetNumber=component.long_name:"route"===component.types[0]?street=component.long_name:"postal_code"===component.types[0]&&(zip=component.long_name));return _this.get("controller.content").setProperties({address:streetNumber+" "+street,zip:zip})})},2e3),Ember.run.next(this,function(){this.$("#registerAddress").focus()})},willDestroyElement:function(){return $("html.touch").swipe("enable")},templateName:"register-address",autocomplete:null})}.call(this),function(){App.RegisterCompleteView=App.BaseNoSidebarView.extend({didInsertElement:function(){return this._super(),this.get("controller.controllers.application").mixpanel("View - Register Complete Viewed")},templateName:"register-complete"})}.call(this),function(){App.RegisterCouponView=App.BaseNoSidebarView.extend({didInsertElement:function(){return this._super(),this.get("controller.controllers.application").mixpanel("View - Register Coupon Viewed")},templateName:"register-coupon"})}.call(this),function(){App.RegisterCreditCardView=App.BaseNoSidebarView.extend({didInsertElement:function(){this._super(),this.get("controller.controllers.application").mixpanel("View - Register Credit Card Viewed"),$("#creditCardNumber").focus()},templateName:"register-credit-card"})}.call(this),function(){App.RegisterFacebookView=App.BaseNoSidebarView.extend({didInsertElement:function(){this._super(),this.get("controller.controllers.application").mixpanel("View - Register Facebook Viewed"),this.setInputPhoneMask()},templateName:"register-facebook"})}.call(this),function(){App.RegisterView=App.BaseNoSidebarView.extend({templateName:"register",didInsertElement:function(){this._super(),this.get("controller.controllers.application").mixpanel("View - Register Viewed"),$("#registerEmail").focus(),this.setInputPhoneMask()}})}.call(this),function(){App.SettingsView=App.BaseView.extend({didInsertElement:function(){return this._super(),this.get("controller.controllers.application").mixpanel("View - Settings Viewed")},templateName:"settings"})}.call(this),function(){App.ShareView=App.BaseView.extend({didInsertElement:function(){return this._super(),this.get("controller.controllers.application").mixpanel("View - Share Viewed")},templateName:"share"})}.call(this),function(){App.SidebarView=App.BaseView.extend({needs:["signin"],templateName:"sidebar",didInsertElement:function(){this._super()}})}.call(this),function(){App.SigninView=App.BaseNoSidebarView.extend({didInsertElement:function(){return this._super(),this.get("controller.controllers.application").mixpanel("View - Signin Viewed"),$(".modal-backdrop").css("display","none"),$("html").addClass("signin-page")},templateName:"signin",willDestroyElement:function(){return $("html").removeClass("signin-page")},emailTextField:Ember.TextField.extend({insertNewline:function(){return this.get("controller").sendForgotPassword()},keyUp:function(){return this.get("controller").validateEmail()}})})}.call(this),function(){App.SmartBannerView=App.BaseNoSidebarView.extend({templateName:"smartBanner",didInsertElement:function(){return this._super(),$("html").hasClass("touch")?($("#smart-banner").delay(1500).slideDown(),$("#banner-close").click(function(){$("#smart-banner").slideUp()})):void 0}})}.call(this),function(){App.UpcomingOrdersView=App.BaseView.extend({didInsertElement:function(){return this._super(),this.get("controller.controllers.application").mixpanel("View - Upcoming Orders Viewed")},templateName:"upcoming-orders"})}.call(this);